<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>xfs | 无常无相无功;不动不破不空</title><meta name="keywords" content="xfs"><meta name="author" content="Homer"><meta name="copyright" content="Homer"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta name="description" content="reference format1234567891011#Warning: AG size is a multiple of stripe width. This can cause performance problems by aligning all AGs on the same disk. To avoid this, run mkfs with an AG size that is">
<meta property="og:type" content="article">
<meta property="og:title" content="xfs">
<meta property="og:url" content="http://yoursite.com/2019/11/26/xfs/index.html">
<meta property="og:site_name" content="无常无相无功;不动不破不空">
<meta property="og:description" content="reference format1234567891011#Warning: AG size is a multiple of stripe width. This can cause performance problems by aligning all AGs on the same disk. To avoid this, run mkfs with an AG size that is">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://homerl.github.io/img/hard-disk_223cf.jpg">
<meta property="article:published_time" content="2019-11-26T08:12:19.000Z">
<meta property="article:modified_time" content="2022-08-01T08:33:41.277Z">
<meta property="article:author" content="Homer">
<meta property="article:tag" content="xfs">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://homerl.github.io/img/hard-disk_223cf.jpg"><link rel="shortcut icon" href="/img/stout-shield.png"><link rel="canonical" href="http://yoursite.com/2019/11/26/xfs/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><script>var GLOBAL_CONFIG = { 
  root: '/',
  hexoversion: '5.2.0',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"We didn't find any results for the search: ${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  ClickShowText: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  justifiedGallery: {
    js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
    css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
};

var saveToLocal = {
  set: function setWithExpiry(key, value, ttl) {
    const now = new Date()
    const expiryDay = ttl * 86400000
    const item = {
      value: value,
      expiry: now.getTime() + expiryDay,
    }
    localStorage.setItem(key, JSON.stringify(item))
  },

  get: function getWithExpiry(key) {
    const itemStr = localStorage.getItem(key)

    if (!itemStr) {
      return undefined
    }
    const item = JSON.parse(itemStr)
    const now = new Date()

    if (now.getTime() > item.expiry) {
      localStorage.removeItem(key)
      return undefined
    }
    return item.value
  }
}</script><script id="config_change">var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isSidebar: true,
  postUpdate: '2022-08-01 16:33:41'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(function () {
  window.activateDarkMode = function () {
    document.documentElement.setAttribute('data-theme', 'dark')
    if (document.querySelector('meta[name="theme-color"]') !== null) {
      document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
    }
  }
  window.activateLightMode = function () {
    document.documentElement.setAttribute('data-theme', 'light')
    if (document.querySelector('meta[name="theme-color"]') !== null) {
      document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
    }
  }

  const autoChangeMode = 'false'
  const t = saveToLocal.get('theme')
  if (autoChangeMode === '1') {
    const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
    const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
    const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
    const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

    if (t === undefined) {
      if (isLightMode) activateLightMode()
      else if (isDarkMode) activateDarkMode()
      else if (isNotSpecified || hasNoSupport) {
        const now = new Date()
        const hour = now.getHours()
        const isNight = hour <= 6 || hour >= 18
        isNight ? activateDarkMode() : activateLightMode()
      }
      window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
        if (saveToLocal.get('theme') === undefined) {
          e.matches ? activateDarkMode() : activateLightMode()
        }
      })
    } else if (t === 'light') activateLightMode()
    else activateDarkMode()
  } else if (autoChangeMode === '2') {
    const now = new Date()
    const hour = now.getHours()
    const isNight = hour <= 6 || hour >= 18
    if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
    else if (t === 'light') activateLightMode()
    else activateDarkMode()
  } else {
    if (t === 'dark') activateDarkMode()
    else if (t === 'light') activateLightMode()
  }
})()</script><meta name="generator" content="Hexo 5.2.0"><link rel="alternate" href="/atom.xml" title="无常无相无功;不动不破不空" type="application/atom+xml">
</head><body><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="/img/fighting-spiri-logot.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">Articles</div><div class="length_num">57</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">Tags</div><div class="length_num">57</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">Categories</div><div class="length_num">7</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></li><li><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></li><li><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div id="body-wrap"><div id="sidebar"><i class="fas fa-arrow-right on" id="toggle-sidebar"></i><div class="sidebar-toc"><div class="sidebar-toc__title">Catalog</div><div class="sidebar-toc__progress"><span class="progress-notice">You've read</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-4"><a class="toc-link" href="#format"><span class="toc-number">1.</span> <span class="toc-text">format</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Grow"><span class="toc-number">2.</span> <span class="toc-text">Grow</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Suspend-file-system"><span class="toc-number">3.</span> <span class="toc-text">Suspend file system</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Quota"><span class="toc-number">4.</span> <span class="toc-text">Quota</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Backup-and-restore"><span class="toc-number">5.</span> <span class="toc-text">Backup and restore</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Compare-with-ext4"><span class="toc-number">6.</span> <span class="toc-text">Compare with ext4</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Defragment"><span class="toc-number">7.</span> <span class="toc-text">Defragment</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#xfs-admin"><span class="toc-number">8.</span> <span class="toc-text">xfs_admin</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Repair"><span class="toc-number">9.</span> <span class="toc-text">Repair</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Recover-file"><span class="toc-number">10.</span> <span class="toc-text">Recover file</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#xfs-estimate"><span class="toc-number"></span> <span class="toc-text">xfs_estimate</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#xfs-info"><span class="toc-number"></span> <span class="toc-text">xfs_info</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#xfs-logprint"><span class="toc-number"></span> <span class="toc-text">xfs_logprint</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#About-barriers"><span class="toc-number">1.</span> <span class="toc-text">About barriers</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#The-file-block"><span class="toc-number"></span> <span class="toc-text">The file block</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#copy-from-this-article"><span class="toc-number"></span> <span class="toc-text">copy from this article</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#superblock"><span class="toc-number"></span> <span class="toc-text">superblock</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#inode"><span class="toc-number"></span> <span class="toc-text">inode</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#directory"><span class="toc-number"></span> <span class="toc-text">directory</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#re-test-xfs"><span class="toc-number"></span> <span class="toc-text">re-test xfs</span></a></div></div></div><header class="post-bg" id="page-header" style="background-image: url(https://homerl.github.io/img/hard-disk_223cf.jpg)"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">无常无相无功;不动不破不空</a></span><span id="menus"><div id="search_button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> Search</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></li><li><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></li><li><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><span class="close" id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></span></span></nav><div id="post-info"><div id="post-title"><div class="posttitle">xfs</div></div><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2019-11-26T08:12:19.000Z" title="Created 2019-11-26 16:12:19">2019-11-26</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2022-08-01T08:33:41.277Z" title="Updated 2022-08-01 16:33:41">2022-08-01</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Storage/">Storage</a></span></div><div class="meta-secondline"> <span class="post-meta-separator">|</span><span class="post-meta-pv-cv"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post View:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout_post" id="content-inner"><article id="post"><div class="post-content" id="article-container"><p><a target="_blank" rel="noopener" href="http://fibrevillage.com/storage">reference</a></p>
<h4 id="format"><a href="#format" class="headerlink" title="format"></a>format</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#Warning: AG size is a multiple of stripe width. This can cause performance problems by aligning all AGs on the same disk. To avoid this, run mkfs with an AG size that is one stripe unit smaller, for example xxxxxx</span></span><br><span class="line"><span class="comment"># that means you can&#x27;t set agcount by youself through</span></span><br><span class="line">reference : https://knowledge.autodesk.com/support/flame-products/learn-explore/caas/sfdcarticles/sfdcarticles/Configuring-a-Logical-Volume-for-Flame-Media-Storage-Step-3.html</span><br><span class="line"></span><br><span class="line"><span class="comment">#Raid 60  24 HDD ，12HDD/per raid6   （12-2）× 2 ， Raid stripe size 64KB</span></span><br><span class="line">$ mkfs.xfs -f -d sunit=64,swidth=$((<span class="number">64</span>*<span class="number">20</span>)) /dev/sdxx1</span><br><span class="line"><span class="comment">#su: Stripe unit, which is the RAID chunk size, in bytes</span></span><br><span class="line"><span class="comment">#sw: Multiplier of the stripe unit, i.e. number of data disks</span></span><br><span class="line"></span><br><span class="line">$ mkfs.xfs /dev/device</span><br><span class="line">$ mkfs. xfs -d su= 64k,sw= 4 /dev/device</span><br></pre></td></tr></table></figure>
<p>su = value<br>    Specifies a stripe unit or RAID chunk size. The value must be specified in bytes, with an optional k, m, or g suffix.<br>sw= value<br>    Specifies the number of data disks in a RAID device, or the number of stripe units in the stripe.</p>
<a id="more"></a>

<h4 id="Grow"><a href="#Grow" class="headerlink" title="Grow"></a>Grow</h4><p>While XFS file systems can be grown while mounted</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ xfs_growfs /mount/point -D size</span><br></pre></td></tr></table></figure>

<h4 id="Suspend-file-system"><a href="#Suspend-file-system" class="headerlink" title="Suspend file system"></a>Suspend file system</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ xfs_freeze -f /mount/point</span><br><span class="line"></span><br><span class="line"><span class="comment">#unfreeze</span></span><br><span class="line">$ xfs_freeze -u /mount/point</span><br></pre></td></tr></table></figure>
<p>When taking an LVM snapshot, it is not necessary to use xfs_freeze to suspend the file system first.</p>
<h4 id="Quota"><a href="#Quota" class="headerlink" title="Quota"></a>Quota</h4><p>uquota User quotas<br>gquota Group quotas<br>pquota Project quota</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ mount -o uquota /dev/mapper/LUN13 /lun13</span><br><span class="line">$ xfs_quota  /lun13</span><br><span class="line">$ xfs_quota -x -c <span class="string">&#x27;limit isoft=500 ihard=700 trteam&#x27;</span> /lun13</span><br><span class="line">$ xfs_quota -x -c <span class="string">&#x27; limit -g bsoft=1000 m bhard=1200m test &#x27;</span> /lun13</span><br><span class="line"></span><br><span class="line"><span class="comment"># report</span></span><br><span class="line">$ xfs_quota -x -c <span class="string">&#x27;report -bih&#x27;</span> /lun13</span><br><span class="line"></span><br><span class="line"><span class="comment">#project quota</span></span><br><span class="line">$ xfs_quota -x -c <span class="string">&#x27; project -s projectname&#x27;</span> project_path</span><br><span class="line">$ xfs_quota -x -c <span class="string">&#x27; limit -p bsoft=1000m bhard=1200m projectname&#x27;</span></span><br></pre></td></tr></table></figure>

<h4 id="Backup-and-restore"><a href="#Backup-and-restore" class="headerlink" title="Backup and restore"></a>Backup and restore</h4><p>To perform a full backup, perform a level 0 dump on the file system.<br>A level 1 dump is the first incremental backup after a full backup. The next incremental backup would be level 2, which only backs up files that have changed since the last level 1 dump; and so on, to a maximum of level 9.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">$ xfsdump -l level [-L label] -f backup-destination path-to-xfs-filesystem</span><br><span class="line">$ xfsdump -l 0 -f /backup-files/data.xfsdump /data</span><br><span class="line">$ xfsdump -l 0 -L <span class="string">&quot;backup_data&quot;</span> -f /dev/st0 /data</span><br><span class="line"></span><br><span class="line"><span class="comment"># restore</span></span><br><span class="line">$ xfsrestore [-r] [-S session-id] [-L session-label] [-i] -f backup-location restoration-path</span><br><span class="line">$ xfsrestore -f /backup-files/data.xfsdump /mnt/data/</span><br><span class="line">$ xfsrestore -f /dev/st0 -L <span class="string">&quot;backup_data&quot;</span> /mnt/data/</span><br><span class="line"></span><br><span class="line">$ xfsrestore -I <span class="comment"># get the session ID</span></span><br><span class="line">$ xfsrestore -f /dev/st0 -S <span class="string">&quot;45e9af35-efd2-4244-87bc-4762e476cbab&quot;</span> /mnt/data/</span><br><span class="line"></span><br><span class="line">$ xfs_metadump /dev/mapper/vg0-data /home/vg0-data.metadump</span><br><span class="line">$ xfs_mdrestore /home/vg0-data.metadump /home/vg0-data.img</span><br></pre></td></tr></table></figure>

<h4 id="Compare-with-ext4"><a href="#Compare-with-ext4" class="headerlink" title="Compare with ext4"></a>Compare with ext4</h4><table>
<thead>
<tr>
<th>Task</th>
<th>Ext3/4</th>
<th>XFS</th>
</tr>
</thead>
<tbody><tr>
<td>File System check</td>
<td>e2fsck</td>
<td>xfs_repair</td>
</tr>
<tr>
<td>REsizing a File System</td>
<td>resize2fs</td>
<td>xfs_growfs</td>
</tr>
<tr>
<td>Save an image of a file system</td>
<td>e2image</td>
<td>xfs_metadump and xfs_mdrestore</td>
</tr>
<tr>
<td>Label or tune a File System</td>
<td>tune2fs</td>
<td>xfs_admin</td>
</tr>
<tr>
<td>Backup a File System</td>
<td>dump and restore</td>
<td>xfsdump xfsrestore</td>
</tr>
</tbody></table>
<h4 id="Defragment"><a href="#Defragment" class="headerlink" title="Defragment"></a>Defragment</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ xfs_db -r  /dev/sdb</span><br><span class="line">$ xfs_db&gt; frag</span><br><span class="line"></span><br><span class="line"><span class="comment"># Defragment</span></span><br><span class="line">$ xfs_fsr -t 3600  -v /lun10</span><br></pre></td></tr></table></figure>
<h4 id="xfs-admin"><a href="#xfs-admin" class="headerlink" title="xfs_admin"></a>xfs_admin</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ xfs_admin -l /dev/sdb</span><br><span class="line">$ xfs_admin -L <span class="string">&quot;data&quot;</span> /dev/sdb</span><br><span class="line"></span><br><span class="line">$ xfs_admin -u /dev/sdb</span><br><span class="line">$ xfs_admin -U generate-id /dev/sdb</span><br><span class="line">$ xfs_admin -U nil /dev/sdb</span><br><span class="line"></span><br><span class="line">$ xfs_admin -c 0 /dev/sdb</span><br><span class="line"></span><br><span class="line"><span class="comment">#Enable xfs lazy counters</span></span><br><span class="line">$ xfs_admin -c 1 /dev/sdb</span><br></pre></td></tr></table></figure>

<h4 id="Repair"><a href="#Repair" class="headerlink" title="Repair"></a>Repair</h4><p>-n     No modify mode. Specifies that xfs_repair should not modify the filesystem  but  should  only  scan the filesystem and indicate what repairs would have been made</p>
<p>-L The xfs_repair utility cannot repair an XFS file system with a dirty log. To clear the log, mount and unmount the XFS file system. force log zeroing to clean log<br>-v option gives you xfs_repair verbose outpt, inaddition to the regular repair message +extra verbosity, it has a summary for each repair phase.<br>-d Repair  dangerously.  Allow  xfs_repair to repair an XFS filesystem mounted read only. This is typically done on a root filesystem from single user mode, immediately followed by a reboot.<br>-l option, external log<br>-f Specifies  that  the  filesystem  image  to  be processed is stored in a regular file at device (see the mkfs.xfs -d file option). This might happen if an image copy of a filesystem has been copied or written into an ordinary file.  This option implies that any external log or realtime section is also in an ordinary file.<br>-P option, disable prefetching<br>-t interval Modify reporting interval, specified in seconds. During long runs xfs_repair outputs its progress every 15 minutes. Reporting is only activated when ag_stride is enabled.<br>-m Specifies the approximate maximum amount of memory, in megabytes, to use for xfs_repair.  xfs_repair has its own internal block cache which  will  scale  out  up  to  the lesser of the process’s virtual address limit or about 75% of the system’s physical RAM.  This option overrides these limits. NOTE: These memory limits are only approximate and may use more than the specified limit</p>
<p>If xfs_repair failed in phase 1, you must restore lost files from backups.<br>If xfs_repair failed in phase 2 or later, you may be able to restore files from the disk by backing up and restoring the files on the file system<br>    * Mount the file system using mount -r (read-only).<br>    * Make a file system backup with xfsdump.<br>    * Use mkfs to a make new file system on the same disk partition or XLV logical volume.<br>    * Restore the files from the backup with xfsrestore.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ mount -r /dev/sdb /mnt</span><br><span class="line">$ mount /dev/sdb /mnt -o norecover</span><br></pre></td></tr></table></figure>


<p>Without any option, xfs_repair will check and repair errors that it encounters.</p>
<figure class="highlight smali"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">$ xfs_repair -n /dev/device</span><br><span class="line">Phase 1 - find<span class="built_in"> and </span>verify superblock...</span><br><span class="line">Phase 2 - using internal log</span><br><span class="line">        - scan filesystem freespace<span class="built_in"> and </span>inode maps...</span><br><span class="line">        - found root inode chunk</span><br><span class="line">Phase 3 - for each AG...</span><br><span class="line">        - scan (but don&#x27;t clear) agi unlinked lists...</span><br><span class="line">        - process known inodes<span class="built_in"> and </span>perform inode discovery...</span><br><span class="line">        - agno = 0</span><br><span class="line">        - agno = 1</span><br><span class="line">        - agno = 2</span><br><span class="line">        - agno = 3</span><br><span class="line">        - process newly discovered inodes...</span><br><span class="line">Phase 4 -<span class="built_in"> check </span>for duplicate blocks...</span><br><span class="line">        - setting up duplicate extent list...</span><br><span class="line">        -<span class="built_in"> check </span>for inodes claiming duplicate blocks...</span><br><span class="line">        - agno = 0</span><br><span class="line">        - agno = 1</span><br><span class="line">        - agno = 2</span><br><span class="line">        - agno = 3</span><br><span class="line">No modify flag set, skipping phase 5</span><br><span class="line">Phase 6 -<span class="built_in"> check </span>inode connectivity...</span><br><span class="line">        - traversing filesystem ...</span><br><span class="line">        - traversal finished ...</span><br><span class="line">        - moving disconnected inodes to lost+found ...</span><br><span class="line">Phase 7 - verify link counts...</span><br><span class="line">No modify flag set, skipping filesystem flush<span class="built_in"> and </span>exiting.</span><br><span class="line"></span><br><span class="line">$ xfs_repair -L /dev/device</span><br><span class="line">$ xfs_repair -d /</span><br></pre></td></tr></table></figure>
<ol>
<li>Inode  and inode blockmap (addressing) checks:bad magic number  in inode, bad magic numbers in inode blockmap  blocks,  extents out  of  order,  incorrect  number of records in inode blockmap blocks, blocks claimed that are not in a legal data area of the filesystem, blocks that are claimed by more than one inode.</li>
<li>Inode  allocation  map  checks:bad  magic number in inode map blocks, inode state as indicated by map (free or in-use) inconsistent with state indicated by the inode, inodes referenced by the filesystem that do not appear in the inode allocation  map, inode  allocation  map referencing blocks that do not appear to contain inodes.</li>
<li>Size checks:number of blocks  claimed  by  inode  inconsistent with  inode  size, directory size not block aligned, inode size not consistent with inode format.</li>
<li>Directory checks:bad magic numbers in directory blocks, incorrect  number  of  entries  in  a directory block, bad freespace information in a directory leaf block,  entry  pointing  to  an unallocated  (free) or out of range inode, overlapping entries, missing or incorrect dot and dotdot  entries,  entries  out  of hashvalue  order, incorrect internal directory pointers, directory type not consistent with inode format and size.</li>
<li>Pathname checks:files or directories not referenced by a pathname starting from the filesystem root, illegal pathname components.</li>
<li>Link count checks:link counts that do not agree with the  number of directory references to the inode.</li>
<li>Freemap  checks: blocks  claimed  free by the freemap but also claimed by an inode, blocks unclaimed  by  any  inode  but  not appearing in the freemap.</li>
<li>Super  Block  checks: total free block and/or free i-node count incorrect, filesystem geometry inconsistent, secondary and primary superblocks contradictory.</li>
</ol>
<h4 id="Recover-file"><a href="#Recover-file" class="headerlink" title="Recover file"></a>Recover file</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line">$ ls -ih</span><br><span class="line">70179 -r-xr-xr-x 1 testuser testuser    0 Jan 10  2013 report.htm</span><br><span class="line"></span><br><span class="line">$ xfs_db -r /dev/sdb -c <span class="string">&quot;inode 70179&quot;</span> -c <span class="string">&quot;bmap&quot;</span></span><br><span class="line">data offset 0 startblock 2459337662 (9/43418558) count 1 flag 0a</span><br><span class="line"></span><br><span class="line">$ agblocks=$(xfs_db -r /dev/sdb1 -c sb -c p | grep ^agblocks | sed <span class="string">&#x27;s/.* = //&#x27;</span>)</span><br><span class="line">$ <span class="built_in">echo</span> <span class="variable">$agblocks</span></span><br><span class="line">268435455</span><br><span class="line">$ agcount=$(xfs_db -r /dev/sdb1 -c sb -c p | awk <span class="string">&#x27;$0~/agcount/&#123;print $3&#125;&#x27;</span>)</span><br><span class="line">$ <span class="built_in">echo</span> <span class="variable">$agcount</span></span><br><span class="line">9</span><br><span class="line">$ b=43418558</span><br><span class="line">$ c=1</span><br><span class="line">$ <span class="built_in">echo</span> $((<span class="variable">$agblocks</span>*<span class="variable">$agcount</span>+<span class="variable">$b</span>)) </span><br><span class="line">2459337653</span><br><span class="line">$ <span class="built_in">echo</span> $((<span class="number">2459337662</span>-<span class="number">9</span>))</span><br><span class="line">2459337653</span><br><span class="line"></span><br><span class="line">$ dd <span class="keyword">if</span>=/dev/sdb bs=4096 skip=$((<span class="variable">$agblocks</span>*<span class="variable">$agcount</span>+<span class="variable">$b</span>)) count=<span class="variable">$c</span> of=/tmp/report.htm</span><br><span class="line">1+0 records <span class="keyword">in</span></span><br><span class="line">1+0 records out</span><br><span class="line">4096 bytes (4.1 kB) copied, 4.6345e-05 s, 88.4 MB/s</span><br><span class="line"></span><br><span class="line">$ cat /tmp/report.htm   <span class="comment"># file come back</span></span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta http-equiv=<span class="string">&quot;Content-Type&quot;</span> content=<span class="string">&quot;text/html; charset=gbk&quot;</span>/&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ls -li</span><br><span class="line">total 8344</span><br><span class="line">201802827 -rw-r--r-- 1 root root 4270448 Jan 20 20:37 files.md5</span><br><span class="line"></span><br><span class="line">xfs_db -r /dev/mapper/cl-root -c <span class="string">&quot;inode 201802827&quot;</span> -c <span class="string">&quot;bmap&quot;</span></span><br><span class="line">data offset 0 startblock 25205566 (3/39742) count 1043 flag 0</span><br><span class="line"></span><br><span class="line">xfs_db -r /dev/mapper/cl-root -c sb -c p | grep agblocks</span><br><span class="line">agblocks = 7781888</span><br><span class="line"></span><br><span class="line">xfs_db -r /dev/mapper/cl-root -c <span class="string">&quot;convert inode 201802827 agino&quot;</span></span><br><span class="line">0x7444b (476235)</span><br><span class="line">xfs_db -r /dev/mapper/cl-root -c <span class="string">&quot;convert inode 201802827 agno&quot;</span></span><br><span class="line">0x3 (3)</span><br><span class="line">xfs_db -r /dev/mapper/cl-root -c <span class="string">&quot;convert inode 201802827 agblock&quot;</span></span><br><span class="line">0xe889 (59529)</span><br><span class="line">xfs_db -r /dev/mapper/cl-root -c <span class="string">&quot;convert inode 201802827 offset&quot;</span></span><br><span class="line">0x3 (3)</span><br><span class="line"></span><br><span class="line">$ dd <span class="keyword">if</span>=/dev/mapper/cl-root bs=4096 skip=$((<span class="variable">$agno</span>*<span class="variable">$agblocks</span>+<span class="number">39742</span>)) count=1043 of=files.md5.copy</span><br><span class="line"><span class="comment">## there are some zero in the end of the recovery file</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">####</span></span><br><span class="line">xfs_db -r /dev/mapper/cl-root -c <span class="string">&quot;inode <span class="variable">$inode</span>&quot;</span> -c <span class="string">&quot;bmap&quot;</span></span><br><span class="line">data offset 0 startblock 25205566 (3/39742) count 1043 flag 0</span><br><span class="line"><span class="comment">## Got the offset=39742 and count=1043</span></span><br><span class="line">xfs_db -r /dev/mapper/cl-root -c <span class="string">&quot;convert inode <span class="variable">$inode</span> agno&quot;</span></span><br><span class="line">0x3 (3)</span><br><span class="line">xfs_db -r /dev/mapper/cl-root -c sb -c p | grep agblocks</span><br><span class="line">agblocks = 7781888</span><br><span class="line"><span class="comment">## Got the agblock and agno</span></span><br><span class="line">dd <span class="keyword">if</span>=/dev/xxx bs=4096 skip=$((<span class="variable">$agno</span>*<span class="variable">$agblocks</span>+<span class="variable">$offset</span>)) count=1043 of=files.copy</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="xfs-estimate"><a href="#xfs-estimate" class="headerlink" title="xfs_estimate"></a>xfs_estimate</h3><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">xfs_estimate -v /mnt</span><br><span class="line">directory                               bsize   blocks    megabytes    logsize</span><br><span class="line">/mnt                                     <span class="number">4096</span>     <span class="number">1138</span>        <span class="number">4.4</span>MB    <span class="number">4096000</span></span><br><span class="line">$ xfs_estimate -v -b <span class="number">512</span> /mnt</span><br><span class="line">directory                               bsize   blocks    megabytes    logsize</span><br><span class="line">/mnt                                      <span class="number">512</span>     <span class="number">1138</span>        <span class="number">0.6</span>MB     <span class="number">512000</span></span><br><span class="line">$ xfs_estimate -v -b <span class="number">4096</span> /mnt</span><br><span class="line">directory                               bsize   blocks    megabytes    logsize</span><br><span class="line">/mnt                                     <span class="number">4096</span>     <span class="number">1138</span>        <span class="number">4.4</span>MB    <span class="number">4096000</span></span><br></pre></td></tr></table></figure>

<h3 id="xfs-info"><a href="#xfs-info" class="headerlink" title="xfs_info"></a>xfs_info</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$ xfs_info /mnt</span><br><span class="line">meta-data=/dev/sdb               isize=512    agcount=16, agsize=4799984 blks</span><br><span class="line">         =                       sectsz=512   attr=2, projid32bit=1</span><br><span class="line">         =                       crc=1        finobt=0 spinodes=0</span><br><span class="line">data     =                       bsize=4096   blocks=76799744, imaxpct=25</span><br><span class="line">         =                       sunit=16     swidth=32 blks</span><br><span class="line">naming   =version 2              bsize=4096   ascii-ci=0 ftype=1</span><br><span class="line"><span class="built_in">log</span>      =internal               bsize=4096   blocks=37504, version=2</span><br><span class="line">         =                       sectsz=512   sunit=16 blks, lazy-count=1</span><br><span class="line">realtime =none                   extsz=4096   blocks=0, rtextents=0</span><br></pre></td></tr></table></figure>

<h3 id="xfs-logprint"><a href="#xfs-logprint" class="headerlink" title="xfs_logprint"></a>xfs_logprint</h3><p>-t print out transactional view of an xfs log</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">xfs_logprint -t  /dev/sdb</span><br><span class="line">xfs_logprint:</span><br><span class="line">xfs_logprint: /dev/sdb contains a mounted and writable filesystem</span><br><span class="line">    data device: 0x810</span><br><span class="line">    <span class="built_in">log</span> device: 0x810 daddr: 307199104 length: 300032</span><br><span class="line"></span><br><span class="line">    <span class="built_in">log</span> tail: 256 head: 512 state: &lt;DIRTY&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">LOG REC AT LSN cycle 1 block 256 (0x1, 0x100)</span><br><span class="line">============================================================================</span><br><span class="line">TRANS: tid:0xb4cdd37c  <span class="built_in">type</span>:SWAPEXT  <span class="comment">#items:2  trans:0xb4cdd37c  q:0x20bcbe0</span></span><br><span class="line">BUF: cnt:2 total:2 a:0x20bd010 len:24 a:0x20bd060 len:384</span><br><span class="line">	BUF:  <span class="comment">#regs:2   start blkno:0x0   len:1   bmap size:1   flags:0x9000</span></span><br><span class="line">	SUPER Block Buffer:</span><br><span class="line"></span><br><span class="line">LOG REC AT LSN cycle 1 block 384 (0x1, 0x180)</span><br><span class="line">============================================================================</span><br><span class="line">TRANS: tid:0xb84fc956  <span class="built_in">type</span>:SWAPEXT  <span class="comment">#items:2  trans:0xb84fc956  q:0x20bcbe0</span></span><br><span class="line">BUF: cnt:2 total:2 a:0x20bd010 len:24 a:0x20cd250 len:384</span><br><span class="line">	BUF:  <span class="comment">#regs:2   start blkno:0x0   len:1   bmap size:1   flags:0x9000</span></span><br><span class="line">	SUPER Block Buffer:</span><br></pre></td></tr></table></figure>
<p>-i extract and print inode info<br>-q extract and print quota info<br>-e, exit when an error is found in the log<br>-c, Attempt to continue when an error is detected</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ xfs_logprint -C xfs.log /dev/sdb</span><br></pre></td></tr></table></figure>

<h4 id="About-barriers"><a href="#About-barriers" class="headerlink" title="About barriers"></a><a target="_blank" rel="noopener" href="https://xfs.org/index.php/XFS_FAQ#Write_barrier_support.">About barriers</a></h4><p>Write barrier support is enabled by default in XFS since kernel version 2.6.17. It is disabled by mounting the filesystem with “nobarrier”. Barrier support will flush the write back cache at the appropriate times (such as on XFS log writes). </p>
<h3 id="The-file-block"><a href="#The-file-block" class="headerlink" title="The file block"></a>The file block</h3><p>sdc is the 4K block device, the xfs count by 512 Bytes  </p>
<p>Here is the 1MB file, it ‘s aligned   </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">$ df -h /mnt</span><br><span class="line">Filesystem      Size  Used Avail Use% Mounted on</span><br><span class="line">/dev/sdc2       948M   36M  913M   4% /mnt</span><br><span class="line"></span><br><span class="line">$ xfs_info /dev/sdc2</span><br><span class="line">meta-data=/dev/sdc2              isize=512    agcount=4, agsize=61056 blks</span><br><span class="line">         =                       sectsz=4096  attr=2, projid32bit=1</span><br><span class="line">         =                       crc=1        finobt=1 spinodes=0 rmapbt=0</span><br><span class="line">         =                       reflink=0</span><br><span class="line">data     =                       bsize=4096   blocks=244224, imaxpct=25</span><br><span class="line">         =                       sunit=0      swidth=0 blks</span><br><span class="line">naming   =version 2              bsize=4096   ascii-ci=0 ftype=1</span><br><span class="line"><span class="built_in">log</span>      =internal               bsize=4096   blocks=1605, version=2</span><br><span class="line">         =                       sectsz=4096  sunit=1 blks, lazy-count=1</span><br><span class="line">realtime =none                   extsz=4096   blocks=0, rtextents=0</span><br><span class="line"></span><br><span class="line">$ dd <span class="keyword">if</span>=/dev/zero of=<span class="built_in">test</span> bs=1M count=1</span><br><span class="line">1+0 records <span class="keyword">in</span></span><br><span class="line">1+0 records out</span><br><span class="line">1048576 bytes (1.0 MB, 1.0 MiB) copied, 0.00214354 s, 489 MB/s</span><br><span class="line"></span><br><span class="line">$ ls -shl</span><br><span class="line">total 1.0M</span><br><span class="line">1.0M -rw-r--r-- 1 root root 1.0M April 17 22:16 <span class="built_in">test</span></span><br><span class="line"></span><br><span class="line">$ xfs_bmap -v ./<span class="built_in">test</span></span><br><span class="line">./<span class="built_in">test</span>:</span><br><span class="line"> EXT: FILE-OFFSET      BLOCK-RANGE      AG AG-OFFSET        TOTAL</span><br><span class="line">   0: [0..2047]:       160..2207         0 (160..2207)       2048</span><br><span class="line"></span><br><span class="line"><span class="comment">#BLOCK-RANGE start at 160 block and total blocks: 2048; 2048 x 512</span></span><br><span class="line">$ dd <span class="keyword">if</span>=/dev/sdc2 of=dd-test bs=512 skip=160 count=2048</span><br><span class="line">2048+0 records <span class="keyword">in</span></span><br><span class="line">2048+0 records out</span><br><span class="line">1048576 bytes (1.0 MB, 1.0 MiB) copied, 0.00779449 s, 135 MB/s</span><br><span class="line"></span><br><span class="line">$ du -hs <span class="built_in">test</span> dd-test</span><br><span class="line">1.0M	<span class="built_in">test</span></span><br><span class="line">1.0M	dd-test</span><br><span class="line"></span><br><span class="line">$ md5sum ./*</span><br><span class="line">b6d81b360a5672d80c27430f39153e2c  ./<span class="built_in">test</span></span><br><span class="line">b6d81b360a5672d80c27430f39153e2c  ./dd-test</span><br></pre></td></tr></table></figure>

<p>Not aligned example  </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line">$ openssl rand -hex 255 &gt; flag1</span><br><span class="line">$ openssl rand -hex 255 &gt; flag2</span><br><span class="line">$ openssl rand -hex 255 &gt; flag3</span><br><span class="line">$ cat flag* &gt; flag</span><br><span class="line"></span><br><span class="line">$ xfs_bmap -v ./flag</span><br><span class="line">./flag:</span><br><span class="line"> EXT: FILE-OFFSET      BLOCK-RANGE      AG AG-OFFSET          TOTAL</span><br><span class="line">   0: [0..7]:          1052728..1052735  0 (1052728..1052735)     8</span><br><span class="line"></span><br><span class="line"><span class="comment">## it &#x27;s 4K file ?</span></span><br><span class="line">$ dd <span class="keyword">if</span>=/dev/sdc2 of=flag-copy bs=512 skip=1052728 count=8</span><br><span class="line">8+0 records <span class="keyword">in</span></span><br><span class="line">8+0 records out</span><br><span class="line">4096 bytes (4.1 kB, 4.0 KiB) copied, 0.00178995 s, 2.3 MB/s</span><br><span class="line"></span><br><span class="line">$ md5sum flag-copy flag</span><br><span class="line">fd39ee533070b2bbd46f38f81e16c72f  flag-copy</span><br><span class="line">a24e60a419445879e2be061ea414e301  flag</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">$ hexdump -C flag</span><br><span class="line">...</span><br><span class="line">000005c0  34 33 31 66 63 62 63 30  64 35 66 31 31 32 63 33  |431fcbc0d5f112c3|</span><br><span class="line">000005d0  64 34 34 35 30 30 33 35  65 38 35 37 33 38 36 63  |d4450035e857386c|</span><br><span class="line">000005e0  32 34 32 33 31 34 39 30  36 32 64 62 36 39 61 30  |2423149062db69a0|</span><br><span class="line">000005f0  64 33 31 66 61 64 34 66  38 37 62 30 0a           |d31fad4f87b0.|</span><br><span class="line">000005fd</span><br><span class="line"></span><br><span class="line">$ hexdump -C flag-copy</span><br><span class="line">000005d0  64 34 34 35 30 30 33 35  65 38 35 37 33 38 36 63  |d4450035e857386c|</span><br><span class="line">000005e0  32 34 32 33 31 34 39 30  36 32 64 62 36 39 61 30  |2423149062db69a0|</span><br><span class="line">000005f0  64 33 31 66 61 64 34 66  38 37 62 30 0a 00 00 00  |d31fad4f87b0....|</span><br><span class="line">00000600  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|</span><br><span class="line">*</span><br><span class="line">00001000</span><br><span class="line"></span><br><span class="line"><span class="comment"># it &#x27;s just 1533 Bytes, not 4K</span></span><br><span class="line">$  <span class="built_in">stat</span> flag</span><br><span class="line">  File: flag</span><br><span class="line">  Size: 1533      	Blocks: 8          IO Block: 4096   regular file</span><br><span class="line">Device: 822h/2082d	Inode: 105         Links: 1</span><br><span class="line">Access: (0644/-rw-r--r--)  Uid: (    0/    root)   Gid: (    0/    root)</span><br><span class="line">Access: 2020-04-18 01:00:50.197468163 +0800</span><br><span class="line">Modify: 2020-04-18 01:00:48.173261473 +0800</span><br><span class="line">Change: 2020-04-18 01:00:48.173261473 +0800</span><br><span class="line"> Birth: -</span><br><span class="line"></span><br><span class="line"><span class="comment"># just overwrite the 1533 Bytes in the 4K file...</span></span><br><span class="line">$  dd <span class="keyword">if</span>=/dev/sdc2 of=flag-copy conv=notrunc bs=1 skip=$((<span class="number">1052728</span>*<span class="number">512</span>)) count=1533</span><br><span class="line">1533+0 records <span class="keyword">in</span></span><br><span class="line">1533+0 records out</span><br><span class="line">1533 bytes (1.5 kB, 1.5 KiB) copied, 0.00655476 s, 234 kB/s</span><br><span class="line">root@homerl-To-be-filled-by-O-E-M:/mnt<span class="comment"># md5sum flag-copy flag</span></span><br><span class="line">fd39ee533070b2bbd46f38f81e16c72f  flag-copy</span><br><span class="line">a24e60a419445879e2be061ea414e301  flag</span><br><span class="line"></span><br><span class="line">$ ls -shl</span><br><span class="line"> 4.0K -rw-r--r-- 1 root root  1.5K April  18 01:00 flag</span><br><span class="line"> 4.0K -rw-r--r-- 1 root root   511 April  18 01:00 flag1</span><br><span class="line"> 4.0K -rw-r--r-- 1 root root   511 April  18 01:00 flag2</span><br><span class="line"> 4.0K -rw-r--r-- 1 root root   511 April  18 01:00 flag3</span><br><span class="line"> 4.0K -rw-r--r-- 1 root root  4.0K April  18 01:07 flag-copy</span><br><span class="line"></span><br><span class="line">$ rm flag-copy</span><br><span class="line">$ dd <span class="keyword">if</span>=/dev/sdc2 of=flag-copy conv=notrunc bs=1 skip=$((<span class="number">1052728</span>*<span class="number">512</span>)) count=1533</span><br><span class="line">$ ls -shl</span><br><span class="line"> 4.0K -rw-r--r-- 1 root root  1.5K April  18 01:00 flag</span><br><span class="line"> 4.0K -rw-r--r-- 1 root root   511 April  18 01:00 flag1</span><br><span class="line"> 4.0K -rw-r--r-- 1 root root   511 April  18 01:00 flag2</span><br><span class="line"> 4.0K -rw-r--r-- 1 root root   511 April  18 01:00 flag3</span><br><span class="line"> 4.0K -rw-r--r-- 1 root root  1.5K April  18 01:07 flag-copy</span><br><span class="line"></span><br><span class="line">$ md5sum flag-copy flag</span><br><span class="line">a24e60a419445879e2be061ea414e301  flag-copy</span><br><span class="line">a24e60a419445879e2be061ea414e301  flag</span><br></pre></td></tr></table></figure>

<p>Big file   </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br></pre></td><td class="code"><pre><span class="line">$ dd <span class="keyword">if</span>=/dev/zero of=big-file bs=1M count=1000</span><br><span class="line">$ xfs_bmap -v big-file </span><br><span class="line">big-file:</span><br><span class="line"> EXT: FILE-OFFSET         BLOCK-RANGE      AG AG-OFFSET          TOTAL</span><br><span class="line">   0: [0..1048447]:       4280..1052727     0 (4280..1052727)  1048448</span><br><span class="line">   1: [1048448..2047999]: 1953376..2952927  1 (96..999647)      999552</span><br><span class="line"></span><br><span class="line">$ <span class="built_in">stat</span> big-file </span><br><span class="line">  File: big-file</span><br><span class="line">  Size: 1048576000	Blocks: 2048000    IO Block: 4096   regular file</span><br><span class="line">Device: 822h/2082d	Inode: 104         Links: 1</span><br><span class="line">Access: (0644/-rw-r--r--)  Uid: (    0/    root)   Gid: (    0/    root)</span><br><span class="line">Access: 2020-04-18 01:00:37.464167969 +0800</span><br><span class="line">Modify: 2020-04-18 01:00:39.196344841 +0800</span><br><span class="line">Change: 2020-04-18 01:38:26.999014414 +0800</span><br><span class="line"> Birth: -</span><br><span class="line"></span><br><span class="line">$ hexdump -C big-file</span><br><span class="line">00000000  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|</span><br><span class="line">*</span><br><span class="line">3e800000</span><br><span class="line"></span><br><span class="line">$ cat flag1 flag2 flag3 </span><br><span class="line">56c80696e82e2f88984e369e5dcee45142b3682020adf733e68f692a70747b99b307b15022ed21f3d843cba8abf52e3432e6203fe2bf5bc2ecd79891dcfc133ae3350c0b8ea8d5c7d9e449938959a411ee96ca9a56653b34f2de236ddd3007b30a9876bcedcfeb73489d17a263b0af5b7a069848280dc55ecfeaccca6af46f0a637d97fcd94dd3c3d75bd871398753da6abe52d3c8d54abc6339acb094a2c33a1b772c8d51a0306ad20920c8a749d334030b5a072049572fc2d7c1183e575bd66aa2020f115b62d05bb15ddd07000e6fde5387d2807ec21605286190bfe3b77e2d3f4991bed0a716c8419ca5d4ddd7815f39e3579090040ff77be5fe730dbc</span><br><span class="line">6baa2fc5a2115063030d7d4a8633974f2fc14cd502ec6df38f575d2d6dcff299b7dcdeca9d4dd513d7d77a6099aa8604108628109f871ac414942f0f5efe58b61f5b160f5bdf34bb30ff6655f958b62731c0097ed92090ec1c2433e7baa0bca9e385f9c7b3dd1188aaedaefdfd6a9e6dadaf6bd08a7096c2219b4c8e9d9cf1daa0bbeb3dd9994666cbbd1c45e5d07afefbe0af42f508b49869f54edd34865423cb0bdd71a99f6c2f0f19f1aa494f0694b6baa3ebe090b3aeb6443b7b5f210b00560aba8bdbfdd15ab8ae909c6d99477dde90a5ad9ac28338dbe2abc663cb8092519b7258fdbba92f62d2c9dd70861274acb5180dbd8371ccf6469d5fc4940c</span><br><span class="line">b621e3e516b0a54defdde7e05b846dc8a91c29f191d2f74305b7d6e5f742c5cb1ce793450b83f2d1e5f692d78994d558ed47e8e3fe58db32aab4dc87d10452db5cf99bab7fa5915b30cc6844e4d1393bd41c56c65a7ed8eb916976d122dbf955035bd2c39ba320838d39b0e1d4cee3db53c35bfa860412f4aeef71f3e3b4d6d1edaff216e385fa667c0e08cbd780e1246adb8ae932a261f0df9c8e4a0e627e6775ddb602308efaa49e0e6413edcb577660b0ea749a3b737a00f9ef56dbb834505f4ce0950a04dce4c159d2c459f382e4d41cf517c4329d3b241e5d8eb8872b0bdd431fcbc0d5f112c3d4450035e857386c2423149062db69a0d31fad4f87b0</span><br><span class="line"></span><br><span class="line">$ dd <span class="keyword">if</span>=flag1 of=/dev/sdc2 bs=512 seek=4280</span><br><span class="line">0+1 records <span class="keyword">in</span></span><br><span class="line">0+1 records out</span><br><span class="line">511 bytes copied, 0.000275702 s, 1.9 MB/s</span><br><span class="line"></span><br><span class="line">$ dd <span class="keyword">if</span>=flag2 of=/dev/sdc2 bs=512 seek=1953376</span><br><span class="line">0+1 records <span class="keyword">in</span></span><br><span class="line">0+1 records out</span><br><span class="line">511 bytes copied, 0.0125594 s, 40.7 kB/s</span><br><span class="line"></span><br><span class="line">$ <span class="built_in">cd</span> ~</span><br><span class="line">$ umount /mnt</span><br><span class="line">$ mount /dev/sdc2 /mnt</span><br><span class="line">$ <span class="built_in">cd</span> /mnt/</span><br><span class="line">$ hexdump -C big-file</span><br><span class="line">00000000  35 36 63 38 30 36 39 36  65 38 32 65 32 66 38 38  |56c80696e82e2f88|</span><br><span class="line">.....</span><br><span class="line">000001f0  66 37 37 62 65 35 66 65  37 33 30 64 62 63 0a 00  |f77be5fe730dbc..|</span><br><span class="line">00000200  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|</span><br><span class="line">*</span><br><span class="line">1fff0000  36 62 61 61 32 66 63 35  61 32 31 31 35 30 36 33  |6baa2fc5a2115063|</span><br><span class="line">.....</span><br><span class="line">1fff01f0  66 36 34 36 39 64 35 66  63 34 39 34 30 63 0a 00  |f6469d5fc4940c..|</span><br><span class="line">1fff0200  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|</span><br><span class="line">*</span><br><span class="line">3e800000</span><br><span class="line"></span><br><span class="line">$ cp big-file big-file-2</span><br><span class="line">$ xfs_bmap -v big-file-2</span><br><span class="line">big-file-2:</span><br><span class="line"> EXT: FILE-OFFSET         BLOCK-RANGE      AG AG-OFFSET           TOTAL</span><br><span class="line">   0: [0..900551]:        1052728..1953279  0 (1052728..1953279) 900552</span><br><span class="line">   1: [900552..902695]:   160..2303         0 (160..2303)          2144</span><br><span class="line">   2: [902696..1854375]:  2952928..3904607  1 (999648..1951327)  951680</span><br><span class="line">   3: [1854376..2047999]: 4975584..5169207  2 (1069024..1262647) 193624</span><br><span class="line">$ big-file*</span><br><span class="line">c14a4c7a949d75c9b855aa0ebd8bf67f  big-file</span><br><span class="line">c14a4c7a949d75c9b855aa0ebd8bf67f  big-file-2</span><br><span class="line"></span><br><span class="line">$ ls -lhs big-file-2-p* </span><br><span class="line">440M -rw-r--r-- 1 root root 440M April  18 01:54 big-file-2-p1</span><br><span class="line">1.1M -rw-r--r-- 1 root root 1.1M April  18 01:55 big-file-2-p2</span><br><span class="line">465M -rw-r--r-- 1 root root 465M April  18 01:55 big-file-2-p3</span><br><span class="line"> 95M -rw-r--r-- 1 root root  95M April  18 01:56 big-file-2-p4</span><br><span class="line"></span><br><span class="line"><span class="comment"># if the file not out of order</span></span><br><span class="line">$ hexdump -C big-file-2-p1 </span><br><span class="line">00000000  35 36 63 38 30 36 39 36  65 38 32 65 32 66 38 38  |56c80696e82e2f88|</span><br><span class="line">...</span><br><span class="line">000001f0  66 37 37 62 65 35 66 65  37 33 30 64 62 63 0a 00  |f77be5fe730dbc..|</span><br><span class="line">00000200  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|</span><br><span class="line">*</span><br><span class="line">1b7b9000</span><br><span class="line"></span><br><span class="line">$ hexdump -C big-file-2-p2 </span><br><span class="line">00000000  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|</span><br><span class="line">*</span><br><span class="line">0010c000</span><br><span class="line"></span><br><span class="line">$ hexdump -C big-file-2-p3</span><br><span class="line">00000000  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|</span><br><span class="line">*</span><br><span class="line">0472b000  36 62 61 61 32 66 63 35  61 32 31 31 35 30 36 33  |6baa2fc5a2115063|</span><br><span class="line">...</span><br><span class="line">0472b1f0  66 36 34 36 39 64 35 66  63 34 39 34 30 63 0a 00  |f6469d5fc4940c..|</span><br><span class="line">0472b200  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|</span><br><span class="line">*</span><br><span class="line">1d0b0000</span><br><span class="line"></span><br><span class="line"><span class="comment"># second flag show at 1fff0000 (536805376)</span></span><br><span class="line"><span class="comment"># p1 end at 1b7b9000 (461082624)</span></span><br><span class="line"><span class="comment"># p2 from 0x0 to 0010c000 (1097728)</span></span><br><span class="line"><span class="comment"># p3 from 0x0 to 0472b000 (74625024)</span></span><br><span class="line">$ <span class="built_in">echo</span> $((<span class="number">461082624</span>+<span class="number">1097728</span>+<span class="number">74625024</span>))</span><br><span class="line">536805376</span><br><span class="line"></span><br><span class="line"><span class="comment"># it &#x27;s the 1fff0000 (536805376)</span></span><br><span class="line"></span><br><span class="line">$ cat big-file-2-p1 big-file-2-p2 big-file-2-p3 big-file-2-p4 &gt; big-file-3</span><br><span class="line">$ md5sum big-file-2 big-file-3</span><br><span class="line">c14a4c7a949d75c9b855aa0ebd8bf67f  big-file-2</span><br><span class="line">c14a4c7a949d75c9b855aa0ebd8bf67f  big-file-3</span><br></pre></td></tr></table></figure>

<h3 id="copy-from-this-article"><a href="#copy-from-this-article" class="headerlink" title="copy from this article"></a><a target="_blank" rel="noopener" href="https://righteousit.wordpress.com/2018/05/21/xfs-part-1-superblock/">copy from this article</a></h3><p>XFS magic num: “58 46 53 42”</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br></pre></td><td class="code"><pre><span class="line">00000000  58 46 53 42 00 00 10 00  00 00 00 00 06 <span class="built_in">fc</span> 85 00  |XFSB............|</span><br><span class="line">magicnum = 0x58465342  <span class="comment"># 0-3 bytes mangic num: &quot;58 46 53 42&quot; XFSB</span></span><br><span class="line">blocksize = 4096       <span class="comment"># 4-7  &quot;00 00 10 00&quot;</span></span><br><span class="line">dblocks = 117212416    <span class="comment"># 8-15 &quot;00 00 00 00 06 fc 85 00&quot; Total blocks in file system</span></span><br><span class="line">                       <span class="comment"># echo $((117212416*4096))=480102055936 ;</span></span><br><span class="line">                  <span class="comment"># blockdev --getsz /dev/sdg1 937699328; echo $((937699328*512))=480102055936</span></span><br><span class="line"></span><br><span class="line">00000010  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|</span><br><span class="line">rblocks = 0 <span class="comment"># 16-23    Num blocks in real-time device</span></span><br><span class="line">rextents = 0 <span class="comment"># 24-31    Num extents in real-time device</span></span><br><span class="line"></span><br><span class="line">00000020  ce 72 48 bd 0f 2e 4b 04  a4 77 bc <span class="built_in">cd</span> a5 91 67 <span class="built_in">cd</span>  |.rH...K..w....g.|</span><br><span class="line">uuid = ce7248bd-0f2e-4b04-a477-bccda59167cd</span><br><span class="line"></span><br><span class="line">00000030  00 00 00 00 04 00 00 07  00 00 00 00 00 00 00 60  |...............`|</span><br><span class="line">logstart = 67108871  <span class="comment">## 48-55 bytes,First block of journal &quot;00 00 00 00 04 00 00 07&quot;</span></span><br><span class="line">rootino = 96  <span class="comment">## 56-63 bytes,Root directory&#x27;s inode &quot;00 00 00 00 00 00 00 60&quot;</span></span><br><span class="line"></span><br><span class="line">00000040  00 00 00 00 00 00 00 61  00 00 00 00 00 00 00 62  |.......a.......b|</span><br><span class="line">rbmino = 97 <span class="comment"># 64-71    Real-time extents bitmap inode</span></span><br><span class="line">rsumino = 98 <span class="comment"># 72-79    Real-time bitmap summary inode</span></span><br><span class="line"></span><br><span class="line">00000050  00 00 00 01 01 bf 21 40  00 00 00 04 00 00 00 00  |......!@........|</span><br><span class="line">rextsize = 1 <span class="comment">#80-83    Real-time extent size (in blocks)</span></span><br><span class="line">agblocks = 29303104 <span class="comment">#84-87 1bf2140=29303104   single AG size (in blocks), there are 4x AGs , awk &#x27;BEGIN&#123;print 29303104*4096*4&#125;&#x27; = 480102055936, same with dblocks echo $((117212416*4096))=480102055936</span></span><br><span class="line">agcount = 4    <span class="comment">#88-91    Number of AGs # 4 x AG</span></span><br><span class="line">rbmblocks = 0  <span class="comment">#92-95    Num of real-time bitmap blocks</span></span><br><span class="line"></span><br><span class="line">00000060  00 00 df 90 bc a5 10 00  02 00 00 08 00 00 00 00  |................|</span><br><span class="line">logblocks = 57232 <span class="comment"># 96-99, 00 00 df 90, Num of journal blocks</span></span><br><span class="line">versionnum = 0xbca5 <span class="comment">#100-101 File system version and flags</span></span><br><span class="line">sectsize = 4096 <span class="comment">#102-103, 10 00 ,Sector size</span></span><br><span class="line">inodesize = 512 <span class="comment">#104-105, 02 00 ,inode size</span></span><br><span class="line">inopblock = 8   <span class="comment">#106-107, indoes/block, 00 08</span></span><br><span class="line"></span><br><span class="line">                                              <span class="comment">#108</span></span><br><span class="line">00000060  00 00 df 90 bc a5 10 00  02 00 00 08 00 00 00 00  |................|</span><br><span class="line">00000070  00 00 00 00 00 00 00 00  0c 0c 09 03 19 00 00 19  |................|</span><br><span class="line">fname = <span class="string">&quot;\000\000\000\000\000\000\000\000\000\000\000\000&quot;</span> <span class="comment">#108-119 file system name, not set</span></span><br><span class="line">                                  <span class="comment">#120</span></span><br><span class="line">00000070  00 00 00 00 00 00 00 00  0c 0c 09 03 19 00 00 19  |................|</span><br><span class="line">blocklog = 12 <span class="comment">#120      log2(block size)           0xc</span></span><br><span class="line">sectlog = 12  <span class="comment">#121      log2(sector size)          0xc</span></span><br><span class="line">inodelog = 9  <span class="comment">#122      log2(inode size)           0x9</span></span><br><span class="line">inopblog = 3  <span class="comment">#123      log2(inode/block)          0x3</span></span><br><span class="line">agblklog = 25 <span class="comment">#124      log2(AG size) rounded up   0x19</span></span><br><span class="line"><span class="comment"># From logstart = 67108871(10) 0x4000007  ## 48-55 bytes First block of journal</span></span><br><span class="line"><span class="comment">#0x4000007 =      10          0 000 000 000 000 000 000 000 111</span></span><br><span class="line"><span class="comment">#AG# in upper 2 bits---/\---22 bits of relative block offset</span></span><br><span class="line"><span class="comment">#10 means beginning of AG 2</span></span><br><span class="line"><span class="comment">#111 means the journal starts at relative block offset 7</span></span><br><span class="line"><span class="comment">#The physical block offset can be calculated as follows</span></span><br><span class="line"><span class="comment">#AG num (2) x  (blocks per ag, #84-87, agblocks = 29303104) + (relative block offset 7)=58606215</span></span><br><span class="line"><span class="comment">#dd if=/dev/sdg1 bs=4096 skip=$((2*29303104 + 4)) count=1 | xxd</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#inode addr</span></span><br><span class="line"><span class="comment">#123(3) + #124(25) = 28</span></span><br><span class="line"><span class="comment">#The inode address of the root directory just inode offset 64 from AG 0</span></span><br><span class="line"><span class="comment"># rootino = 96 0x60  ## 56-63 bytes,Root directory&#x27;s inode</span></span><br><span class="line"></span><br><span class="line">rextslog = 0  <span class="comment"># 125      log2(real-time extents)   0</span></span><br><span class="line">inprogress = 0 <span class="comment"># 126      log2(real-time extents)  0</span></span><br><span class="line">imax_pct = 25  <span class="comment"># 127      log2(real-time extents)  0x19</span></span><br><span class="line"></span><br><span class="line">00000080  00 00 00 00 00 00 00 40  00 00 00 00 00 00 00 3b  |.......@.......;|</span><br><span class="line">icount = 128  <span class="comment"># 128-135  Number of allocated inodes , 0x40=64=1000000 2^7=128</span></span><br><span class="line">ifree = 119   <span class="comment"># 136-143  Number of free inodes, 3b=111011, 2^1+2^2+2^0+2^4+2^5+2^6=119</span></span><br><span class="line">??? <span class="comment"># not understand</span></span><br><span class="line"></span><br><span class="line">00000090  00 00 00 00 06 f7 bd 4b  00 00 00 00 00 00 00 00  |.......K........|</span><br><span class="line">fdblocks = 116890690 <span class="comment">#144-151  Number of free blocks</span></span><br><span class="line">frextents = 0        <span class="comment">#152-159  Number of free real-time extents</span></span><br><span class="line"></span><br><span class="line">000000a0  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff  |................|</span><br><span class="line">uquotino = null <span class="comment"># 160-167  User quota inode</span></span><br><span class="line">gquotino = null <span class="comment"># 168-175  Group quota inode</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">000000b0  00 00 00 00 00 00 00 04  00 00 00 00 00 00 00 00  |................|</span><br><span class="line">qflags = 0 <span class="comment">#176-177  Quota flags</span></span><br><span class="line">flags = 0  <span class="comment">#178      Misc flags</span></span><br><span class="line">shared_vn = 0  <span class="comment">#178      Misc flags</span></span><br><span class="line">inoalignmt = 4 <span class="comment">#180-183  Inode alignment (in blocks)</span></span><br><span class="line">unit = 0       <span class="comment">#184-187  RAID unit (in blocks)</span></span><br><span class="line">width = 0      <span class="comment">#188-191  RAID stripe (in blocks)</span></span><br><span class="line"></span><br><span class="line">000000c0  00 0c 10 00 00 00 10 00  00 00 01 8a 00 00 01 8a  |................|</span><br><span class="line">dirblklog = 0    <span class="comment">#192      log2(dir blk allocation granularity)</span></span><br><span class="line">logsectlog = 12  <span class="comment">#193      log2(sector size of externl journal device)</span></span><br><span class="line">logsectsize = 4096 <span class="comment">#194-195  Sector size of external journal device</span></span><br><span class="line">logsunit = 4096  <span class="comment">#196-199  Stripe/unit size of external journal device</span></span><br><span class="line">features2 = 0x18a <span class="comment">#200-203  Additional flags</span></span><br><span class="line">bad_features2 = 0x18a <span class="comment">#204-207  Repeat additional flags (for alignment)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">000000d0  00 00 00 00 00 00 00 00  00 00 00 01 00 00 00 00  |................|</span><br><span class="line">features_compat = 0   <span class="comment">#204-207  Repeat additional flags (for alignment)</span></span><br><span class="line">features_ro_compat = 0 <span class="comment">#212-215  Read-only feature flags</span></span><br><span class="line">features_incompat = 0x1 <span class="comment">#216-219  Read-write incompatibility flags</span></span><br><span class="line">features_log_incompat = 0 <span class="comment">#220-223  Read-write incompat flags for log (unused)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">000000e0  1f c6 e0 48 00 00 00 00  ff ff ff ff ff ff ff ff  |...H............|</span><br><span class="line">crc = 0x64b05119 (correct)  <span class="comment">#224-227  CRC32 checksum for superblock</span></span><br><span class="line">spino_align = 0  <span class="comment">#228-231  Sparse inode alignment</span></span><br><span class="line">pquotino = null <span class="comment">#232-239  Project quota inode</span></span><br><span class="line"></span><br><span class="line">000000f0  00 00 00 01 00 00 00 90  00 00 00 00 00 00 00 00  |................|</span><br><span class="line">00000100  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|</span><br><span class="line">lsn = 0x1000000c8 240-247  Log seq number of last superblock update</span><br><span class="line">meta_uuid = 00000000-0000-0000-0000-000000000000 <span class="comment"># 248-263  UUID used if INCOMPAT_META_UUID feature      zeroed</span></span><br><span class="line"></span><br><span class="line">                                  <span class="comment">#264</span></span><br><span class="line">00000100  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|</span><br><span class="line">264-271  If INCOMPAT_META_RMAPBT, inode of RM btree   zeroed</span><br></pre></td></tr></table></figure>

<h3 id="superblock"><a href="#superblock" class="headerlink" title="superblock"></a><a target="_blank" rel="noopener" href="https://righteousit.wordpress.com/2018/05/21/xfs-part-1-superblock/">superblock</a></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br></pre></td><td class="code"><pre><span class="line">00000000  58 46 53 42 00 00 10 00  00 00 00 00 00 10 00 00  |XFSB............|</span><br><span class="line">0-3      Magic Number                       <span class="string">&quot;XFSB&quot;</span></span><br><span class="line">4-7      Block Size (<span class="keyword">in</span> bytes)              0x1000 = 4096</span><br><span class="line">8-15     Total blocks <span class="keyword">in</span> file system        0x100000 = 1048576 block = 1048576 x 4096 = 4294967296 bytes = blockdev --getsz /dev/loop0 = 8388608 x 512b</span><br><span class="line"></span><br><span class="line">00000010  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|</span><br><span class="line">16-23    Num blocks <span class="keyword">in</span> real-time device     zeroed</span><br><span class="line">24-31    Num extents <span class="keyword">in</span> real-time device    zeroed</span><br><span class="line"></span><br><span class="line">00000020  8a b2 ce b5 8d 35 4f 60  98 88 4f 6c 39 7c f7 af  |.....5O`..Ol9|..|</span><br><span class="line">32-47    UUID</span><br><span class="line">uuid = 8ab2ceb5-8d35-4f60-9888-4f6c397cf7af</span><br><span class="line"></span><br><span class="line">00000030  00 00 00 00 00 08 00 04  00 00 00 00 00 00 00 40  |...............@|</span><br><span class="line">48-55    First block of journal             0x800004 = 8388612</span><br><span class="line">The first block of the file system journal is at address 0x800004. Let’s write that out <span class="keyword">in</span> binary showing the AG and relative block offset portions:</span><br><span class="line">0x800004    =   10,00 0000 0000 0000 0000 0100</span><br><span class="line">AG<span class="comment"># in upper 2 bits---/\---22 bits of relative block offset</span></span><br><span class="line">          (AG number) * (blocks per AG) + (relative block offset)</span><br><span class="line">              2(10)   *  (84-87 0x40000) 262144 + 4(100) =  dd <span class="keyword">if</span>=/dev/loop0 bs=4096 skip=$((<span class="number">2</span>*<span class="number">262144</span> + <span class="number">4</span>)) count=1 | xxd</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">56-63    Root directory<span class="string">&#x27;s inode             0x40 = 64</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">00000040  00 00 00 00 00 00 00 41  00 00 00 00 00 00 00 42  |.......A.......B|</span></span><br><span class="line"><span class="string">64-71    Real-time extents bitmap inode     0x41 = 65</span></span><br><span class="line"><span class="string">72-79    Real-time bitmap summary inode     0x42 = 66</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">00000050  00 00 00 01 00 04 00 00  00 00 00 04 00 00 00 00  |................|</span></span><br><span class="line"><span class="string">80-83    Real-time extent size (in blocks)  0x01</span></span><br><span class="line"><span class="string">84-87    AG size (in blocks)                0x40000 = 262144 (c.f. 8-15)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">88-91    Number of AGs                      0x04</span></span><br><span class="line"><span class="string">92-95    Num of real-time bitmap blocks     zeroed</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">00000060  00 00 0a 00 b4 a5 02 00  02 00 00 08 00 00 00 00  |................|</span></span><br><span class="line"><span class="string">96-99    Num of journal blocks              0xa00 = 2560</span></span><br><span class="line"><span class="string">100-101  File system version and flags      0xb4a5 (low nibble is version)</span></span><br><span class="line"><span class="string">102-103  Sector size                        0x200 = 512</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">104-105  Inode size                         0x200 = 512</span></span><br><span class="line"><span class="string">106-107  Inodes/block                       0x08</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">00000070  00 00 00 00 00 00 00 00  0c 09 09 03 12 00 00 19  |................|</span></span><br><span class="line"><span class="string">108-119  File system name                   not set-- zeroed</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">120      log2(block size)                   0x0C (2^^12 = 4096)</span></span><br><span class="line"><span class="string">121      log2(sector size)                  0x09 (2^^9 = 512)</span></span><br><span class="line"><span class="string">122      log2(inode size)                   0x09</span></span><br><span class="line"><span class="string">123      log2(inode/block)                  0x03 (2^^3 = 8 inode/block)</span></span><br><span class="line"><span class="string">124      log2(AG size) rounded up           0x12 (2^^12 = 4096)</span></span><br><span class="line"><span class="string">Inode addressing is similar. However, because we can have multiple inodes per block, the relative portion of the inode address has to be longer. The length of relative inode addresses is the sum of superblock bytes 123 and 124, the log2 value of inodes per block plus the log2 value of blocks per AG.</span></span><br><span class="line"><span class="string">0x3+0x12(3+18=21)</span></span><br><span class="line"><span class="string">$ cp /etc/passwd testdir1/</span></span><br><span class="line"><span class="string">$ ls -i testdir1/passwd </span></span><br><span class="line"><span class="string">$ 73(0x49) testdir1/passwd, 73/8=9, 73%8=1</span></span><br><span class="line"><span class="string">000,0,0000,0000,0000,0100,1001</span></span><br><span class="line"><span class="string">    |---------21 ------------|</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">$ dd if=/dev/loop0 bs=4096 skip=$((0+9)) count=1 2&gt;/dev/null | dd bs=512 skip=1 count=1 2&gt;/dev/null | xxd</span></span><br><span class="line"><span class="string">0000000: 494e 81a4 0302 0000 0000 0000 0000 0000  IN..............</span></span><br><span class="line"><span class="string">                      |</span></span><br><span class="line"><span class="string">                      ------Data fork type flag =2</span></span><br><span class="line"><span class="string">0000010: 0000 0001 0000 0000 0000 0000 0000 0000  ................</span></span><br><span class="line"><span class="string">0000020: 62be 621f 1d0f e306 62be 621f 1d0f e306  b.b.....b.b.....</span></span><br><span class="line"><span class="string">0000030: 62be 621f 1d0f e306 0000 0000 0000 0740  b.b............@</span></span><br><span class="line"><span class="string">0000040: 0000 0000 0000 0001 0000 0000 0000 0001  ................</span></span><br><span class="line"><span class="string">0000050: 0000 0002 0000 0000 0000 0000 23e0 54c0  ............#.T.</span></span><br><span class="line"><span class="string">0000060: ffff ffff 84d1 0583 0000 0000 0000 0007  ................</span></span><br><span class="line"><span class="string">0000070: 0000 0001 0000 177e 0000 0000 0000 0000  .......~........</span></span><br><span class="line"><span class="string">0000080: 0000 0000 0000 0000 0000 0000 0000 0000  ................</span></span><br><span class="line"><span class="string">0000090: 62be 621f 1d0f e306 0000 0000 0000 0049  b.b............I</span></span><br><span class="line"><span class="string">00000a0: 8ab2 ceb5 8d35 4f60 9888 4f6c 397c f7af  .....5O`..Ol9|..</span></span><br><span class="line"><span class="string">00000b0: 0000 0000 0000 0000 0000 0000 a200 0001  ................</span></span><br><span class="line"><span class="string">                                   10100010000;0,0000,0000,0000,0000,0001</span></span><br><span class="line"><span class="string">                                   0000,0000,0000,1010,0010,000;0 0000,0000,0000,0000,0001</span></span><br><span class="line"><span class="string">                                    |          (0x510=1296)               1</span></span><br><span class="line"><span class="string">                                    ---- AG 0 </span></span><br><span class="line"><span class="string">$ dd if=/dev/loop0 bs=4096 skip=$((0*262144+1296)) count=1 2&gt;/dev/null | hexdump -C | head</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">00000000  72 6f 6f 74 3a 78 3a 30  3a 30 3a 72 6f 6f 74 3a  |root:x:0:0:root:|  &lt;---- it &#x27;</span>s the password file</span><br><span class="line">00000010  2f 72 6f 6f 74 3a 2f 62  69 6e 2f 62 61 73 68 0a  |/root:/bin/bash.|</span><br><span class="line">00000020  62 69 6e 3a 78 3a 31 3a  31 3a 62 69 6e 3a 2f 62  |bin:x:1:1:bin:/b|</span><br><span class="line">00000030  69 6e 3a 2f 73 62 69 6e  2f 6e 6f 6c 6f 67 69 6e  |<span class="keyword">in</span>:/sbin/nologin|</span><br><span class="line">00000040  0a 64 61 65 6d 6f 6e 3a  78 3a 32 3a 32 3a 64 61  |.daemon:x:2:2:da|</span><br><span class="line">00000050  65 6d 6f 6e 3a 2f 73 62  69 6e 3a 2f 73 62 69 6e  |emon:/sbin:/sbin|</span><br><span class="line">00000060  2f 6e 6f 6c 6f 67 69 6e  0a 61 64 6d 3a 78 3a 33  |/nologin.adm:x:3|</span><br><span class="line">00000070  3a 34 3a 61 64 6d 3a 2f  76 61 72 2f 61 64 6d 3a  |:4:adm:/var/adm:|</span><br><span class="line">00000080  2f 73 62 69 6e 2f 6e 6f  6c 6f 67 69 6e 0a 6c 70  |/sbin/nologin.lp|</span><br><span class="line">00000090  3a 78 3a 34 3a 37 3a 6c  70 3a 2f 76 61 72 2f 73  |:x:4:7:lp:/var/s|</span><br><span class="line"></span><br><span class="line">                                   </span><br><span class="line">00000c0: 0000 0000 0000 0000 0000 0000 0000 0000  ................</span><br><span class="line"></span><br><span class="line">125      log2(real-time extents)            zeroed</span><br><span class="line">126      File system being created flag     zeroed</span><br><span class="line">127      Max inode percentage               0x19 = 25%</span><br><span class="line"></span><br><span class="line">00000080  00 00 00 00 00 00 14 40  00 00 00 00 00 00 00 7b  |.......@.......&#123;|</span><br><span class="line">128-135  Number of allocated inodes         0x1440 = 5184 </span><br><span class="line">136-143  Number of free inodes              0x7b = 123</span><br><span class="line"></span><br><span class="line">00000090  00 00 00 00 00 0f a8 a3  00 00 00 00 00 00 00 00  |................|</span><br><span class="line">144-151  Number of free blocks              0xfa8a3 = 1026211</span><br><span class="line">152-159  Number of free real-time extents   zeroed</span><br><span class="line"></span><br><span class="line">000000a0  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff  |................|</span><br><span class="line">160-167  User quota inode                   -1 (NULL <span class="keyword">in</span> XFS)</span><br><span class="line">168-175  Group quota inode                  -1 (NULL <span class="keyword">in</span> XFS)</span><br><span class="line"></span><br><span class="line">000000b0  00 00 00 00 00 00 00 04  00 00 00 00 00 00 00 00  |................|</span><br><span class="line">176-177  Quota flags                        zero</span><br><span class="line">178      Misc flags                         zero</span><br><span class="line">179      Reserved                           Must be zero</span><br><span class="line">180-183  Inode alignment (<span class="keyword">in</span> blocks)        0x04</span><br><span class="line">184-187  RAID unit (<span class="keyword">in</span> blocks)              zeroed</span><br><span class="line">188-191  RAID stripe (<span class="keyword">in</span> blocks)            zeroed</span><br><span class="line"></span><br><span class="line">000000c0  00 00 00 00 00 00 00 01  00 00 01 8a 00 00 01 8a  |................|</span><br><span class="line">192      log2(dir blk allocation granularity)         zero</span><br><span class="line">193      log2(sector size of externl journal device)  zero  </span><br><span class="line">194-195  Sector size of external journal device       zero</span><br><span class="line">196-199  Stripe/unit size of external journal device  0x01</span><br><span class="line">200-203  Additional flags                             0x018A</span><br><span class="line">204-207  Repeat additional flags (<span class="keyword">for</span> alignment)      0x018A</span><br><span class="line"></span><br><span class="line">000000d0  00 00 00 00 00 00 00 00  00 00 00 01 00 00 00 00  |................|</span><br><span class="line">/* Version 5 only */</span><br><span class="line">208-211  Read-write feature flags (not used)          zero</span><br><span class="line">212-215  Read-only feature flags                      zero</span><br><span class="line">216-219  Read-write incompatibility flags             0x01</span><br><span class="line">220-223  Read-write incompat flags <span class="keyword">for</span> <span class="built_in">log</span> (unused)   zero</span><br><span class="line"></span><br><span class="line">000000e0  8e 18 bf 13 00 00 00 00  ff ff ff ff ff ff ff ff  |................|</span><br><span class="line">224-227  CRC32 checksum <span class="keyword">for</span> superblock                0x8e18bf13</span><br><span class="line">228-231  Sparse inode alignment                       zero</span><br><span class="line">232-239  Project quota inode                          -1</span><br><span class="line"></span><br><span class="line">000000f0  00 00 00 01 00 00 17 72  00 00 00 00 00 00 00 00  |.......r........|</span><br><span class="line">240-247  Log seq number of last superblock update     0x100001772</span><br><span class="line">248-263  UUID used <span class="keyword">if</span> INCOMPAT_META_UUID feature      zeroed</span><br><span class="line">264-271  If INCOMPAT_META_RMAPBT, inode of RM btree   zeroed</span><br><span class="line"></span><br><span class="line">00000100  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|</span><br><span class="line"></span><br><span class="line">xfs_db -r /dev/loop0</span><br><span class="line">xfs_db&gt; sb 0</span><br><span class="line">xfs_db&gt; p</span><br><span class="line">magicnum = 0x58465342</span><br><span class="line">blocksize = 4096</span><br><span class="line">dblocks = 1048576</span><br><span class="line">rblocks = 0</span><br><span class="line">rextents = 0</span><br><span class="line">uuid = 8ab2ceb5-8d35-4f60-9888-4f6c397cf7af</span><br><span class="line">logstart = 524292</span><br><span class="line">rootino = 64</span><br><span class="line">rbmino = 65</span><br><span class="line">rsumino = 66</span><br><span class="line">rextsize = 1</span><br><span class="line">agblocks = 262144</span><br><span class="line">agcount = 4</span><br><span class="line">rbmblocks = 0</span><br><span class="line">logblocks = 2560</span><br><span class="line">versionnum = 0xb4a5</span><br><span class="line">sectsize = 512</span><br><span class="line">inodesize = 512</span><br><span class="line">inopblock = 8</span><br><span class="line">fname = <span class="string">&quot;\000\000\000\000\000\000\000\000\000\000\000\000&quot;</span></span><br><span class="line">blocklog = 12</span><br><span class="line">sectlog = 9</span><br><span class="line">inodelog = 9</span><br><span class="line">inopblog = 3</span><br><span class="line">agblklog = 18</span><br><span class="line">rextslog = 0</span><br><span class="line">inprogress = 0</span><br><span class="line">imax_pct = 25</span><br><span class="line">icount = 5184</span><br><span class="line">ifree = 123</span><br><span class="line">fdblocks = 1026211</span><br><span class="line">frextents = 0</span><br><span class="line">uquotino = null</span><br><span class="line">gquotino = null</span><br><span class="line">qflags = 0</span><br><span class="line">flags = 0</span><br><span class="line">shared_vn = 0</span><br><span class="line">inoalignmt = 4</span><br><span class="line">unit = 0</span><br><span class="line">width = 0</span><br><span class="line">dirblklog = 0</span><br><span class="line">logsectlog = 0</span><br><span class="line">logsectsize = 0</span><br><span class="line">logsunit = 1</span><br><span class="line">features2 = 0x18a</span><br><span class="line">bad_features2 = 0x18a</span><br><span class="line">features_compat = 0</span><br><span class="line">features_ro_compat = 0</span><br><span class="line">features_incompat = 0x1</span><br><span class="line">features_log_incompat = 0</span><br><span class="line">crc = 0x8e18bf13 (correct)</span><br><span class="line">spino_align = 0</span><br><span class="line">pquotino = null</span><br><span class="line">lsn = 0x100001772</span><br><span class="line">meta_uuid = 00000000-0000-0000-0000-000000000000</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="inode"><a href="#inode" class="headerlink" title="inode"></a><a target="_blank" rel="noopener" href="https://righteousit.wordpress.com/2018/05/23/xfs-part-2-inodes/">inode</a></h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># after del, grep &quot;00 00 03 02 00 00&quot;</span></span><br><span class="line">                                    <span class="string">---uid---</span>  <span class="string">----gid---</span></span><br><span class="line">                                    <span class="string">|</span>        <span class="string">|</span> <span class="string">|</span>         <span class="string">|</span></span><br><span class="line"><span class="number">00008600</span>  <span class="number">49</span> <span class="string">4e</span> <span class="number">81</span> <span class="string">a4</span> <span class="number">03</span> <span class="number">02</span> <span class="number">00</span> <span class="number">00</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="string">|IN..............|</span> <span class="string">&lt;-not</span> <span class="string">removed</span></span><br><span class="line"><span class="number">00008600</span>  <span class="number">49</span> <span class="string">4e</span> <span class="number">00</span> <span class="number">00</span> <span class="number">03</span> <span class="number">02</span> <span class="number">00</span> <span class="number">00</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="string">|IN..............|</span> <span class="string">&lt;-removed</span></span><br><span class="line"><span class="attr">magic number:</span> <span class="number">49</span> <span class="string">4e</span> <span class="string">=</span> <span class="string">IN(0-1)</span></span><br><span class="line"><span class="string">File</span> <span class="string">type</span> <span class="string">and</span> <span class="string">mode</span> <span class="string">bits</span> <span class="string">(2-3)</span> <span class="string">=</span> <span class="number">81</span> <span class="string">a4</span> <span class="string">=</span> <span class="number">1000</span><span class="string">,000110100100(0644)</span></span><br><span class="line">                                          <span class="string">|</span></span><br><span class="line">                                          <span class="string">-----</span> <span class="number">8</span> <span class="string">Regular</span> <span class="string">file;4</span> <span class="string">Directory;2</span> <span class="string">Character</span> <span class="string">special</span> <span class="string">device;6</span> <span class="string">Block</span> <span class="string">special</span> <span class="string">device;1</span> <span class="string">FIFO;C</span> <span class="string">Socket;A</span> <span class="string">Symlink</span></span><br><span class="line"><span class="string">Version</span> <span class="string">=</span> <span class="number">03</span> <span class="string">=</span> <span class="number">3</span> <span class="string">(4)</span></span><br><span class="line"><span class="string">Data</span> <span class="string">fork</span> <span class="string">type</span> <span class="string">flag</span> <span class="string">=</span> <span class="number">02</span> <span class="string">=</span> <span class="number">2</span> <span class="string">(5)</span></span><br><span class="line"><span class="string">v1</span> <span class="string">inode</span> <span class="string">numlinks</span> <span class="string">field</span> <span class="string">=</span> <span class="number">00</span> <span class="number">00</span> <span class="string">=0</span> <span class="string">(6-7)</span></span><br><span class="line"><span class="string">The</span> <span class="string">original</span> <span class="string">XFS</span> <span class="string">inode</span> <span class="string">tracked</span> <span class="string">the</span> <span class="string">number</span> <span class="string">of</span> <span class="string">links</span> <span class="string">as</span> <span class="string">a</span> <span class="number">16</span><span class="string">-bit</span> <span class="string">value</span> <span class="string">(bytes</span> <span class="number">6</span><span class="number">-7</span><span class="string">),</span> <span class="string">which</span> <span class="string">is</span> <span class="literal">no</span> <span class="string">longer</span> <span class="string">used.</span> <span class="string">Number</span> <span class="string">of</span> <span class="string">links</span> <span class="string">is</span> <span class="string">now</span> <span class="string">tracked</span> <span class="string">as</span> <span class="string">a</span> <span class="number">32</span><span class="string">-bit</span> <span class="string">value</span> <span class="string">found</span> <span class="string">in</span> <span class="string">bytes</span> <span class="number">16</span><span class="number">-19</span><span class="string">.</span></span><br><span class="line"></span><br><span class="line"><span class="number">00008610</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="string">|................|</span></span><br><span class="line"><span class="string">v2+</span> <span class="string">number</span> <span class="string">of</span> <span class="string">links</span> <span class="string">=</span> <span class="number">0</span> <span class="string">(16-19)</span></span><br><span class="line"><span class="string">Project</span> <span class="string">ID</span> <span class="string">(low)</span> <span class="string">=</span> <span class="number">0</span><span class="string">(20-21)</span></span><br><span class="line"><span class="string">Project</span> <span class="string">ID</span> <span class="string">(high)</span> <span class="string">=</span> <span class="number">0</span><span class="string">(22-23)</span></span><br><span class="line"><span class="string">pading</span> <span class="string">(must</span> <span class="string">be</span> <span class="string">zero)</span> <span class="string">=0</span> <span class="string">(24-29)</span></span><br><span class="line"><span class="string">Increment</span> <span class="string">on</span> <span class="string">flush</span> <span class="string">=0</span> <span class="string">(30-31)</span></span><br><span class="line"></span><br><span class="line"><span class="number">00008620</span>  <span class="number">62</span> <span class="string">bb</span> <span class="string">ec</span> <span class="string">a7</span> <span class="number">15</span> <span class="number">69</span> <span class="string">df</span> <span class="string">9c</span>  <span class="number">62</span> <span class="string">bb</span> <span class="string">ea</span> <span class="number">97</span> <span class="string">1d</span> <span class="string">ff</span> <span class="number">60</span> <span class="number">70</span>  <span class="string">|b....i..b.....`p|</span></span><br><span class="line"><span class="number">32</span><span class="number">-35</span> <span class="string">atime</span> <span class="string">epoch</span></span><br><span class="line"><span class="number">36</span><span class="number">-39</span> <span class="string">atime</span> <span class="string">nanoseconds</span></span><br><span class="line"><span class="number">40</span><span class="number">-43</span>    <span class="string">mtime</span> <span class="string">epoch</span> <span class="string">seconds</span></span><br><span class="line"><span class="number">44</span><span class="number">-47</span>    <span class="string">mtime</span> <span class="string">nanoseconds</span></span><br><span class="line"></span><br><span class="line"><span class="number">00008630</span>  <span class="number">62</span> <span class="string">bb</span> <span class="string">ea</span> <span class="number">97</span> <span class="string">1d</span> <span class="string">ff</span> <span class="number">60</span> <span class="number">70</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="string">0d</span> <span class="number">23</span> <span class="number">22</span> <span class="number">45</span>  <span class="string">|b.....`p.....#&quot;E|</span>  <span class="string">&lt;-not</span> <span class="string">removed</span></span><br><span class="line"><span class="number">00008630</span>  <span class="number">62</span> <span class="string">bb</span> <span class="string">ec</span> <span class="string">b1</span> <span class="number">13</span> <span class="number">08</span> <span class="string">0a</span> <span class="string">2f</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="string">|b....../........|</span>  <span class="string">&lt;-removed</span></span><br><span class="line"><span class="number">48</span><span class="number">-51</span>    <span class="string">ctime</span> <span class="string">epoch</span> <span class="string">seconds</span></span><br><span class="line"><span class="number">52</span><span class="number">-55</span>    <span class="string">ctime</span> <span class="string">nanoseconds</span>    </span><br><span class="line"><span class="number">56</span><span class="number">-63</span>    <span class="string">File</span> <span class="string">(data</span> <span class="string">fork)</span> <span class="string">size(important)</span>     <span class="string">removed=0,</span> <span class="string">not</span> <span class="string">removed=0d</span> <span class="number">23</span> <span class="number">22</span> <span class="number">45</span><span class="string">=220406341</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="number">00008640</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="string">d2</span> <span class="number">33</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">01</span>  <span class="string">|.......3........|</span> <span class="string">&lt;-not</span> <span class="string">removed</span></span><br><span class="line"><span class="number">00008640</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="string">|................|</span> <span class="string">&lt;-removed</span></span><br><span class="line"><span class="number">64</span><span class="number">-71</span>    <span class="string">Number</span> <span class="string">of</span> <span class="string">blocks</span> <span class="string">in</span> <span class="string">data</span> <span class="string">fork</span> <span class="string">=</span> <span class="string">d233</span> <span class="string">=</span> <span class="number">53811</span></span><br><span class="line"><span class="number">72</span><span class="number">-75</span>    <span class="string">Extent</span> <span class="string">size</span> <span class="string">hint</span> <span class="string">=</span> <span class="number">0</span></span><br><span class="line"><span class="number">76</span><span class="number">-79</span>    <span class="string">Number</span> <span class="string">of</span> <span class="string">data</span> <span class="string">extents</span> <span class="string">used=1</span> <span class="string">(not</span> <span class="string">removed)</span> <span class="string">,removed</span> <span class="string">=</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="number">00008650</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">02</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="string">af</span> <span class="string">2f</span> <span class="number">13</span> <span class="string">c4</span>  <span class="string">|............./..|</span> <span class="string">&lt;-</span> <span class="string">not</span> <span class="string">removed</span></span><br><span class="line"><span class="number">00008650</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">02</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="string">af</span> <span class="string">2f</span> <span class="number">13</span> <span class="string">c5</span>  <span class="string">|............./..|</span> <span class="string">&lt;-</span> <span class="string">removed</span></span><br><span class="line"><span class="number">80</span><span class="number">-81</span>    <span class="string">Number</span> <span class="string">of</span> <span class="string">extended</span> <span class="string">attribute</span> <span class="string">extents</span>      <span class="number">0</span></span><br><span class="line"><span class="number">82</span>       <span class="string">Inode</span> <span class="string">offset</span> <span class="string">to</span> <span class="string">xattr</span> <span class="string">(8</span> <span class="string">byte</span> <span class="string">multiples)</span>  <span class="number">0</span></span><br><span class="line"><span class="number">83</span>       <span class="string">Extended</span> <span class="string">attribute</span> <span class="string">type</span> <span class="string">flag</span> <span class="string">(see</span> <span class="string">below)</span>  <span class="number">2</span></span><br><span class="line"><span class="number">84</span><span class="number">-87</span>    <span class="string">DMAPI</span> <span class="string">event</span> <span class="string">mask</span>                          <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="number">88</span><span class="number">-89</span>    <span class="string">DMAPI</span> <span class="string">state</span>                               <span class="number">0</span></span><br><span class="line"><span class="number">90</span><span class="number">-91</span>    <span class="string">Flags</span>                                     <span class="number">0</span> <span class="string">(none</span> <span class="string">set)</span></span><br><span class="line"><span class="number">92</span><span class="number">-95</span>    <span class="string">Generation</span> <span class="string">number</span>                         <span class="string">0x</span> <span class="string">af</span> <span class="string">2f</span> <span class="number">13</span> <span class="string">c4(not</span> <span class="string">removed)</span></span><br><span class="line"></span><br><span class="line"><span class="number">00008660</span>  <span class="string">ff</span> <span class="string">ff</span> <span class="string">ff</span> <span class="string">ff</span> <span class="number">04</span> <span class="string">c4</span> <span class="string">ea</span> <span class="string">be</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="string">0d</span> <span class="number">33</span>  <span class="string">|...............3|</span></span><br><span class="line"><span class="number">96</span><span class="number">-99</span>    <span class="string">Next</span> <span class="string">unlinked</span> <span class="string">ptr</span> <span class="string">(if</span> <span class="string">inode</span> <span class="string">unlinked)</span> <span class="string">=</span> <span class="number">-1</span></span><br><span class="line"><span class="string">/*</span> <span class="string">v3</span> <span class="string">inodes</span> <span class="string">(v5</span> <span class="string">file</span> <span class="string">system)</span> <span class="string">have</span> <span class="string">the</span> <span class="string">following</span> <span class="string">fields</span> <span class="string">*/</span></span><br><span class="line"><span class="number">100</span><span class="number">-103</span>  <span class="string">CRC32</span> <span class="string">checksum</span> <span class="string">for</span> <span class="string">inode</span>                  <span class="number">0x04c4eabe</span></span><br><span class="line"></span><br><span class="line"><span class="number">104</span><span class="number">-111</span>  <span class="string">Number</span> <span class="string">of</span> <span class="string">changes</span> <span class="string">to</span> <span class="string">attributes</span>           <span class="string">0d33=3379</span></span><br><span class="line"></span><br><span class="line"><span class="number">00008670</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">01</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="string">0e</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="string">|................|</span></span><br><span class="line"><span class="number">112</span><span class="number">-119</span>  <span class="string">Log</span> <span class="string">sequence</span> <span class="string">number</span> <span class="string">of</span> <span class="string">last</span> <span class="string">update</span>        <span class="number">0x0001000e</span></span><br><span class="line"></span><br><span class="line"><span class="number">120</span><span class="number">-127</span>  <span class="string">Extended</span> <span class="string">flags</span>                            <span class="number">0</span> <span class="string">(none</span> <span class="string">set)</span></span><br><span class="line"></span><br><span class="line"><span class="number">00008680</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="string">|................|</span></span><br><span class="line"><span class="number">128</span><span class="number">-131</span>  <span class="string">Copy</span> <span class="string">on</span> <span class="string">write</span> <span class="string">extent</span> <span class="string">size</span> <span class="string">hint</span>            <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="number">132</span><span class="number">-143</span>  <span class="string">Padding</span> <span class="string">for</span> <span class="string">future</span> <span class="string">use</span>                    <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="number">00008690</span>  <span class="number">62</span> <span class="string">bb</span> <span class="string">ea</span> <span class="number">97</span> <span class="string">0f</span> <span class="number">92</span> <span class="string">c7</span> <span class="number">78</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">43</span>  <span class="string">|b......x.......C|</span></span><br><span class="line"><span class="number">144</span><span class="number">-147</span>  <span class="string">btime</span> <span class="string">epoch</span> <span class="string">seconds</span>                       <span class="number">0x62bbea97</span></span><br><span class="line"><span class="number">148</span><span class="number">-151</span>  <span class="string">btime</span> <span class="string">nanoseconds</span>                         <span class="number">0x0f92c778</span></span><br><span class="line"><span class="number">152</span><span class="number">-159</span>  <span class="string">inode</span> <span class="string">number</span> <span class="string">of</span> <span class="string">this</span> <span class="string">inode</span>                <span class="number">0x43</span> <span class="string">=</span> <span class="number">67</span> <span class="string">(important,</span> <span class="string">inode</span> <span class="string">number)</span></span><br><span class="line"></span><br><span class="line"><span class="string">000086a0</span>  <span class="string">8a</span> <span class="string">b2</span> <span class="string">ce</span> <span class="string">b5</span> <span class="string">8d</span> <span class="number">35</span> <span class="string">4f</span> <span class="number">60</span>  <span class="number">98</span> <span class="number">88</span> <span class="string">4f</span> <span class="string">6c</span> <span class="number">39</span> <span class="string">7c</span> <span class="string">f7</span> <span class="string">af</span>  <span class="string">|.....5O`..Ol9|..|</span></span><br><span class="line"><span class="number">160</span><span class="number">-175</span>  <span class="string">UUID</span></span><br><span class="line"></span><br><span class="line"><span class="string">The</span> <span class="string">remaining</span> <span class="string">space</span> <span class="string">after</span> <span class="string">the</span> <span class="number">176</span> <span class="string">bytes</span> <span class="string">of</span> <span class="string">inode</span> <span class="string">core</span> <span class="string">is</span> <span class="string">used</span> <span class="string">to</span> <span class="string">track</span> <span class="string">the</span> <span class="string">data</span> <span class="string">blocks</span> <span class="string">associated</span> <span class="string">with</span> <span class="string">the</span> <span class="string">file</span> </span><br><span class="line"><span class="attr">The data fork type flag in byte 5 and the extended attribute type flag in byte 83 document how this information is organized. The possible values for these fields are:</span></span><br><span class="line"><span class="string">(bytes</span> <span class="number">83</span><span class="string">)</span> <span class="string">=</span> <span class="number">83</span> <span class="string">Extended</span> <span class="string">attribute</span> <span class="string">type</span> <span class="string">flag</span> <span class="string">(see</span> <span class="string">below)</span> <span class="string">=</span> <span class="number">2</span></span><br><span class="line">   <span class="number">0</span>   <span class="string">Special</span> <span class="string">device</span> <span class="string">file</span> <span class="string">(data</span> <span class="string">type</span> <span class="string">only)</span></span><br><span class="line">   <span class="number">1</span>   <span class="string">Data</span> <span class="string">is</span> <span class="string">resident</span> <span class="string">(&quot;local&quot;)</span> <span class="string">in</span> <span class="string">the</span> <span class="string">inode</span> <span class="string">(82</span> <span class="string">bytes,</span> <span class="string">not</span> <span class="string">test,</span> <span class="number">0x23</span><span class="string">(doc</span> <span class="string">example</span> <span class="string">=</span> <span class="number">35</span> <span class="string">x8b</span> <span class="string">=280)</span></span><br><span class="line"><span class="string">The</span> <span class="string">data</span> <span class="string">fork</span> <span class="string">starts</span> <span class="string">at</span> <span class="string">byte</span> <span class="number">176</span><span class="string">,</span> <span class="string">immediately</span> <span class="string">after</span> <span class="string">the</span> <span class="string">inode</span> <span class="string">core.</span> <span class="string">The</span> <span class="string">start</span> <span class="string">of</span> <span class="string">the</span> <span class="string">extended</span> <span class="string">attribute</span> <span class="string">data</span> <span class="string">is</span> <span class="string">found</span> <span class="string">at</span> <span class="string">an</span> <span class="string">offset</span> <span class="string">from</span> <span class="string">the</span> <span class="string">end</span> <span class="string">of</span> <span class="string">the</span> <span class="string">inode</span> <span class="string">core.</span> <span class="string">This</span> <span class="string">offset</span> <span class="string">is</span> <span class="string">byte</span> <span class="number">82</span> <span class="string">of</span> <span class="string">the</span> <span class="string">inode</span> <span class="string">core,</span> <span class="string">and</span> <span class="string">the</span> <span class="string">units</span> <span class="string">are</span> <span class="string">multiples</span> <span class="string">of</span> <span class="number">8</span> <span class="string">bytes.</span> <span class="string">In</span> <span class="string">our</span> <span class="string">sample</span> <span class="string">inode,</span> <span class="string">the</span> <span class="string">offset</span> <span class="string">value</span> <span class="string">is</span> <span class="number">0x23</span> <span class="string">or</span> <span class="number">35</span><span class="string">.</span> <span class="string">Multiplying</span> <span class="string">by</span> <span class="number">8</span> <span class="string">gives</span> <span class="string">a</span> <span class="string">byte</span> <span class="string">offset</span> <span class="string">of</span> <span class="number">280</span> <span class="string">from</span> <span class="string">the</span> <span class="string">end</span> <span class="string">of</span> <span class="string">the</span> <span class="string">inode</span> <span class="string">core,</span> <span class="string">or</span> <span class="number">176</span><span class="string">+280=456</span> <span class="string">bytes</span> <span class="string">from</span> <span class="string">the</span> <span class="string">beginning</span> <span class="string">of</span> <span class="string">the</span> <span class="string">inode.</span></span><br><span class="line"></span><br><span class="line">   <span class="number">2</span>   <span class="string">Array</span> <span class="string">of</span> <span class="string">extent</span> <span class="string">structures</span> <span class="string">follows</span></span><br><span class="line">   <span class="number">3</span>   <span class="string">B+Tree</span> <span class="string">root</span> <span class="string">follows</span></span><br><span class="line"></span><br><span class="line"><span class="string">an</span> <span class="string">array</span> <span class="string">of</span> <span class="number">16</span> <span class="string">byte</span> <span class="string">extent</span> <span class="string">structures</span> <span class="string">starting</span> <span class="string">immediately</span> <span class="string">after</span> <span class="string">the</span> <span class="string">inode</span> <span class="string">core,</span> <span class="string">Bytes</span> <span class="number">76</span><span class="number">-79</span> <span class="string">indicate</span> <span class="string">how</span> <span class="string">many</span> <span class="string">extent</span> <span class="string">structures</span> <span class="string">are</span> <span class="string">in</span> <span class="string">the</span> <span class="string">array(removed=0,not</span> <span class="string">remove=1)</span></span><br><span class="line"><span class="string">000086b0</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">02</span> <span class="number">00</span> <span class="string">d2</span> <span class="number">33</span>  <span class="string">|...............3|</span></span><br><span class="line"><span class="string">000086c0</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="string">|................|</span></span><br><span class="line">                                            <span class="number">0000 </span><span class="number">0010</span><span class="string">(02)</span> <span class="number">0000 </span><span class="number">0000</span><span class="string">(00)</span> <span class="number">1101 </span><span class="number">0010</span><span class="string">(d2)</span> <span class="number">0011 </span><span class="number">0011</span><span class="string">(33)</span></span><br><span class="line"></span><br><span class="line"><span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span><span class="string">=(12x8)=96x0=96-54-1=41</span></span><br><span class="line"><span class="number">52</span><span class="number">-41</span><span class="string">=11-6(0000,00)=5(10000)</span> </span><br><span class="line"><span class="string">the</span> <span class="string">last</span> <span class="number">21</span> <span class="string">bit=0,0000,1101,0010,0011,0011(Number</span> <span class="string">of</span> <span class="string">blocks</span> <span class="string">in</span> <span class="string">the</span> <span class="string">extent)=53811=d233,</span> <span class="string">the</span> <span class="string">start</span> <span class="string">block=10000</span></span><br><span class="line"><span class="comment">#And the gz file start block is the  0000,0000,0000,0001,0000</span></span><br><span class="line">                                      <span class="string">|</span>   <span class="string">|----start</span> <span class="string">block--|</span>     </span><br><span class="line">                                      <span class="string">|</span></span><br><span class="line">                                      <span class="string">----AG</span> <span class="string">number,</span> <span class="attr">eg:</span> <span class="comment">#1100 0000 0100 0000 0111 1001(), if it &#x27;s the 1100=0xc, it means AG=3 in the example, the begin addr = 3xAG size+</span></span><br><span class="line">                                                                                      <span class="string">Does</span> <span class="string">it</span> <span class="string">split</span> <span class="number">11</span><span class="string">,00</span> <span class="string">???</span></span><br><span class="line"><span class="string">*</span></span><br><span class="line"><span class="number">00010000</span>  <span class="string">1f</span> <span class="string">8b</span> <span class="number">08</span> <span class="number">00</span> <span class="number">63</span> <span class="string">ea</span> <span class="string">bb</span> <span class="number">62</span>  <span class="number">00</span> <span class="number">03</span> <span class="string">ec</span> <span class="string">5c</span> <span class="number">65</span> <span class="number">40</span> <span class="string">5c</span> <span class="string">c9</span>  <span class="string">|....c..b...\e@\.|</span></span><br><span class="line"><span class="number">00010010</span>  <span class="string">d2</span> <span class="string">ad</span> <span class="string">be</span> <span class="number">01</span> <span class="number">42</span> <span class="number">88</span> <span class="string">bb</span> <span class="string">ec</span>  <span class="number">66</span> <span class="number">33</span> <span class="number">71</span> <span class="number">65</span> <span class="number">98</span> <span class="number">41</span> <span class="number">06</span> <span class="string">c8</span>  <span class="string">|....B...f3qe.A..|</span></span><br><span class="line"><span class="number">00010020</span>  <span class="string">5a</span> <span class="number">08</span> <span class="number">10</span> <span class="number">42</span> <span class="number">82</span> <span class="number">05</span> <span class="number">89</span> <span class="number">67</span>  <span class="string">b3</span> <span class="string">f1</span> <span class="number">65</span> <span class="number">23</span> <span class="number">24</span> <span class="string">c0</span> <span class="number">26</span> <span class="number">59</span>  <span class="string">|Z..B...g..e#$.&amp;Y|</span></span><br></pre></td></tr></table></figure>
<p>After recovery some gz files, at least the gz padding only 2 bytes or more(“00 00” show in hexdump)     </p>
<h3 id="directory"><a href="#directory" class="headerlink" title="directory"></a><a target="_blank" rel="noopener" href="https://righteousit.wordpress.com/2018/05/25/xfs-part-3-short-form-directories/">directory</a></h3><p>Because only 3 dirs in the xfs system, easy to find it   </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">00008600  49 4e 41 ed 03 01 00 00  00 00 00 00 00 00 00 00  |INA.............|</span><br><span class="line">                          |</span><br><span class="line">                       1 Data is resident (<span class="string">&quot;local&quot;</span>) <span class="keyword">in</span> the inode</span><br><span class="line">41 ed=100(4 dir);000,111,101,101(0755)</span><br><span class="line">00008610  00 00 00 02 00 00 00 00  00 00 00 00 00 00 00 00  |................|</span><br><span class="line">00008620  62 be 62 26 2c 9e c7 90  62 be 96 3e 2a 16 30 77  |b.b&amp;,...b..&gt;*.0w|</span><br><span class="line">00008630  62 be 96 3e 2a 16 30 77  00 00 00 00 00 00 00 82  |b..&gt;*.0w........|</span><br><span class="line">56-63    File (data fork) size                     0x82 = 130</span><br><span class="line">                                                           |</span><br><span class="line">ls -ls                         -----------------------------</span><br><span class="line">total 244                      |</span><br><span class="line">  0 drwxr-xr-x 2 root root    130 Jul  1 14:37 testdir1 </span><br><span class="line">  4 drwxr-xr-x 2 root root   4096 Jul  1 10:01 testdir2</span><br><span class="line">240 drwxr-xr-x 2 root root 163840 Jul  1 10:01 testdir3</span><br><span class="line"></span><br><span class="line">00008640  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|</span><br><span class="line">00008650  00 00 00 02 00 00 00 00  00 00 00 00 1e 10 dd 91  |................|</span><br><span class="line">00008660  ff ff ff ff f5 be 4d 3f  00 00 00 00 00 00 00 11  |......M?........|</span><br><span class="line">00008670  00 00 00 01 00 00 17 85  00 00 00 00 00 00 00 00  |................|</span><br><span class="line">00008680  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|</span><br><span class="line">00008690  62 be 55 33 1a e7 b7 c7  00 00 00 00 00 00 00 43  |b.U3...........C|</span><br><span class="line"></span><br><span class="line">152-159  inode number of this inode = 00 00 00 00 00 00 00 43    </span><br><span class="line"></span><br><span class="line">000086a0  8a b2 ce b5 8d 35 4f 60  98 88 4f 6c 39 7c f7 af  |.....5O`..Ol9|..|</span><br><span class="line">000086b0  06 00 00 00 00 40 0e 00  60 74 65 73 74 64 69 72  |.....@..`testdir|</span><br><span class="line">176      Number of directory entries                   6</span><br><span class="line">177      Number of dir entries needing 64-bit inodes   0 &lt;----0 means 32 bit, no zero means 64 bit</span><br><span class="line">178-181  Inode of parent                               0x00000040  &lt;--- <span class="string">&quot;..&quot;</span></span><br><span class="line">This means the directory data will use 32 bits to store inodes <span class="keyword">in</span> order to save space.</span><br><span class="line"></span><br><span class="line">0e 00 60;74 65 73 74 64 69 72  |.....@..`testdir|</span><br><span class="line">|    |   |-----name---------|</span><br><span class="line">len  |</span><br><span class="line">     --offset 0x0060</span><br><span class="line"></span><br><span class="line">000086c0  5f 66 69 6c 65 5f 30 01  00 00 00 44 0e 00 80 74  |_file_0....D...t|</span><br><span class="line">          |-------name-------| |   |4 or 8----| |     | |--74 is name---|</span><br><span class="line">                               -<span class="built_in">type</span>   |        --len |</span><br><span class="line">                                       |              -----offset 0x0080</span><br><span class="line">                                       |</span><br><span class="line">                                       ---absolute inode addr=0x00000044</span><br><span class="line"><span class="built_in">type</span> 1:Regular file</span><br><span class="line">First we have a single byte <span class="keyword">for</span> the file name length <span class="keyword">in</span> bytes. Like other Unix file systems, there is a 255 character file name <span class="built_in">limit</span></span><br><span class="line">The next two bytes are based on the byte offset the directory entry would have <span class="keyword">if</span> it were a normal XFS directory entry and not packed into a short form directory <span class="keyword">in</span> the inode.</span><br><span class="line"></span><br><span class="line">000086d0  65 73 74 64 69 72 5f 66  69 6c 65 5f 31 01 00 00  |estdir_file_1...|</span><br><span class="line">000086e0  00 45 0e 00 a0 74 65 73  74 64 69 72 5f 66 69 6c  |.E...testdir_fil|</span><br><span class="line">000086f0  65 5f 32 01 00 00 00 46  0e 00 c0 74 65 73 74 64  |e_2....F...testd|</span><br><span class="line">00008700  69 72 5f 66 69 6c 65 5f  33 01 00 00 00 47 0e 00  |ir_file_3....G..|</span><br><span class="line">00008710  e0 74 65 73 74 64 69 72  5f 66 69 6c 65 5f 34 01  |.testdir_file_4.|</span><br><span class="line">00008720  00 00 00 48 06 01 00 70  61 73 73 77 64 01 00 00  |...H...passwd...|</span><br><span class="line">00008730  00 49 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |.I..............|</span><br><span class="line">00008740  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|</span><br></pre></td></tr></table></figure>

<p>from 5 to 50 files in this directory</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br></pre></td><td class="code"><pre><span class="line">00008600  49 4e 41 ed 03 02 00 00  00 00 00 00 00 00 00 00  |INA.............|</span><br><span class="line">                          |</span><br><span class="line">           change to 2   Array of extent structures follows</span><br><span class="line">00008610  00 00 00 02 00 00 00 00  00 00 00 00 00 00 00 00  |................|</span><br><span class="line">00008620  62 c1 30 bd 35 44 <span class="built_in">fc</span> ce  62 c1 30 bc 14 4e cc c7  |b.0.5D..b.0..N..|</span><br><span class="line">00008630  62 c1 30 bc 14 4e cc c7  00 00 00 00 00 00 10 00  |b.0..N..........|</span><br><span class="line">00008640  00 00 00 00 00 00 00 01  00 00 00 00 00 00 00 01  |................|</span><br><span class="line">                                                    |</span><br><span class="line">                                    76-79    Number of data extents used=1</span><br><span class="line">00008650  00 00 00 02 00 00 00 00  00 00 00 00 1e 10 dd 91  |................|</span><br><span class="line">00008660  ff ff ff ff 4d 46 bd 1a  00 00 00 00 00 00 00 47  |....MF.........G|</span><br><span class="line">00008670  00 00 00 01 00 00 17 b1  00 00 00 00 00 00 00 00  |................|</span><br><span class="line">00008680  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|</span><br><span class="line">00008690  62 be 55 33 1a e7 b7 c7  00 00 00 00 00 00 00 43  |b.U3...........C|</span><br><span class="line">000086a0  8a b2 ce b5 8d 35 4f 60  98 88 4f 6c 39 7c f7 af  |.....5O`..Ol9|..|</span><br><span class="line">000086b0  00 00 00 00 00 00 00 00  00 00 00 00 a2 20 00 01  |............. ..|</span><br><span class="line">                                                    |</span><br><span class="line">                                                    |</span><br><span class="line">a2 20 00 01=0101,0001,0001(0x511,1279), 0,0000,0000,0000,0000,0001</span><br><span class="line">                                  |            ------------------------------------------------</span><br><span class="line">                                  -------------|                                              |</span><br><span class="line">                                               |                                              |</span><br><span class="line">dd <span class="keyword">if</span>=/dev/loop0 bs=4096  skip=$((<span class="number">0</span>*<span class="number">262144</span> + <span class="number">1297</span>)) count=1 | hexdump -C                      |</span><br><span class="line">dd <span class="keyword">if</span>=/dev/loop0 bs=4096  skip=1297 count=1 2&gt; /dev/null | hexdump -C  | head -n 40           |</span><br><span class="line">                                                                                              |</span><br><span class="line">00000000  58 44 42 33 e5 b8 37 47  00 00 00 00 00 00 28 88  |XDB3..7G......(.|                |</span><br><span class="line">0-3      Magic number                       XDB3                                              |</span><br><span class="line">4-7      CRC32 checksum                     0xe5b83747                                        |</span><br><span class="line">8-15     Sector offset of this block        0x2888 = 10376, 10376/8=1297-----------------------</span><br><span class="line"></span><br><span class="line">00000010  00 00 00 01 00 00 17 b1  8a b2 ce b5 8d 35 4f 60  |.............5O`|</span><br><span class="line">16-23    Last LSN update                    0x1000017b1</span><br><span class="line">24-39    UUID                               8ab2ce-...-f7af</span><br><span class="line"></span><br><span class="line">00000020  98 88 4f 6c 39 7c f7 af  00 00 00 00 00 00 00 43  |..Ol9|.........C|</span><br><span class="line">24-39    UUID                               8ab2ce-...-f7af</span><br><span class="line"></span><br><span class="line">40-47    inode that points to this block    0x43 = 67 = 01000011 , 67/8=8 67%8=3</span><br><span class="line">dd <span class="keyword">if</span>=/dev/loop0 bs=4096 skip=$((<span class="number">0</span>*<span class="number">262144</span> + <span class="number">8</span>)) count=1 2&gt;/dev/null | dd bs=512 skip=3 count=1 2&gt;/dev/null | hexdump -C</span><br><span class="line">------------ get the parent dir inode info</span><br><span class="line">    00000000  49 4e 41 ed 03 02 00 00  00 00 00 00 00 00 00 00  |INA.............|</span><br><span class="line">    00000010  00 00 00 02 00 00 00 00  00 00 00 00 00 00 00 00  |................|</span><br><span class="line">    00000020  62 c1 30 bd 35 44 <span class="built_in">fc</span> ce  62 c1 30 bc 14 4e cc c7  |b.0.5D..b.0..N..|</span><br><span class="line">    00000030  62 c1 30 bc 14 4e cc c7  00 00 00 00 00 00 10 00  |b.0..N..........|</span><br><span class="line">    00000040  00 00 00 00 00 00 00 01  00 00 00 00 00 00 00 01  |................|</span><br><span class="line">    00000050  00 00 00 02 00 00 00 00  00 00 00 00 1e 10 dd 91  |................|</span><br><span class="line">    00000060  ff ff ff ff 4d 46 bd 1a  00 00 00 00 00 00 00 47  |....MF.........G|</span><br><span class="line">    00000070  00 00 00 01 00 00 17 b1  00 00 00 00 00 00 00 00  |................|</span><br><span class="line">    00000080  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|</span><br><span class="line">    00000090  62 be 55 33 1a e7 b7 c7  00 00 00 00 00 00 00 43  |b.U3...........C|</span><br><span class="line">    000000a0  8a b2 ce b5 8d 35 4f 60  98 88 4f 6c 39 7c f7 af  |.....5O`..Ol9|..|</span><br><span class="line">    000000b0  00 00 00 00 00 00 00 00  00 00 00 00 a2 20 00 01  |............. ..|</span><br><span class="line">    000000c0  5f 66 69 6c 65 5f 30 01  00 00 00 44 0e 00 80 74  |_file_0....D...t|</span><br><span class="line">    000000d0  65 73 74 64 69 72 5f 66  69 6c 65 5f 31 01 00 00  |estdir_file_1...|</span><br><span class="line">    000000e0  00 45 0e 00 a0 74 65 73  74 64 69 72 5f 66 69 6c  |.E...testdir_fil|</span><br><span class="line">    000000f0  65 5f 32 01 00 00 00 46  0e 00 c0 74 65 73 74 64  |e_2....F...testd|</span><br><span class="line">    00000100  69 72 5f 66 69 6c 65 5f  33 01 00 00 00 47 0e 00  |ir_file_3....G..|</span><br><span class="line">    00000110  e0 74 65 73 74 64 69 72  5f 66 69 6c 65 5f 34 01  |.testdir_file_4.|</span><br><span class="line">    00000120  00 00 00 48 06 01 00 70  61 73 73 77 64 01 00 00  |...H...passwd...|</span><br><span class="line">    00000130  00 49 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |.I..............|</span><br><span class="line">    00000140  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|</span><br><span class="line">----------------------------------dd output------------------------------------------                                              </span><br><span class="line"></span><br><span class="line">00000030  07 78 06 a8 00 00 00 00  00 00 00 00 00 00 00 00  |.x..............|</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">00000040  00 00 00 00 00 00 00 43  01 2e 02 00 00 00 00 40  |.......C.......@|</span><br><span class="line">00000050  00 00 00 00 00 00 00 40  02 2e 2e 02 00 00 00 50  |.......@.......P|</span><br><span class="line">00000060  00 00 00 00 00 00 00 44  0e 74 65 73 74 64 69 72  |.......D.testdir|</span><br><span class="line">00000070  5f 66 69 6c 65 5f 30 01  00 00 00 00 00 00 00 60  |_file_0........`|</span><br><span class="line">00000080  00 00 00 00 00 00 00 45  0e 74 65 73 74 64 69 72  |.......E.testdir|</span><br><span class="line">00000090  5f 66 69 6c 65 5f 31 01  00 00 00 00 00 00 00 80  |_file_1.........|</span><br><span class="line">000000a0  00 00 00 00 00 00 00 46  0e 74 65 73 74 64 69 72  |.......F.testdir|</span><br><span class="line">000000b0  5f 66 69 6c 65 5f 32 01  00 00 00 00 00 00 00 a0  |_file_2.........|</span><br><span class="line">000000c0  00 00 00 00 00 00 00 47  0e 74 65 73 74 64 69 72  |.......G.testdir|</span><br><span class="line">000000d0  5f 66 69 6c 65 5f 33 01  00 00 00 00 00 00 00 c0  |_file_3.........|</span><br><span class="line">000000e0  00 00 00 00 00 00 00 48  0e 74 65 73 74 64 69 72  |.......H.testdir|</span><br><span class="line">000000f0  5f 66 69 6c 65 5f 34 01  00 00 00 00 00 00 00 e0  |_file_4.........|</span><br><span class="line">00000100  00 00 00 00 00 00 00 49  06 70 61 73 73 77 64 01  |.......I.passwd.|</span><br><span class="line">00000110  00 00 00 00 00 00 01 00  00 00 00 00 00 00 00 4a  |...............J|</span><br><span class="line">00000120  0e 74 65 73 74 64 69 72  5f 66 69 6c 65 5f 35 01  |.testdir_file_5.|</span><br><span class="line">00000130  00 00 00 00 00 00 01 18  00 00 00 00 00 00 00 4b  |...............K|</span><br><span class="line">00000140  0e 74 65 73 74 64 69 72  5f 66 69 6c 65 5f 36 01  |.testdir_file_6.|</span><br><span class="line">00000150  00 00 00 00 00 00 01 38  00 00 00 00 00 00 00 4c  |.......8.......L|</span><br><span class="line">00000160  0e 74 65 73 74 64 69 72  5f 66 69 6c 65 5f 37 01  |.testdir_file_7.|</span><br><span class="line">00000170  00 00 00 00 00 00 01 58  00 00 00 00 00 00 00 4d  |.......X.......M|</span><br><span class="line">00000180  0e 74 65 73 74 64 69 72  5f 66 69 6c 65 5f 38 01  |.testdir_file_8.|</span><br><span class="line">00000190  00 00 00 00 00 00 01 78  00 00 00 00 00 00 00 4e  |.......x.......N|</span><br><span class="line">000001a0  0e 74 65 73 74 64 69 72  5f 66 69 6c 65 5f 39 01  |.testdir_file_9.|</span><br><span class="line">000001b0  00 00 00 00 00 00 01 98  00 00 00 00 00 00 00 4f  |...............O|</span><br><span class="line">000001c0  0f 74 65 73 74 64 69 72  5f 66 69 6c 65 5f 31 30  |.testdir_file_10|</span><br><span class="line">000001d0  01 00 00 00 00 00 01 b8  00 00 00 00 00 00 00 50  |...............P|</span><br><span class="line">000001e0  0f 74 65 73 74 64 69 72  5f 66 69 6c 65 5f 31 31  |.testdir_file_11|</span><br><span class="line">000001f0  01 00 00 00 00 00 01 d8  00 00 00 00 00 00 00 51  |...............Q|</span><br><span class="line">00000200  0f 74 65 73 74 64 69 72  5f 66 69 6c 65 5f 31 32  |.testdir_file_12|</span><br><span class="line"></span><br><span class="line">                                     </span><br><span class="line">00000210  01 00 00 00 00 00 01 f8  00 00 00 00 00 00 00 52  |...............R|</span><br><span class="line">                                   |-----inode 0x52=82------|</span><br><span class="line">ls -i testdir_file_13</span><br><span class="line">82 testdir_file_13</span><br><span class="line"></span><br><span class="line">00000220  0f 74 65 73 74 64 69 72  5f 66 69 6c 65 5f 31 33  |.testdir_file_13|</span><br><span class="line">          |  |----------------filename 15-----------------|</span><br><span class="line">          |</span><br><span class="line">   filename length=15</span><br><span class="line"></span><br><span class="line">00000230  01 00 00 00 00 00 02 18  00 00 00 00 00 00 00 53  |...............S|</span><br><span class="line">          |  |--padding--|    |</span><br><span class="line">          |                   |</span><br><span class="line">      file <span class="built_in">type</span>            0x0218=536 (Byte offset of this directory entry)</span><br><span class="line"></span><br><span class="line">00000240  0f 74 65 73 74 64 69 72  5f 66 69 6c 65 5f 31 34  |.testdir_file_14|</span><br><span class="line"></span><br><span class="line">$ ls /mnt/testdir1</span><br><span class="line">passwd           testdir_file_13  testdir_file_19  testdir_file_24  testdir_file_3   testdir_file_35  testdir_file_40  testdir_file_46  testdir_file_51  testdir_file_7</span><br><span class="line">testdir_file_0   testdir_file_14  testdir_file_2   testdir_file_25  testdir_file_30  testdir_file_36  testdir_file_41  testdir_file_47  testdir_file_52  testdir_file_8</span><br><span class="line">testdir_file_1   testdir_file_15  testdir_file_20  testdir_file_26  testdir_file_31  testdir_file_37  testdir_file_42  testdir_file_48  testdir_file_53  testdir_file_9</span><br><span class="line">testdir_file_10  testdir_file_16  testdir_file_21  testdir_file_27  testdir_file_32  testdir_file_38  testdir_file_43  testdir_file_49  testdir_file_54</span><br><span class="line">testdir_file_11  testdir_file_17  testdir_file_22  testdir_file_28  testdir_file_33  testdir_file_39  testdir_file_44  testdir_file_5   testdir_file_55</span><br><span class="line">testdir_file_12  testdir_file_18  testdir_file_23  testdir_file_29  testdir_file_34  testdir_file_4   testdir_file_45  testdir_file_50  testdir_file_6</span><br><span class="line">------------------------------dd output----------------------------------------</span><br><span class="line"></span><br><span class="line">000086c0  5f 66 69 6c 65 5f 30 01  00 00 00 44 0e 00 80 74  |_file_0....D...t|</span><br><span class="line">000086d0  65 73 74 64 69 72 5f 66  69 6c 65 5f 31 01 00 00  |estdir_file_1...|</span><br><span class="line">000086e0  00 45 0e 00 a0 74 65 73  74 64 69 72 5f 66 69 6c  |.E...testdir_fil|</span><br><span class="line">000086f0  65 5f 32 01 00 00 00 46  0e 00 c0 74 65 73 74 64  |e_2....F...testd|</span><br><span class="line">00008700  69 72 5f 66 69 6c 65 5f  33 01 00 00 00 47 0e 00  |ir_file_3....G..|</span><br><span class="line">00008710  e0 74 65 73 74 64 69 72  5f 66 69 6c 65 5f 34 01  |.testdir_file_4.|</span><br><span class="line">00008720  00 00 00 48 06 01 00 70  61 73 73 77 64 01 00 00  |...H...passwd...|</span><br><span class="line">00008730  00 49 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |.I..............|</span><br><span class="line">00008740  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|</span><br></pre></td></tr></table></figure>

<h3 id="re-test-xfs"><a href="#re-test-xfs" class="headerlink" title="re-test xfs"></a>re-test xfs</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br></pre></td><td class="code"><pre><span class="line">xfs_db&gt; sb</span><br><span class="line">xfs_db&gt; p</span><br><span class="line">magicnum = 0x58465342</span><br><span class="line">blocksize = 4096</span><br><span class="line">dblocks = 414720</span><br><span class="line">rblocks = 0</span><br><span class="line">rextents = 0</span><br><span class="line">uuid = 70463de0-0501-4081-9e24-f0e871918884</span><br><span class="line">logstart = 262150</span><br><span class="line">rootino = 128</span><br><span class="line">rbmino = 129</span><br><span class="line">rsumino = 130</span><br><span class="line">rextsize = 1</span><br><span class="line">agblocks = 103680</span><br><span class="line">agcount = 4</span><br><span class="line">rbmblocks = 0</span><br><span class="line">logblocks = 2560</span><br><span class="line">versionnum = 0xb4a5</span><br><span class="line">sectsize = 512</span><br><span class="line">inodesize = 512</span><br><span class="line">inopblock = 8</span><br><span class="line">fname = <span class="string">&quot;\000\000\000\000\000\000\000\000\000\000\000\000&quot;</span></span><br><span class="line">blocklog = 12</span><br><span class="line">sectlog = 9</span><br><span class="line">inodelog = 9</span><br><span class="line">inopblog = 3</span><br><span class="line">agblklog = 17</span><br><span class="line">rextslog = 0</span><br><span class="line">inprogress = 0</span><br><span class="line">imax_pct = 25</span><br><span class="line">icount = 64</span><br><span class="line">ifree = 61</span><br><span class="line">fdblocks = 412128</span><br><span class="line">frextents = 0</span><br><span class="line">uquotino = null</span><br><span class="line">gquotino = null</span><br><span class="line">qflags = 0</span><br><span class="line">flags = 0</span><br><span class="line">shared_vn = 0</span><br><span class="line">inoalignmt = 8</span><br><span class="line">unit = 0</span><br><span class="line">width = 0</span><br><span class="line">dirblklog = 0</span><br><span class="line">logsectlog = 0</span><br><span class="line">logsectsize = 0</span><br><span class="line">logsunit = 1</span><br><span class="line">features2 = 0x18a</span><br><span class="line">bad_features2 = 0x18a</span><br><span class="line">features_compat = 0</span><br><span class="line">features_ro_compat = 0x5</span><br><span class="line">features_incompat = 0x3</span><br><span class="line">features_log_incompat = 0</span><br><span class="line">crc = 0xa06bbb49 (correct)</span><br><span class="line">spino_align = 4</span><br><span class="line">pquotino = null</span><br><span class="line">lsn = 0x100000008</span><br><span class="line">meta_uuid = 00000000-0000-0000-0000-000000000000</span><br><span class="line"></span><br><span class="line"><span class="comment"># ls -li /mnt/test_dir2/passwd </span></span><br><span class="line">1172197 -rw-r--r-- 1 root root 2613 Jul 10 13:47 /mnt/test_dir2/passwd</span><br><span class="line"><span class="comment"># xfs_db /dev/loop20</span></span><br><span class="line">xfs_db&gt; convert inode 1172197 agno</span><br><span class="line">0x1 (1)</span><br><span class="line">xfs_db&gt; convert inode 1172197 agino</span><br><span class="line">0x1e2e5 (123621)</span><br><span class="line">xfs_db&gt; convert inode 1172197 agblock</span><br><span class="line">0x3c5c (15452)</span><br><span class="line">xfs_db&gt; convert inode 1172197 offset</span><br><span class="line">0x5 (5)</span><br><span class="line"></span><br><span class="line">agblocks = 103680</span><br><span class="line">agcount = 4</span><br><span class="line"></span><br><span class="line"><span class="comment">#inode ---&gt; block</span></span><br><span class="line"></span><br><span class="line">$ dd <span class="keyword">if</span>=/dev/loop20 bs=4096 skip=$((<span class="number">1</span>*<span class="number">103680</span> + <span class="number">15452</span>)) count=1 2&gt; /dev/null | dd bs=512 skip=5 count=1 2&gt;/dev/null | hexdump -C</span><br><span class="line">00000000  49 4e 81 a4 03 02 00 00  00 00 00 00 00 00 00 00  |IN..............|</span><br><span class="line">00000010  00 00 00 01 00 00 00 00  00 00 00 00 00 00 00 00  |................|</span><br><span class="line">00000020  62 ca 67 eb 25 f7 5e e5  62 ca 67 eb 25 f7 5e e5  |b.g.%.^.b.g.%.^.|</span><br><span class="line">00000030  62 ca 67 eb 25 f7 5e e5  00 00 00 00 00 00 0a 35  |b.g.%.^........5|</span><br><span class="line">00000040  00 00 00 00 00 00 00 01  00 00 00 00 00 00 00 01  |................|</span><br><span class="line">                                                      |</span><br><span class="line">76-79    Number of data extents used=1 (not removed) ,removed = 0</span><br><span class="line"></span><br><span class="line">00000050  00 00 00 02 00 00 00 00  00 00 00 00 16 63 4c 70  |.............cLp|</span><br><span class="line">00000060  ff ff ff ff <span class="built_in">fc</span> 7d ac d2  00 00 00 00 00 00 00 05  |.....&#125;..........|</span><br><span class="line">00000070  00 00 00 01 00 00 00 6b  00 00 00 00 00 00 00 00  |.......k........|</span><br><span class="line">00000080  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|</span><br><span class="line">00000090  62 ca 67 eb 25 f7 5e e5  00 00 00 00 00 11 e2 e5  |b.g.%.^.........|</span><br><span class="line">000000a0  70 46 3d e0 05 01 40 81  9e 24 f0 e8 71 91 88 84  |pF=...@..$..q...|</span><br><span class="line">000000b0  00 00 00 00 00 00 00 00  00 00 00 47 8a 80 00 01  |...........G....|</span><br><span class="line"></span><br><span class="line">                                 478a800001=010,0011,1100,0101,0100; 0,0000,0000,0000,0000,0001 --&gt;  Number of blocks <span class="keyword">in</span> the extent = 1; dd count=1</span><br><span class="line">                                             |          |                          </span><br><span class="line">                                             |    0x3c35=15444, the max = 0xffff = 1048575 bytes, looks like it will auto increase, how to increase ???, total 52 bit</span><br><span class="line">                                    010=ag=0x2=1,<span class="keyword">if</span>=1100=0xc=3, ??? don<span class="string">&#x27;t know why 0xc=3 , 0x2=1</span></span><br><span class="line"><span class="string">                                    </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">$ dd if=/dev/loop20 bs=4096 skip=$((1*103680+15444)) count=1 2&gt;/dev/null | hexdump -C | head</span></span><br><span class="line"><span class="string">00000000  72 6f 6f 74 3a 78 3a 30  3a 30 3a 72 6f 6f 74 3a  |root:x:0:0:root:|</span></span><br><span class="line"><span class="string">00000010  2f 72 6f 6f 74 3a 2f 62  69 6e 2f 62 61 73 68 0a  |/root:/bin/bash.|</span></span><br><span class="line"><span class="string">00000020  64 61 65 6d 6f 6e 3a 78  3a 31 3a 31 3a 64 61 65  |daemon:x:1:1:dae|</span></span><br><span class="line"><span class="string">00000030  6d 6f 6e 3a 2f 75 73 72  2f 73 62 69 6e 3a 2f 75  |mon:/usr/sbin:/u|</span></span><br><span class="line"><span class="string">00000040  73 72 2f 73 62 69 6e 2f  6e 6f 6c 6f 67 69 6e 0a  |sr/sbin/nologin.|</span></span><br><span class="line"><span class="string">00000050  62 69 6e 3a 78 3a 32 3a  32 3a 62 69 6e 3a 2f 62  |bin:x:2:2:bin:/b|</span></span><br><span class="line"><span class="string">00000060  69 6e 3a 2f 75 73 72 2f  73 62 69 6e 2f 6e 6f 6c  |in:/usr/sbin/nol|</span></span><br><span class="line"><span class="string">00000070  6f 67 69 6e 0a 73 79 73  3a 78 3a 33 3a 33 3a 73  |ogin.sys:x:3:3:s|</span></span><br><span class="line"><span class="string">00000080  79 73 3a 2f 64 65 76 3a  2f 75 73 72 2f 73 62 69  |ys:/dev:/usr/sbi|</span></span><br><span class="line"><span class="string">00000090  6e 2f 6e 6f 6c 6f 67 69  6e 0a 73 79 6e 63 3a 78  |n/nologin.sync:x|</span></span><br></pre></td></tr></table></figure>

<p>next, found the dir meta</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br><span class="line">656</span><br><span class="line">657</span><br><span class="line">658</span><br><span class="line">659</span><br><span class="line">660</span><br><span class="line">661</span><br><span class="line">662</span><br><span class="line">663</span><br><span class="line">664</span><br><span class="line">665</span><br><span class="line">666</span><br><span class="line">667</span><br><span class="line">668</span><br><span class="line">669</span><br><span class="line">670</span><br><span class="line">671</span><br><span class="line">672</span><br><span class="line">673</span><br><span class="line">674</span><br><span class="line">675</span><br><span class="line">676</span><br><span class="line">677</span><br><span class="line">678</span><br><span class="line">679</span><br><span class="line">680</span><br><span class="line">681</span><br><span class="line">682</span><br><span class="line">683</span><br><span class="line">684</span><br><span class="line">685</span><br><span class="line">686</span><br><span class="line">687</span><br><span class="line">688</span><br><span class="line">689</span><br><span class="line">690</span><br><span class="line">691</span><br><span class="line">692</span><br><span class="line">693</span><br><span class="line">694</span><br><span class="line">695</span><br><span class="line">696</span><br><span class="line">697</span><br><span class="line">698</span><br><span class="line">699</span><br><span class="line">700</span><br><span class="line">701</span><br><span class="line">702</span><br><span class="line">703</span><br><span class="line">704</span><br><span class="line">705</span><br><span class="line">706</span><br><span class="line">707</span><br><span class="line">708</span><br><span class="line">709</span><br><span class="line">710</span><br><span class="line">711</span><br><span class="line">712</span><br><span class="line">713</span><br><span class="line">714</span><br><span class="line">715</span><br><span class="line">716</span><br><span class="line">717</span><br><span class="line">718</span><br><span class="line">719</span><br><span class="line">720</span><br><span class="line">721</span><br><span class="line">722</span><br><span class="line">723</span><br><span class="line">724</span><br><span class="line">725</span><br><span class="line">726</span><br><span class="line">727</span><br><span class="line">728</span><br><span class="line">729</span><br><span class="line">730</span><br><span class="line">731</span><br><span class="line">732</span><br><span class="line">733</span><br><span class="line">734</span><br><span class="line">735</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># here is the root meta, only 2 dir in the root, test_dir1 and test_dir2</span></span><br><span class="line"></span><br><span class="line"><span class="number">00010000</span>  <span class="number">49</span> <span class="string">4e</span> <span class="number">41</span> <span class="string">ed</span> <span class="number">03</span> <span class="number">01</span> <span class="number">00</span> <span class="number">00</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="string">|INA.............|</span></span><br><span class="line">                          <span class="string">|</span></span><br><span class="line">                          <span class="number">1</span> <span class="string">Data</span> <span class="string">is</span> <span class="string">resident</span> <span class="string">(&quot;local&quot;)</span> <span class="string">in</span> <span class="string">the</span> <span class="string">inode</span></span><br><span class="line"><span class="number">41</span> <span class="string">ed=100(4</span> <span class="string">dir);000,111,101,101(0755)</span></span><br><span class="line"></span><br><span class="line"><span class="number">00010010</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">04</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="string">|................|</span></span><br><span class="line"><span class="number">00010020</span>  <span class="number">62</span> <span class="string">ca</span> <span class="number">66</span> <span class="number">21</span> <span class="string">1b</span> <span class="number">81</span> <span class="string">0c</span> <span class="number">30</span>  <span class="number">62</span> <span class="string">ca</span> <span class="number">66</span> <span class="number">20</span> <span class="number">35</span> <span class="number">04</span> <span class="number">91</span> <span class="number">14</span>  <span class="string">|b.f!...0b.f</span> <span class="number">5</span><span class="string">...|</span></span><br><span class="line"><span class="number">00010030</span>  <span class="number">62</span> <span class="string">ca</span> <span class="number">66</span> <span class="number">20</span> <span class="number">35</span> <span class="number">04</span> <span class="number">91</span> <span class="number">14</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">28</span>  <span class="string">|b.f</span> <span class="number">5</span><span class="string">..........(|</span></span><br><span class="line"><span class="number">56</span><span class="number">-63</span>    <span class="string">File</span> <span class="string">(data</span> <span class="string">fork)</span> <span class="string">size</span>                     <span class="number">0x28</span> <span class="string">=</span> <span class="number">40</span></span><br><span class="line">                                                          <span class="string">|</span></span><br><span class="line">                            <span class="string">-------------------------------</span></span><br><span class="line"><span class="string">ls</span> <span class="string">-lh</span> <span class="string">/</span>  <span class="string">|grep</span> <span class="string">mnt</span>         <span class="string">|</span></span><br><span class="line"><span class="string">drwxr-xr-x</span>   <span class="number">4</span> <span class="string">root</span> <span class="string">root</span>   <span class="number">40</span> <span class="string">Jul</span> <span class="number">10</span> <span class="number">13</span><span class="string">:39</span> <span class="string">mnt</span></span><br><span class="line"><span class="string">df</span> <span class="string">-h</span> <span class="string">/mnt</span></span><br><span class="line"><span class="string">Filesystem</span>      <span class="string">Size</span>  <span class="string">Used</span> <span class="string">Avail</span> <span class="string">Use%</span> <span class="string">Mounted</span> <span class="string">on</span></span><br><span class="line"><span class="string">/dev/loop20</span>     <span class="number">1.</span><span class="string">6G</span>  <span class="number">1.</span><span class="string">2G</span>  <span class="string">437M</span>  <span class="number">73</span><span class="string">%</span> <span class="string">/mnt</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="number">00010040</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="string">|................|</span></span><br><span class="line"><span class="number">00010050</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">02</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="string">|................|</span></span><br><span class="line"><span class="number">00010060</span>  <span class="string">ff</span> <span class="string">ff</span> <span class="string">ff</span> <span class="string">ff</span> <span class="number">78</span> <span class="string">a1</span> <span class="string">e9</span> <span class="string">4a</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">05</span>  <span class="string">|....x..J........|</span></span><br><span class="line"><span class="number">00010070</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">01</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="string">0c</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="string">|................|</span></span><br><span class="line"><span class="number">00010080</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="string">|................|</span></span><br><span class="line"><span class="number">00010090</span>  <span class="number">62</span> <span class="string">c9</span> <span class="string">b6</span> <span class="number">64</span> <span class="number">04</span> <span class="string">8b</span> <span class="number">35</span> <span class="number">40</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">80</span>  <span class="string">|b..d..5@........|</span></span><br><span class="line"><span class="number">152</span><span class="number">-159</span>  <span class="string">inode</span> <span class="string">number</span> <span class="string">of</span> <span class="string">this</span> <span class="string">inode</span> <span class="string">=</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">80</span></span><br><span class="line">                                                           <span class="string">|</span></span><br><span class="line"> <span class="string">ls</span> <span class="string">-li</span> <span class="string">/</span> <span class="string">|</span> <span class="string">grep</span> <span class="string">mnt</span> <span class="string">;</span>                                     <span class="string">---</span> <span class="number">128</span></span><br><span class="line">    <span class="number">128</span> <span class="string">drwxr-xr-x</span>   <span class="number">4</span> <span class="string">root</span> <span class="string">root</span>    <span class="number">40</span> <span class="string">Jul</span> <span class="number">10</span> <span class="number">13</span><span class="string">:39</span> <span class="string">mnt</span></span><br><span class="line"></span><br><span class="line"><span class="string">000100a0</span>  <span class="number">70</span> <span class="number">46</span> <span class="string">3d</span> <span class="string">e0</span> <span class="number">05</span> <span class="number">01</span> <span class="number">40</span> <span class="number">81</span>  <span class="string">9e</span> <span class="number">24</span> <span class="string">f0</span> <span class="string">e8</span> <span class="number">71</span> <span class="number">91</span> <span class="number">88</span> <span class="number">84</span>  <span class="string">|pF=...@..$..q...|</span></span><br><span class="line"><span class="string">000100b0</span>  <span class="number">02</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">80</span> <span class="number">09</span> <span class="number">00</span>  <span class="number">60</span> <span class="number">74</span> <span class="number">65</span> <span class="number">73</span> <span class="number">74</span> <span class="string">5f</span> <span class="number">64</span> <span class="number">69</span>  <span class="string">|........`test_di|</span></span><br><span class="line"><span class="number">176</span>      <span class="string">Number</span> <span class="string">of</span> <span class="string">directory</span> <span class="string">entries</span>                   <span class="number">2</span>  <span class="comment">#only 2 sub dirs in the root</span></span><br><span class="line"><span class="number">177</span>      <span class="string">Number</span> <span class="string">of</span> <span class="string">dir</span> <span class="string">entries</span> <span class="string">needing</span> <span class="number">64</span><span class="string">-bit</span> <span class="string">inodes</span>   <span class="number">0</span> <span class="string">&lt;----0</span> <span class="string">means</span> <span class="number">32</span> <span class="string">bit,</span> <span class="literal">no</span> <span class="string">zero</span> <span class="string">means</span> <span class="number">64</span> <span class="string">bit</span></span><br><span class="line"><span class="string">This</span> <span class="string">means</span> <span class="string">the</span> <span class="string">directory</span> <span class="string">data</span> <span class="string">will</span> <span class="string">use</span> <span class="number">32</span> <span class="string">bits</span> <span class="string">to</span> <span class="string">store</span> <span class="string">inodes</span> <span class="string">in</span> <span class="string">order</span> <span class="string">to</span> <span class="string">save</span> <span class="string">space.</span></span><br><span class="line"></span><br><span class="line"><span class="number">178</span><span class="number">-181</span>  <span class="string">Inode</span> <span class="string">of</span> <span class="string">parent</span>                               <span class="number">0x00000080</span>  <span class="string">&lt;---</span> <span class="string">here</span> <span class="string">is</span> <span class="string">root,</span> <span class="string">&quot;..&quot;</span> <span class="string">is</span> <span class="string">itself,</span> <span class="string">only</span> <span class="number">0x80</span><span class="string">=128</span></span><br><span class="line"><span class="number">182</span> <span class="string">=</span> <span class="number">0x09</span> <span class="string">=</span> <span class="string">len</span></span><br><span class="line"><span class="number">183</span><span class="number">-184</span> <span class="string">=</span> <span class="number">0x0060</span> <span class="string">=</span> <span class="string">offset</span></span><br><span class="line"><span class="number">185</span><span class="number">-193</span> <span class="string">=</span> <span class="number">0x74</span><span class="string">,65,73,74,5f,64,69,72,31</span> <span class="string">=</span> <span class="string">test_dir1</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">000100c0</span>  <span class="number">72</span> <span class="number">31</span> <span class="number">02</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">83</span> <span class="number">09</span>  <span class="number">00</span> <span class="number">78</span> <span class="number">74</span> <span class="number">65</span> <span class="number">73</span> <span class="number">74</span> <span class="string">5f</span> <span class="number">64</span>  <span class="string">|r1.......xtest_d|</span></span><br><span class="line">                 <span class="string">|</span> <span class="string">|-4</span> <span class="string">or</span> <span class="number">8</span><span class="string">-|</span>   <span class="string">|</span>      <span class="string">|</span>  <span class="string">|--file</span> <span class="string">name---|</span></span><br><span class="line">       <span class="string">type</span> <span class="number">0x2</span><span class="string">=dir</span>     <span class="string">|</span>       <span class="string">|</span>      <span class="string">--offset</span> <span class="number">0x0078</span></span><br><span class="line">                        <span class="string">|</span>       <span class="string">---</span> <span class="string">len(test_dir2)</span> <span class="string">begining</span></span><br><span class="line">                        <span class="string">----absolute</span> <span class="string">inode</span> <span class="string">addr(inode</span> <span class="string">num)=0x00000083</span> <span class="string">=</span> <span class="number">131</span><span class="string">,</span> <span class="string">it&#x27;s</span> <span class="string">the</span> <span class="string">end</span></span><br><span class="line">                                                              <span class="string">|</span></span><br><span class="line"><span class="string">$</span> <span class="string">ls</span> <span class="string">-li</span> <span class="string">/mnt</span>                                                 <span class="string">|</span></span><br><span class="line"><span class="string">total</span> <span class="number">8</span>                                                       <span class="string">|</span></span><br><span class="line">    <span class="number">131</span> <span class="string">drwxr-xr-x</span> <span class="number">2</span> <span class="string">root</span> <span class="string">root</span>  <span class="number">138</span> <span class="string">Jul</span> <span class="number">10</span> <span class="number">13</span><span class="string">:42</span> <span class="string">test_dir1-----</span> <span class="string">inode=131</span></span><br><span class="line"><span class="number">1048704</span> <span class="string">drwxr-xr-x</span> <span class="number">2</span> <span class="string">root</span> <span class="string">root</span> <span class="number">4096 </span><span class="string">Jul</span> <span class="number">10</span> <span class="number">15</span><span class="string">:49</span> <span class="string">test_dir2-----------------------------</span> <span class="string">inode=1048704</span></span><br><span class="line">                                                                                      <span class="string">|</span></span><br><span class="line"><span class="string">000100d0</span>  <span class="number">69</span> <span class="number">72</span> <span class="number">32</span> <span class="number">02</span> <span class="number">00</span> <span class="number">10</span> <span class="number">00</span> <span class="number">80</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="string">|ir2.............|</span>        <span class="string">|</span></span><br><span class="line">                    <span class="string">|</span> <span class="string">|-4</span> <span class="string">or</span> <span class="number">8</span><span class="string">-|</span>                                                      <span class="string">|</span></span><br><span class="line">                <span class="string">type=0x2</span>   <span class="string">|</span>                                                          <span class="string">|</span></span><br><span class="line">                           <span class="string">-----absolute</span> <span class="string">inode</span> <span class="string">addr(inode</span> <span class="string">num)=1048704-----------------</span></span><br><span class="line"><span class="number">000100e0</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="string">|................|</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">here</span> <span class="string">is</span> <span class="string">the</span> <span class="string">test_dir2</span></span><br><span class="line"><span class="string">xfs_db&gt;</span> <span class="string">convert</span> <span class="string">inode</span> <span class="number">1048704</span> <span class="string">agno</span></span><br><span class="line"><span class="number">0x1</span> <span class="string">(1)</span></span><br><span class="line"><span class="string">xfs_db&gt;</span> <span class="string">convert</span> <span class="string">inode</span> <span class="number">1048704</span> <span class="string">agblock</span></span><br><span class="line"><span class="number">0x10</span> <span class="string">(16)</span></span><br><span class="line"><span class="string">xfs_db&gt;</span> <span class="string">convert</span> <span class="string">inode</span> <span class="number">1048704</span> <span class="string">offset</span></span><br><span class="line"><span class="number">0x0</span> <span class="string">(0)</span></span><br><span class="line"></span><br><span class="line"><span class="string">$</span> <span class="string">dd</span> <span class="string">if=/dev/loop20</span> <span class="string">bs=4096</span> <span class="string">skip=$((1*103680</span> <span class="string">+</span> <span class="number">16</span><span class="string">))</span> <span class="string">count=1</span> <span class="number">2</span><span class="string">&gt;/dev/null</span> <span class="string">|</span> <span class="string">dd</span> <span class="string">bs=512</span> <span class="string">skip=0</span> <span class="string">count=1</span> <span class="number">2</span><span class="string">&gt;/dev/null</span> <span class="string">|</span> <span class="string">hexdump</span> <span class="string">-C</span></span><br><span class="line"><span class="number">00000000</span>  <span class="number">49</span> <span class="string">4e</span> <span class="number">41</span> <span class="string">ed</span> <span class="number">03</span> <span class="number">02</span> <span class="number">00</span> <span class="number">00</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="string">|INA.............|</span></span><br><span class="line">                         <span class="string">|</span></span><br><span class="line">                         <span class="string">---</span>  <span class="number">2</span>   <span class="string">Array</span> <span class="string">of</span> <span class="string">extent</span> <span class="string">structures</span> <span class="string">follows</span></span><br><span class="line"><span class="number">00000010</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">02</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="string">|................|</span></span><br><span class="line"><span class="number">00000020</span>  <span class="number">62</span> <span class="string">ca</span> <span class="number">84</span> <span class="string">9c</span> <span class="number">37</span> <span class="number">76</span> <span class="string">f1</span> <span class="string">0f</span>  <span class="number">62</span> <span class="string">ca</span> <span class="number">84</span> <span class="number">96</span> <span class="number">21</span> <span class="string">c4</span> <span class="string">0b</span> <span class="string">0f</span>  <span class="string">|b...7v..b...!...|</span></span><br><span class="line"><span class="number">00000030</span>  <span class="number">62</span> <span class="string">ca</span> <span class="number">84</span> <span class="number">96</span> <span class="number">21</span> <span class="string">c4</span> <span class="string">0b</span> <span class="string">0f</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">10</span> <span class="number">00</span>  <span class="string">|b...!...........|</span></span><br><span class="line"><span class="number">00000040</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">02</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">02</span>  <span class="string">|................|</span></span><br><span class="line"><span class="number">00000050</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">02</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="string">c9</span> <span class="number">88</span> <span class="string">9c</span> <span class="number">01</span>  <span class="string">|................|</span></span><br><span class="line"><span class="number">00000060</span>  <span class="string">ff</span> <span class="string">ff</span> <span class="string">ff</span> <span class="string">ff</span> <span class="string">a4</span> <span class="string">de</span> <span class="number">73</span> <span class="string">a2</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">69</span>  <span class="string">|......s........i|</span></span><br><span class="line"><span class="number">00000070</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">01</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="string">7d</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="string">|.......&#125;........|</span></span><br><span class="line"><span class="number">00000080</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="string">|................|</span></span><br><span class="line"><span class="number">00000090</span>  <span class="number">62</span> <span class="string">ca</span> <span class="number">66</span> <span class="number">20</span> <span class="number">35</span> <span class="number">04</span> <span class="number">91</span> <span class="number">14</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">10</span> <span class="number">00</span> <span class="number">80</span>  <span class="string">|b.f</span> <span class="number">5</span><span class="string">...........|</span></span><br><span class="line"><span class="string">000000a0</span>  <span class="number">70</span> <span class="number">46</span> <span class="string">3d</span> <span class="string">e0</span> <span class="number">05</span> <span class="number">01</span> <span class="number">40</span> <span class="number">81</span>  <span class="string">9e</span> <span class="number">24</span> <span class="string">f0</span> <span class="string">e8</span> <span class="number">71</span> <span class="number">91</span> <span class="number">88</span> <span class="number">84</span>  <span class="string">|pF=...@..$..q...|</span></span><br><span class="line"><span class="string">000000b0</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">40</span> <span class="number">01</span> <span class="string">e0</span> <span class="number">00</span> <span class="number">01</span>  <span class="string">|...........@....|</span></span><br><span class="line">                              <span class="number">0x4001e00001</span><span class="string">=010,0000,0000,0000,1111;</span> <span class="number">0</span><span class="string">,0000,0000,0000,0000,0001</span> <span class="string">--&gt;</span> <span class="string">Number</span> <span class="string">of</span> <span class="string">blocks</span> <span class="string">in</span> <span class="string">the</span> <span class="string">extent</span> <span class="string">=</span> <span class="number">1</span><span class="string">;</span> <span class="string">dd</span> <span class="string">count=1</span></span><br><span class="line">                                            <span class="string">|</span>                   <span class="string">|</span></span><br><span class="line">                                            <span class="string">|</span>                 <span class="number">0xf</span><span class="string">=15</span></span><br><span class="line">                                    <span class="number">010</span><span class="string">=ag=0x2=1,if=1100=0xc=3,</span> <span class="string">???</span> <span class="string">don&#x27;t</span> <span class="string">know</span> <span class="string">why</span> <span class="number">0xc</span><span class="string">=3</span> <span class="string">,</span> <span class="number">0x2</span><span class="string">=1</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">$</span> <span class="string">dd</span> <span class="string">if=/dev/loop20</span> <span class="string">bs=4096</span> <span class="string">skip=$((1*103680+3))</span> <span class="string">count=1</span> <span class="number">2</span><span class="string">&gt;/dev/null</span> <span class="string">|</span> <span class="string">hexdump</span> <span class="string">-C</span> <span class="string">|</span> <span class="string">head</span></span><br><span class="line"><span class="number">00000000</span>  <span class="number">49</span> <span class="number">41</span> <span class="number">42</span> <span class="number">33</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">02</span>  <span class="string">ff</span> <span class="string">ff</span> <span class="string">ff</span> <span class="string">ff</span> <span class="string">ff</span> <span class="string">ff</span> <span class="string">ff</span> <span class="string">ff</span>  <span class="string">|IAB3............|</span>  <span class="string">&lt;----Inode</span> <span class="string">B+tree,</span> <span class="string">v5</span> <span class="string">only</span></span><br><span class="line"><span class="number">00000010</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="string">0c</span> <span class="string">a8</span> <span class="number">18</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">01</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="string">7d</span>  <span class="string">|...............&#125;|</span></span><br><span class="line"><span class="number">00000020</span>  <span class="number">70</span> <span class="number">46</span> <span class="string">3d</span> <span class="string">e0</span> <span class="number">05</span> <span class="number">01</span> <span class="number">40</span> <span class="number">81</span>  <span class="string">9e</span> <span class="number">24</span> <span class="string">f0</span> <span class="string">e8</span> <span class="number">71</span> <span class="number">91</span> <span class="number">88</span> <span class="number">84</span>  <span class="string">|pF=...@..$..q...|</span></span><br><span class="line"><span class="number">00000030</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">01</span> <span class="number">36</span> <span class="string">c6</span> <span class="number">21</span> <span class="number">62</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">80</span> <span class="number">00</span> <span class="number">00</span> <span class="number">40</span> <span class="number">00</span>  <span class="string">|....6.!b......@.|</span></span><br><span class="line">                                        <span class="string">|</span>        <span class="string">|</span>   <span class="string">|</span>  <span class="string">|</span></span><br><span class="line">                                        <span class="string">|</span>        <span class="string">|</span>   <span class="string">|</span>  <span class="string">---ir_freecount:0x00</span></span><br><span class="line">                                        <span class="string">|</span>        <span class="string">|</span> <span class="string">ir_count:0x40=64</span></span><br><span class="line">                                        <span class="string">|</span>  <span class="string">ir_holemask:0000</span>  </span><br><span class="line">                                <span class="string">ir_startino</span> <span class="number">0x80</span><span class="string">=128</span></span><br><span class="line"><span class="string">recs[1-14]</span> <span class="string">=</span> [<span class="string">startino</span>,<span class="string">holemask</span>,<span class="string">count</span>,<span class="string">freecount</span>,<span class="string">free</span>] <span class="number">1</span><span class="string">:[128,0,64,0,0]</span></span><br><span class="line"></span><br><span class="line"><span class="attr">eg:</span> </span><br><span class="line"><span class="number">12</span><span class="string">:[1024,0,64,25,0xffffff8000000000]</span></span><br><span class="line"><span class="string">startino为1024，可以推算出其inode存储的block编号为1024/8</span> <span class="string">=</span> <span class="number">128</span><span class="string">，就是说从block编号为128之后连续8个block都会存放inode，共64个inode。</span></span><br><span class="line"></span><br><span class="line"><span class="string">holemask用掩码的方式表示这个对应的chunk中哪些位置不能分配给inode，掩码为0表示所有chunk空间都可以存放inode。假定这里为0x00ff，表示掩码中低端8位全部为1，对应的表示64个inode中，后32个inode不能使用，只能使用前32个。每个掩码可以管理对应位置的4个inode。</span></span><br><span class="line"></span><br><span class="line"><span class="string">count就是这个chunk管理的inode个数。</span></span><br><span class="line"></span><br><span class="line"><span class="string">freecount还剩25个inode空闲。</span></span><br><span class="line"></span><br><span class="line"><span class="string">free为空闲inode的掩码（位图），0xffffff8000000000表示64位中前25位为1，就是说前25个inode已经被使用了，还剩后39个可以使用。</span> </span><br><span class="line">                                          <span class="string">|</span></span><br><span class="line">                <span class="number">1111111111111111111111111000000000000000000000000000000000000000</span></span><br><span class="line">                <span class="string">|----------25x1---------|--------------39x0--------------------|</span></span><br><span class="line"></span><br><span class="line"><span class="number">00000040</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="number">00</span> <span class="number">01</span> <span class="string">e2</span> <span class="string">c0</span> <span class="number">00</span> <span class="number">00</span> <span class="number">40</span> <span class="number">19</span>  <span class="string">|..............@.|</span></span><br><span class="line">                     <span class="string">|</span>                  <span class="string">|</span></span><br><span class="line">                     <span class="string">|</span>        <span class="string">ir_startino=0x01e2c0(next)</span></span><br><span class="line">         <span class="string">|ir_free,free</span> <span class="string">inode</span> <span class="string">mask|</span></span><br><span class="line"><span class="number">00000050</span>  <span class="string">ff</span> <span class="string">ff</span> <span class="string">ff</span> <span class="number">80</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="string">|................|</span></span><br><span class="line"><span class="number">00000060</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="string">|................|</span></span><br><span class="line"><span class="string">*</span></span><br><span class="line"><span class="number">00001000</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">000000c0</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">01</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">40</span> <span class="number">01</span> <span class="string">c0</span> <span class="number">00</span> <span class="number">01</span>  <span class="string">|...........@....|</span></span><br><span class="line"><span class="string">000000d0</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="string">|................|</span></span><br><span class="line"><span class="string">*</span></span><br><span class="line"><span class="number">00000200</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">--------------------------test</span> <span class="string">another</span> <span class="string">new</span> <span class="string">dir</span></span><br><span class="line"><span class="number">19510000</span>  <span class="number">49</span> <span class="string">4e</span> <span class="number">41</span> <span class="string">ed</span> <span class="number">03</span> <span class="number">02</span> <span class="number">00</span> <span class="number">00</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="string">|INA.............|</span></span><br><span class="line"><span class="number">19510010</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">02</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="string">|................|</span></span><br><span class="line"><span class="number">19510020</span>  <span class="number">62</span> <span class="string">ca</span> <span class="number">84</span> <span class="string">9c</span> <span class="number">37</span> <span class="number">76</span> <span class="string">f1</span> <span class="string">0f</span>  <span class="number">62</span> <span class="string">ca</span> <span class="number">84</span> <span class="number">96</span> <span class="number">21</span> <span class="string">c4</span> <span class="string">0b</span> <span class="string">0f</span>  <span class="string">|b...7v..b...!...|</span></span><br><span class="line"><span class="number">19510030</span>  <span class="number">62</span> <span class="string">ca</span> <span class="number">84</span> <span class="number">96</span> <span class="number">21</span> <span class="string">c4</span> <span class="string">0b</span> <span class="string">0f</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">10</span> <span class="number">00</span>  <span class="string">|b...!...........|</span></span><br><span class="line"><span class="number">19510040</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">02</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">02</span>  <span class="string">|................|</span></span><br><span class="line"><span class="number">19510050</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">02</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="string">c9</span> <span class="number">88</span> <span class="string">9c</span> <span class="number">01</span>  <span class="string">|................|</span></span><br><span class="line"><span class="number">19510060</span>  <span class="string">ff</span> <span class="string">ff</span> <span class="string">ff</span> <span class="string">ff</span> <span class="string">a4</span> <span class="string">de</span> <span class="number">73</span> <span class="string">a2</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">69</span>  <span class="string">|......s........i|</span></span><br><span class="line"><span class="number">19510070</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">01</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="string">7d</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="string">|.......&#125;........|</span></span><br><span class="line"><span class="number">19510080</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="string">|................|</span></span><br><span class="line"><span class="number">19510090</span>  <span class="number">62</span> <span class="string">ca</span> <span class="number">66</span> <span class="number">20</span> <span class="number">35</span> <span class="number">04</span> <span class="number">91</span> <span class="number">14</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">10</span> <span class="number">00</span> <span class="number">80</span>  <span class="string">|b.f</span> <span class="number">5</span><span class="string">...........|</span></span><br><span class="line"><span class="string">195100a0</span>  <span class="number">70</span> <span class="number">46</span> <span class="string">3d</span> <span class="string">e0</span> <span class="number">05</span> <span class="number">01</span> <span class="number">40</span> <span class="number">81</span>  <span class="string">9e</span> <span class="number">24</span> <span class="string">f0</span> <span class="string">e8</span> <span class="number">71</span> <span class="number">91</span> <span class="number">88</span> <span class="number">84</span>  <span class="string">|pF=...@..$..q...|</span></span><br><span class="line"><span class="string">195100b0</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">40</span> <span class="number">01</span> <span class="string">e0</span> <span class="number">00</span> <span class="number">01</span>  <span class="string">|...........@....|</span></span><br><span class="line">                                                    <span class="string">|</span></span><br><span class="line">                                   <span class="number">10</span><span class="string">=0x2=ag=1</span> <span class="string">??,0000,0000,0000,1111;</span> <span class="number">0</span><span class="string">,0000,0000,0000,0000,0001</span></span><br><span class="line"></span><br><span class="line"><span class="string">$</span> <span class="string">dd</span> <span class="string">if=/dev/loop20</span> <span class="string">bs=4096</span> <span class="string">skip=$((1*103680+15))</span> <span class="string">count=1</span> <span class="number">2</span><span class="string">&gt;/dev/null</span> <span class="string">|</span> <span class="string">hexdump</span> <span class="string">-C</span> </span><br><span class="line"><span class="number">00000000</span>  <span class="number">58</span> <span class="number">44</span> <span class="number">44</span> <span class="number">33</span> <span class="number">45</span> <span class="string">ff</span> <span class="number">69</span> <span class="string">3e</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="string">0c</span> <span class="string">a8</span> <span class="number">78</span>  <span class="string">|XDD3E.i&gt;.......x|</span></span><br><span class="line"><span class="number">00000010</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">01</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="string">7d</span>  <span class="number">70</span> <span class="number">46</span> <span class="string">3d</span> <span class="string">e0</span> <span class="number">05</span> <span class="number">01</span> <span class="number">40</span> <span class="number">81</span>  <span class="string">|.......&#125;pF=...@.|</span></span><br><span class="line"><span class="number">00000020</span>  <span class="string">9e</span> <span class="number">24</span> <span class="string">f0</span> <span class="string">e8</span> <span class="number">71</span> <span class="number">91</span> <span class="number">88</span> <span class="number">84</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">10</span> <span class="number">00</span> <span class="number">80</span>  <span class="string">|.$..q...........|</span></span><br><span class="line"><span class="number">00000030</span>  <span class="string">0d</span> <span class="number">10</span> <span class="number">02</span> <span class="string">f0</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="string">|................|</span></span><br><span class="line"><span class="number">00000040</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">10</span> <span class="number">00</span> <span class="number">80</span>  <span class="number">01</span> <span class="string">2e</span> <span class="number">02</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">40</span>  <span class="string">|...............@|</span></span><br><span class="line"><span class="number">00000050</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">80</span>  <span class="number">02</span> <span class="string">2e</span> <span class="string">2e</span> <span class="number">02</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">50</span>  <span class="string">|...............P|</span></span><br><span class="line"><span class="number">00000060</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">10</span> <span class="number">00</span> <span class="number">81</span>  <span class="string">0e</span> <span class="number">64</span> <span class="number">69</span> <span class="number">72</span> <span class="number">32</span> <span class="string">5f</span> <span class="number">66</span> <span class="number">69</span>  <span class="string">|.........dir2_fi|</span></span><br><span class="line"><span class="number">00000070</span>  <span class="string">6c</span> <span class="number">65</span> <span class="string">5f</span> <span class="number">30</span> <span class="string">2e</span> <span class="number">67</span> <span class="string">7a</span> <span class="number">01</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">60</span>  <span class="string">|le_0.gz........`|</span></span><br><span class="line"><span class="number">00000080</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">10</span> <span class="number">00</span> <span class="number">82</span>  <span class="string">0e</span> <span class="number">64</span> <span class="number">69</span> <span class="number">72</span> <span class="number">32</span> <span class="string">5f</span> <span class="number">66</span> <span class="number">69</span>  <span class="string">|.........dir2_fi|</span></span><br><span class="line"><span class="number">00000090</span>  <span class="string">6c</span> <span class="number">65</span> <span class="string">5f</span> <span class="number">31</span> <span class="string">2e</span> <span class="number">67</span> <span class="string">7a</span> <span class="number">01</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">80</span>  <span class="string">|le_1.gz.........|</span></span><br><span class="line"><span class="string">000000a0</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">10</span> <span class="number">00</span> <span class="number">83</span>  <span class="string">0e</span> <span class="number">64</span> <span class="number">69</span> <span class="number">72</span> <span class="number">32</span> <span class="string">5f</span> <span class="number">66</span> <span class="number">69</span>  <span class="string">|.........dir2_fi|</span></span><br><span class="line"><span class="string">000000b0</span>  <span class="string">6c</span> <span class="number">65</span> <span class="string">5f</span> <span class="number">32</span> <span class="string">2e</span> <span class="number">67</span> <span class="string">7a</span> <span class="number">01</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="string">a0</span>  <span class="string">|le_2.gz.........|</span></span><br><span class="line"><span class="string">000000c0</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">10</span> <span class="number">00</span> <span class="number">84</span>  <span class="string">0e</span> <span class="number">64</span> <span class="number">69</span> <span class="number">72</span> <span class="number">32</span> <span class="string">5f</span> <span class="number">66</span> <span class="number">69</span>  <span class="string">|.........dir2_fi|</span></span><br><span class="line"><span class="string">000000d0</span>  <span class="string">6c</span> <span class="number">65</span> <span class="string">5f</span> <span class="number">33</span> <span class="string">2e</span> <span class="number">67</span> <span class="string">7a</span> <span class="number">01</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="string">c0</span>  <span class="string">|le_3.gz.........|</span></span><br><span class="line"><span class="number">000000e0</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">10</span> <span class="number">00</span> <span class="number">85</span>  <span class="string">0e</span> <span class="number">64</span> <span class="number">69</span> <span class="number">72</span> <span class="number">32</span> <span class="string">5f</span> <span class="number">66</span> <span class="number">69</span>  <span class="string">|.........dir2_fi|</span></span><br><span class="line"><span class="string">000000f0</span>  <span class="string">6c</span> <span class="number">65</span> <span class="string">5f</span> <span class="number">34</span> <span class="string">2e</span> <span class="number">67</span> <span class="string">7a</span> <span class="number">01</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="string">e0</span>  <span class="string">|le_4.gz.........|</span></span><br><span class="line"><span class="number">00000100</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">10</span> <span class="number">00</span> <span class="number">86</span>  <span class="string">0e</span> <span class="number">64</span> <span class="number">69</span> <span class="number">72</span> <span class="number">32</span> <span class="string">5f</span> <span class="number">66</span> <span class="number">69</span>  <span class="string">|.........dir2_fi|</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># search the test_dir3 </span></span><br><span class="line"><span class="number">00011400</span>  <span class="number">49</span> <span class="string">4e</span> <span class="number">41</span> <span class="string">ed</span> <span class="number">03</span> <span class="number">02</span> <span class="number">00</span> <span class="number">00</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="string">|INA.............|</span></span><br><span class="line"><span class="number">00011410</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">02</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="string">|................|</span></span><br><span class="line"><span class="number">00011420</span>  <span class="number">62</span> <span class="string">cd</span> <span class="string">3e</span> <span class="string">6b</span> <span class="string">2d</span> <span class="string">bd</span> <span class="number">05</span> <span class="string">e5</span>  <span class="number">62</span> <span class="string">cd</span> <span class="string">3e</span> <span class="string">6a</span> <span class="string">3a</span> <span class="string">9c</span> <span class="string">fb</span> <span class="string">fc</span>  <span class="string">|b.&gt;k-...b.&gt;j:...|</span></span><br><span class="line"><span class="number">00011430</span>  <span class="number">62</span> <span class="string">cd</span> <span class="string">3e</span> <span class="string">6a</span> <span class="string">3a</span> <span class="string">9c</span> <span class="string">fb</span> <span class="string">fc</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">10</span> <span class="number">00</span>  <span class="string">|b.&gt;j:...........|</span></span><br><span class="line"><span class="number">00011440</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">01</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">01</span>  <span class="string">|................|</span></span><br><span class="line"><span class="number">00011450</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">02</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="string">6b</span> <span class="string">6b</span> <span class="number">22</span> <span class="number">61</span>  <span class="string">|............kk&quot;a|</span></span><br><span class="line"><span class="number">00011460</span>  <span class="string">ff</span> <span class="string">ff</span> <span class="string">ff</span> <span class="string">ff</span> <span class="string">ed</span> <span class="string">bb</span> <span class="string">db</span> <span class="string">f7</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="string">2a</span>  <span class="string">|...............*|</span></span><br><span class="line"><span class="number">00011470</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">01</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="string">a5</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="string">|................|</span></span><br><span class="line"><span class="number">00011480</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="string">|................|</span></span><br><span class="line"><span class="number">00011490</span>  <span class="number">62</span> <span class="string">cd</span> <span class="string">3e</span> <span class="string">0a</span> <span class="number">27</span> <span class="number">54</span> <span class="string">dd</span> <span class="number">09</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="string">8a</span>  <span class="string">|b.&gt;.&#x27;T..........|</span></span><br><span class="line"><span class="string">000114a0</span>  <span class="number">70</span> <span class="number">46</span> <span class="string">3d</span> <span class="string">e0</span> <span class="number">05</span> <span class="number">01</span> <span class="number">40</span> <span class="number">81</span>  <span class="string">9e</span> <span class="number">24</span> <span class="string">f0</span> <span class="string">e8</span> <span class="number">71</span> <span class="number">91</span> <span class="number">88</span> <span class="number">84</span>  <span class="string">|pF=...@..$..q...|</span></span><br><span class="line"><span class="string">000114b0</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">01</span> <span class="string">e0</span> <span class="number">00</span> <span class="number">01</span>  <span class="string">|................|</span></span><br><span class="line">                                                    <span class="string">|</span></span><br><span class="line">                                    <span class="string">ag=0;1111=0xf;0,0000,0000,0000,0000,0001</span></span><br><span class="line"></span><br><span class="line"><span class="string">$</span> <span class="string">dd</span> <span class="string">if=/dev/loop20</span> <span class="string">bs=4096</span> <span class="string">skip=$((0*103680+15))</span> <span class="string">count=1</span> <span class="number">2</span><span class="string">&gt;/dev/null</span> <span class="string">|</span> <span class="string">hexdump</span> <span class="string">-C</span> <span class="string">|</span> <span class="string">head</span></span><br><span class="line"><span class="number">00000000</span>  <span class="number">58</span> <span class="number">44</span> <span class="number">42</span> <span class="number">33</span> <span class="string">8d</span> <span class="number">34</span> <span class="string">6b</span> <span class="string">4a</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">78</span>  <span class="string">|XDB3.4kJ.......x|</span></span><br><span class="line"><span class="number">00000010</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">01</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="string">a5</span>  <span class="number">70</span> <span class="number">46</span> <span class="string">3d</span> <span class="string">e0</span> <span class="number">05</span> <span class="number">01</span> <span class="number">40</span> <span class="number">81</span>  <span class="string">|........pF=...@.|</span></span><br><span class="line"><span class="number">00000020</span>  <span class="string">9e</span> <span class="number">24</span> <span class="string">f0</span> <span class="string">e8</span> <span class="number">71</span> <span class="number">91</span> <span class="number">88</span> <span class="number">84</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="string">8a</span>  <span class="string">|.$..q...........|</span></span><br><span class="line"></span><br><span class="line"><span class="number">24</span><span class="number">-39</span> <span class="string">UUID=70</span> <span class="number">46</span> <span class="string">3d</span> <span class="string">e0</span> <span class="number">05</span> <span class="number">01</span> <span class="number">40</span> <span class="number">81</span> <span class="string">9e</span> <span class="number">24</span> <span class="string">f0</span> <span class="string">e8</span> <span class="number">71</span> <span class="number">91</span> <span class="number">88</span> <span class="number">84</span><span class="string">----------------------------------------------------------------------</span></span><br><span class="line">																<span class="string">|</span></span><br><span class="line"><span class="number">00000030</span>  <span class="number">05</span> <span class="number">60</span> <span class="number">09</span> <span class="number">48</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="string">|.`.H............|</span>                                                  <span class="string">|</span></span><br><span class="line"><span class="number">00000040</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="string">8a</span>  <span class="number">01</span> <span class="string">2e</span> <span class="number">02</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">40</span>  <span class="string">|...............@|</span>                                                  <span class="string">|</span></span><br><span class="line"><span class="number">00000050</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">80</span>  <span class="number">02</span> <span class="string">2e</span> <span class="string">2e</span> <span class="number">02</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">50</span>  <span class="string">|...............P|</span>                                                  <span class="string">|</span></span><br><span class="line"><span class="number">00000060</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="string">8b</span>  <span class="string">0e</span> <span class="number">74</span> <span class="number">65</span> <span class="number">73</span> <span class="number">74</span> <span class="string">5f</span> <span class="number">64</span> <span class="number">69</span>  <span class="string">|.........test_di|</span>                                                  <span class="string">|</span></span><br><span class="line"><span class="number">00000070</span>  <span class="number">72</span> <span class="number">33</span> <span class="string">5f</span> <span class="number">30</span> <span class="string">2e</span> <span class="number">67</span> <span class="string">7a</span> <span class="number">01</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">60</span>  <span class="string">|r3_0.gz........`|</span>                                                  <span class="string">|</span></span><br><span class="line"><span class="number">00000080</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="string">8c</span>  <span class="string">0e</span> <span class="number">74</span> <span class="number">65</span> <span class="number">73</span> <span class="number">74</span> <span class="string">5f</span> <span class="number">64</span> <span class="number">69</span>  <span class="string">|.........test_di|</span>                                                  <span class="string">|</span></span><br><span class="line"><span class="number">00000090</span>  <span class="number">72</span> <span class="number">33</span> <span class="string">5f</span> <span class="number">31</span> <span class="string">2e</span> <span class="number">67</span> <span class="string">7a</span> <span class="number">01</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">80</span>  <span class="string">|r3_1.gz.........|</span>                                                  <span class="string">|</span></span><br><span class="line">                      </span><br><span class="line"><span class="string">15x4096=61440=0xf000</span>                                                                                                            <span class="string">|</span></span><br><span class="line">                <span class="string">|</span></span><br><span class="line">     <span class="string">-----------</span>                                                                                                                <span class="string">|</span></span><br><span class="line">    <span class="string">|</span></span><br><span class="line"><span class="string">0000f000</span>  <span class="number">58</span> <span class="number">44</span> <span class="number">42</span> <span class="number">33</span> <span class="string">8d</span> <span class="number">34</span> <span class="string">6b</span> <span class="string">4a</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">78</span>  <span class="string">|XDB3.4kJ.......x|</span>							<span class="string">|</span></span><br><span class="line">    <span class="string">|</span>                                                    <span class="string">|</span></span><br><span class="line">    <span class="string">|</span>                              <span class="number">8</span><span class="number">-15</span>     <span class="string">Sector</span> <span class="string">offset</span> <span class="string">of</span> <span class="string">this</span> <span class="string">block</span>  <span class="number">0x78</span><span class="string">=120=1111000</span> </span><br><span class="line">    <span class="string">|</span>                                       <span class="number">0</span><span class="string">;00,0000,0000,0000,0000,0111,1000;</span> <span class="number">120</span><span class="string">/8=15;120%8=0</span></span><br><span class="line">     <span class="string">---------------------------------------</span></span><br><span class="line">                                            <span class="string">|</span></span><br><span class="line"><span class="string">dd</span> <span class="string">if=/dev/loop20</span> <span class="string">bs=4096</span> <span class="string">skip=$((0*103680+15))</span> <span class="string">count=1</span> <span class="number">2</span><span class="string">&gt;/dev/null</span> <span class="string">|</span> <span class="string">dd</span> <span class="string">bs=512</span> <span class="string">skip=0</span> <span class="string">count=1</span> <span class="number">2</span><span class="string">&gt;</span> <span class="string">/dev/null</span> <span class="string">|</span> <span class="string">hexdump</span> <span class="string">-C</span></span><br><span class="line">                                        </span><br><span class="line"></span><br><span class="line"><span class="string">0000f010</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">01</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="string">a5</span>  <span class="number">70</span> <span class="number">46</span> <span class="string">3d</span> <span class="string">e0</span> <span class="number">05</span> <span class="number">01</span> <span class="number">40</span> <span class="number">81</span>  <span class="string">|........pF=...@.|</span>							<span class="string">|</span></span><br><span class="line"><span class="string">0000f020</span>  <span class="string">9e</span> <span class="number">24</span> <span class="string">f0</span> <span class="string">e8</span> <span class="number">71</span> <span class="number">91</span> <span class="number">88</span> <span class="number">84</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="string">8a</span>  <span class="string">|.$..q...........|</span></span><br><span class="line">                                                         <span class="string">|</span></span><br><span class="line">                                                        <span class="number">138</span> <span class="string">drwxr-xr-x</span> <span class="number">2</span> <span class="string">root</span> <span class="string">root</span> <span class="number">4096 </span><span class="string">Jul</span> <span class="number">12</span> <span class="number">17</span><span class="string">:27</span> <span class="string">test_dir3</span>			<span class="string">|</span></span><br><span class="line">                                                     <span class="string">inode</span> <span class="string">to</span> <span class="string">block</span></span><br><span class="line">                                               <span class="number">138</span><span class="string">=0x8a=</span> <span class="number">00</span><span class="string">;00,0000,0000,0000,0000,1000,1010</span>					<span class="string">|</span></span><br><span class="line">                                                          <span class="string">|</span>                           <span class="string">|</span></span><br><span class="line">                                                        <span class="string">ag=0</span>                   <span class="number">138</span><span class="string">/8=17.25=17;</span> <span class="number">138</span><span class="string">%7=2</span>				<span class="string">|</span></span><br><span class="line"></span><br><span class="line"><span class="string">$</span> <span class="string">dd</span> <span class="string">if=/dev/loop20</span> <span class="string">bs=4096</span> <span class="string">skip=$((0*103680+17))</span> <span class="string">count=1</span> <span class="number">2</span><span class="string">&gt;/dev/null</span> <span class="string">|</span> <span class="string">dd</span> <span class="string">bs=512</span> <span class="string">skip=2</span> <span class="string">count=1</span> <span class="number">2</span><span class="string">&gt;</span> <span class="string">/dev/null</span> <span class="string">|</span> <span class="string">hexdump</span> <span class="string">-C</span>	 </span><br><span class="line"><span class="comment">#from XDB3 to INA														|</span></span><br><span class="line">     <span class="number">00000000</span>  <span class="number">49</span> <span class="string">4e</span> <span class="number">41</span> <span class="string">ed</span> <span class="number">03</span> <span class="number">02</span> <span class="number">00</span> <span class="number">00</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="string">|INA.............|</span>						<span class="string">|</span></span><br><span class="line">     <span class="number">00000010</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">02</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="string">|................|</span></span><br><span class="line">     <span class="number">00000020</span>  <span class="number">62</span> <span class="string">cd</span> <span class="string">3e</span> <span class="string">6b</span> <span class="string">2d</span> <span class="string">bd</span> <span class="number">05</span> <span class="string">e5</span>  <span class="number">62</span> <span class="string">cd</span> <span class="string">3e</span> <span class="string">6a</span> <span class="string">3a</span> <span class="string">9c</span> <span class="string">fb</span> <span class="string">fc</span>  <span class="string">|b.&gt;k-...b.&gt;j:...|</span></span><br><span class="line">     <span class="number">00000030</span>  <span class="number">62</span> <span class="string">cd</span> <span class="string">3e</span> <span class="string">6a</span> <span class="string">3a</span> <span class="string">9c</span> <span class="string">fb</span> <span class="string">fc</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">10</span> <span class="number">00</span>  <span class="string">|b.&gt;j:...........|</span>						<span class="string">|</span></span><br><span class="line">     <span class="number">00000040</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">01</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">01</span>  <span class="string">|................|</span></span><br><span class="line">     <span class="number">00000050</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">02</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="string">6b</span> <span class="string">6b</span> <span class="number">22</span> <span class="number">61</span>  <span class="string">|............kk&quot;a|</span></span><br><span class="line">     <span class="number">00000060</span>  <span class="string">ff</span> <span class="string">ff</span> <span class="string">ff</span> <span class="string">ff</span> <span class="string">ed</span> <span class="string">bb</span> <span class="string">db</span> <span class="string">f7</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="string">2a</span>  <span class="string">|...............*|</span>						<span class="string">|</span></span><br><span class="line">     <span class="number">00000070</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">01</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="string">a5</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="string">|................|</span>						<span class="string">|</span></span><br><span class="line">     <span class="number">00000080</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="string">|................|</span></span><br><span class="line">     <span class="number">00000090</span>  <span class="number">62</span> <span class="string">cd</span> <span class="string">3e</span> <span class="string">0a</span> <span class="number">27</span> <span class="number">54</span> <span class="string">dd</span> <span class="number">09</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="string">8a</span>  <span class="string">|b.&gt;.&#x27;T..........|</span>						<span class="string">|</span></span><br><span class="line">     <span class="string">000000a0</span>  <span class="number">70</span> <span class="number">46</span> <span class="string">3d</span> <span class="string">e0</span> <span class="number">05</span> <span class="number">01</span> <span class="number">40</span> <span class="number">81</span>  <span class="string">9e</span> <span class="number">24</span> <span class="string">f0</span> <span class="string">e8</span> <span class="number">71</span> <span class="number">91</span> <span class="number">88</span> <span class="number">84</span>  <span class="string">|pF=...@..$..q...|</span>						<span class="string">|</span></span><br><span class="line">     <span class="string">UUID=70</span> <span class="number">46</span> <span class="string">3d</span> <span class="string">e0</span> <span class="number">05</span> <span class="number">01</span> <span class="number">40</span> <span class="number">81</span>  <span class="string">9e</span> <span class="number">24</span> <span class="string">f0</span> <span class="string">e8</span> <span class="number">71</span> <span class="number">91</span> <span class="number">88</span> <span class="number">84</span> <span class="string">----------------------------------------------------------------------</span></span><br><span class="line">     <span class="string">000000b0</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">01</span> <span class="string">e0</span> <span class="number">00</span> <span class="number">01</span>  <span class="string">|................|</span></span><br><span class="line">     <span class="string">000000c0</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="string">|................|</span></span><br><span class="line"></span><br><span class="line"><span class="string">0000f030</span>  <span class="number">05</span> <span class="number">60</span> <span class="number">09</span> <span class="number">48</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="string">|.`.H............|</span></span><br><span class="line"><span class="string">Following</span> <span class="string">the</span> <span class="string">header</span> <span class="string">is</span> <span class="string">a</span> <span class="string">“free</span> <span class="string">space”</span> <span class="string">array</span> <span class="string">that</span> <span class="string">consumes</span> <span class="number">12</span> <span class="string">bytes,</span> <span class="string">plus</span> <span class="number">4</span> <span class="string">bytes</span> <span class="string">of</span> <span class="string">padding</span> <span class="string">to</span> <span class="string">preserve</span> <span class="number">64</span><span class="string">-bit</span> <span class="string">alignment</span></span><br><span class="line"><span class="string">The</span> <span class="string">free</span> <span class="string">space</span> <span class="string">array</span> <span class="string">contains</span> <span class="string">three</span> <span class="string">elements</span> <span class="string">which</span> <span class="string">indicate</span> <span class="string">where</span> <span class="string">the</span> <span class="string">three</span> <span class="string">largest</span> <span class="string">chunks</span> <span class="string">of</span> <span class="string">unused</span> <span class="string">space</span> <span class="string">are</span> <span class="string">located</span> <span class="string">in</span> <span class="string">this</span> <span class="string">directory</span> <span class="string">block.</span> </span><br><span class="line"><span class="string">Each</span> <span class="string">element</span> <span class="string">is</span> <span class="string">a</span> <span class="number">2</span> <span class="string">byte</span> <span class="string">offset</span> <span class="string">and</span> <span class="string">a</span> <span class="number">2</span> <span class="string">byte</span> <span class="string">length</span> <span class="string">field.</span> </span><br><span class="line"><span class="string">The</span> <span class="string">elements</span> <span class="string">of</span> <span class="string">the</span> <span class="string">array</span> <span class="string">are</span> <span class="string">sorted</span> <span class="string">in</span> <span class="string">descending</span> <span class="string">order</span> <span class="string">by</span> <span class="string">the</span> <span class="string">length</span> <span class="string">of</span> <span class="string">each</span> <span class="string">chunk.</span></span><br><span class="line"></span><br><span class="line"><span class="string">In</span> <span class="string">this</span> <span class="string">directory</span> <span class="string">block,</span> <span class="string">there</span> <span class="string">is</span> <span class="string">only</span> <span class="string">a</span> <span class="string">single</span> <span class="string">chunk</span> <span class="string">of</span> <span class="string">free</span> <span class="string">space</span></span><br><span class="line"><span class="string">starting</span> <span class="string">at</span> <span class="string">offset</span> <span class="number">1376</span> <span class="string">(0x0560)</span> <span class="string">and</span> <span class="string">having</span> <span class="number">2376 </span><span class="string">bytes</span> <span class="string">(0x0948)</span> <span class="string">of</span> <span class="string">space.</span> </span><br><span class="line"><span class="string">The</span> <span class="string">other</span> <span class="string">elements</span> <span class="string">of</span> <span class="string">the</span> <span class="string">free</span> <span class="string">space</span> <span class="string">array</span> <span class="string">are</span> <span class="string">zeroed,</span> <span class="string">indicating</span> <span class="literal">no</span> <span class="string">other</span> <span class="string">free</span> <span class="string">space</span> <span class="string">is</span> <span class="string">available.</span></span><br><span class="line"></span><br><span class="line"><span class="string">0000f040</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="string">8a</span>  <span class="number">01</span> <span class="string">2e</span> <span class="number">02</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">40</span>  <span class="string">|...............@|</span></span><br><span class="line"><span class="string">The</span> <span class="string">directory</span> <span class="string">entries</span> <span class="string">start</span> <span class="string">at</span> <span class="string">byte</span> <span class="number">64</span> <span class="string">(0x040)</span> <span class="string">and</span> <span class="string">can</span> <span class="string">be</span> <span class="string">read</span> <span class="string">sequentially</span> <span class="string">like</span> <span class="string">a</span> <span class="string">typical</span> <span class="string">Unix</span> <span class="string">directory.</span> <span class="string">However,</span> <span class="string">XFS</span> <span class="string">uses</span> <span class="string">a</span> <span class="string">hash-based</span> <span class="string">lookup</span> <span class="string">table,</span> <span class="string">growing</span> <span class="string">up</span> <span class="string">from</span> <span class="string">the</span> <span class="string">bottom</span> <span class="string">of</span> <span class="string">the</span> <span class="string">directory</span> <span class="string">block,</span> <span class="string">for</span> <span class="string">more</span> <span class="string">efficient</span> <span class="string">searching</span></span><br><span class="line"><span class="number">00000050</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">80</span>  <span class="number">02</span> <span class="string">2e</span> <span class="string">2e</span> <span class="number">02</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">50</span>  <span class="string">|...............P|</span></span><br><span class="line"><span class="number">00000060</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="string">8b</span>  <span class="string">0e</span> <span class="number">74</span> <span class="number">65</span> <span class="number">73</span> <span class="number">74</span> <span class="string">5f</span> <span class="number">64</span> <span class="number">69</span>  <span class="string">|.........test_di|</span></span><br><span class="line"><span class="number">00000070</span>  <span class="number">72</span> <span class="number">33</span> <span class="string">5f</span> <span class="number">30</span> <span class="string">2e</span> <span class="number">67</span> <span class="string">7a</span> <span class="number">01</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">60</span>  <span class="string">|r3_0.gz........`|</span></span><br><span class="line"><span class="number">00000080</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="string">8c</span>  <span class="string">0e</span> <span class="number">74</span> <span class="number">65</span> <span class="number">73</span> <span class="number">74</span> <span class="string">5f</span> <span class="number">64</span> <span class="number">69</span>  <span class="string">|.........test_di|</span></span><br><span class="line"><span class="number">00000090</span>  <span class="number">72</span> <span class="number">33</span> <span class="string">5f</span> <span class="number">31</span> <span class="string">2e</span> <span class="number">67</span> <span class="string">7a</span> <span class="number">01</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">80</span>  <span class="string">|r3_1.gz.........|</span></span><br><span class="line"><span class="string">000000a0</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="string">8d</span>  <span class="string">0e</span> <span class="number">74</span> <span class="number">65</span> <span class="number">73</span> <span class="number">74</span> <span class="string">5f</span> <span class="number">64</span> <span class="number">69</span>  <span class="string">|.........test_di|</span></span><br><span class="line"><span class="string">000000b0</span>  <span class="number">72</span> <span class="number">33</span> <span class="string">5f</span> <span class="number">32</span> <span class="string">2e</span> <span class="number">67</span> <span class="string">7a</span> <span class="number">01</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="string">a0</span>  <span class="string">|r3_2.gz.........|</span></span><br><span class="line"><span class="string">000000c0</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="string">8e</span>  <span class="string">0e</span> <span class="number">74</span> <span class="number">65</span> <span class="number">73</span> <span class="number">74</span> <span class="string">5f</span> <span class="number">64</span> <span class="number">69</span>  <span class="string">|.........test_di|</span></span><br><span class="line"><span class="string">000000d0</span>  <span class="number">72</span> <span class="number">33</span> <span class="string">5f</span> <span class="number">33</span> <span class="string">2e</span> <span class="number">67</span> <span class="string">7a</span> <span class="number">01</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="string">c0</span>  <span class="string">|r3_3.gz.........|</span></span><br><span class="line"><span class="number">000000e0</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="string">8f</span>  <span class="string">0e</span> <span class="number">74</span> <span class="number">65</span> <span class="number">73</span> <span class="number">74</span> <span class="string">5f</span> <span class="number">64</span> <span class="number">69</span>  <span class="string">|.........test_di|</span></span><br><span class="line"><span class="string">000000f0</span>  <span class="number">72</span> <span class="number">33</span> <span class="string">5f</span> <span class="number">34</span> <span class="string">2e</span> <span class="number">67</span> <span class="string">7a</span> <span class="number">01</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="string">e0</span>  <span class="string">|r3_4.gz.........|</span></span><br><span class="line"><span class="number">00000100</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">90</span>  <span class="string">0e</span> <span class="number">74</span> <span class="number">65</span> <span class="number">73</span> <span class="number">74</span> <span class="string">5f</span> <span class="number">64</span> <span class="number">69</span>  <span class="string">|.........test_di|</span></span><br><span class="line"><span class="number">00000110</span>  <span class="number">72</span> <span class="number">33</span> <span class="string">5f</span> <span class="number">35</span> <span class="string">2e</span> <span class="number">67</span> <span class="string">7a</span> <span class="number">01</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">01</span> <span class="number">00</span>  <span class="string">|r3_5.gz.........|</span></span><br><span class="line"><span class="number">00000120</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">91</span>  <span class="string">0e</span> <span class="number">74</span> <span class="number">65</span> <span class="number">73</span> <span class="number">74</span> <span class="string">5f</span> <span class="number">64</span> <span class="number">69</span>  <span class="string">|.........test_di|</span></span><br><span class="line"><span class="number">00000130</span>  <span class="number">72</span> <span class="number">33</span> <span class="string">5f</span> <span class="number">36</span> <span class="string">2e</span> <span class="number">67</span> <span class="string">7a</span> <span class="number">01</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">01</span> <span class="number">20</span>  <span class="string">|r3_6.gz........</span> <span class="string">|</span></span><br><span class="line"><span class="number">00000140</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">92</span>  <span class="string">0e</span> <span class="number">74</span> <span class="number">65</span> <span class="number">73</span> <span class="number">74</span> <span class="string">5f</span> <span class="number">64</span> <span class="number">69</span>  <span class="string">|.........test_di|</span></span><br><span class="line"><span class="number">00000150</span>  <span class="number">72</span> <span class="number">33</span> <span class="string">5f</span> <span class="number">37</span> <span class="string">2e</span> <span class="number">67</span> <span class="string">7a</span> <span class="number">01</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">01</span> <span class="number">40</span>  <span class="string">|r3_7.gz........@|</span></span><br><span class="line"><span class="number">00000160</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">93</span>  <span class="string">0e</span> <span class="number">74</span> <span class="number">65</span> <span class="number">73</span> <span class="number">74</span> <span class="string">5f</span> <span class="number">64</span> <span class="number">69</span>  <span class="string">|.........test_di|</span></span><br><span class="line"><span class="number">00000170</span>  <span class="number">72</span> <span class="number">33</span> <span class="string">5f</span> <span class="number">38</span> <span class="string">2e</span> <span class="number">67</span> <span class="string">7a</span> <span class="number">01</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">01</span> <span class="number">60</span>  <span class="string">|r3_8.gz........`|</span></span><br><span class="line"><span class="number">00000180</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">94</span>  <span class="string">0e</span> <span class="number">74</span> <span class="number">65</span> <span class="number">73</span> <span class="number">74</span> <span class="string">5f</span> <span class="number">64</span> <span class="number">69</span>  <span class="string">|.........test_di|</span></span><br><span class="line"><span class="number">00000190</span>  <span class="number">72</span> <span class="number">33</span> <span class="string">5f</span> <span class="number">39</span> <span class="string">2e</span> <span class="number">67</span> <span class="string">7a</span> <span class="number">01</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">01</span> <span class="number">80</span>  <span class="string">|r3_9.gz.........|</span></span><br><span class="line"><span class="string">000001a0</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">95</span>  <span class="string">0f</span> <span class="number">74</span> <span class="number">65</span> <span class="number">73</span> <span class="number">74</span> <span class="string">5f</span> <span class="number">64</span> <span class="number">69</span>  <span class="string">|.........test_di|</span></span><br><span class="line"><span class="string">000001b0</span>  <span class="number">72</span> <span class="number">33</span> <span class="string">5f</span> <span class="number">31</span> <span class="number">30</span> <span class="string">2e</span> <span class="number">67</span> <span class="string">7a</span>  <span class="number">01</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">01</span> <span class="string">a0</span>  <span class="string">|r3_10.gz........|</span></span><br><span class="line"><span class="string">000001c0</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">96</span>  <span class="string">0f</span> <span class="number">74</span> <span class="number">65</span> <span class="number">73</span> <span class="number">74</span> <span class="string">5f</span> <span class="number">64</span> <span class="number">69</span>  <span class="string">|.........test_di|</span></span><br><span class="line"><span class="string">000001d0</span>  <span class="number">72</span> <span class="number">33</span> <span class="string">5f</span> <span class="number">31</span> <span class="number">31</span> <span class="string">2e</span> <span class="number">67</span> <span class="string">7a</span>  <span class="number">01</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">01</span> <span class="string">c0</span>  <span class="string">|r3_11.gz........|</span></span><br><span class="line"><span class="number">000001e0</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">97</span>  <span class="string">0f</span> <span class="number">74</span> <span class="number">65</span> <span class="number">73</span> <span class="number">74</span> <span class="string">5f</span> <span class="number">64</span> <span class="number">69</span>  <span class="string">|.........test_di|</span></span><br><span class="line"><span class="string">000001f0</span>  <span class="number">72</span> <span class="number">33</span> <span class="string">5f</span> <span class="number">31</span> <span class="number">32</span> <span class="string">2e</span> <span class="number">67</span> <span class="string">7a</span>  <span class="number">01</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">01</span> <span class="string">e0</span>  <span class="string">|r3_12.gz........|</span></span><br><span class="line"><span class="number">00000200</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">98</span>  <span class="string">0f</span> <span class="number">74</span> <span class="number">65</span> <span class="number">73</span> <span class="number">74</span> <span class="string">5f</span> <span class="number">64</span> <span class="number">69</span>  <span class="string">|.........test_di|</span></span><br><span class="line"><span class="number">00000210</span>  <span class="number">72</span> <span class="number">33</span> <span class="string">5f</span> <span class="number">31</span> <span class="number">33</span> <span class="string">2e</span> <span class="number">67</span> <span class="string">7a</span>  <span class="number">01</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">02</span> <span class="number">00</span>  <span class="string">|r3_13.gz........|</span></span><br><span class="line"><span class="number">00000220</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">99</span>  <span class="string">0f</span> <span class="number">74</span> <span class="number">65</span> <span class="number">73</span> <span class="number">74</span> <span class="string">5f</span> <span class="number">64</span> <span class="number">69</span>  <span class="string">|.........test_di|</span></span><br><span class="line"><span class="number">00000230</span>  <span class="number">72</span> <span class="number">33</span> <span class="string">5f</span> <span class="number">31</span> <span class="number">34</span> <span class="string">2e</span> <span class="number">67</span> <span class="string">7a</span>  <span class="number">01</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">02</span> <span class="number">20</span>  <span class="string">|r3_14.gz.......</span> <span class="string">|</span></span><br><span class="line"><span class="number">00000240</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="string">9a</span>  <span class="string">0f</span> <span class="number">74</span> <span class="number">65</span> <span class="number">73</span> <span class="number">74</span> <span class="string">5f</span> <span class="number">64</span> <span class="number">69</span>  <span class="string">|.........test_di|</span></span><br><span class="line"><span class="number">00000250</span>  <span class="number">72</span> <span class="number">33</span> <span class="string">5f</span> <span class="number">31</span> <span class="number">35</span> <span class="string">2e</span> <span class="number">67</span> <span class="string">7a</span>  <span class="number">01</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">02</span> <span class="number">40</span>  <span class="string">|r3_15.gz.......@|</span></span><br><span class="line"><span class="number">00000260</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="string">9b</span>  <span class="string">0f</span> <span class="number">74</span> <span class="number">65</span> <span class="number">73</span> <span class="number">74</span> <span class="string">5f</span> <span class="number">64</span> <span class="number">69</span>  <span class="string">|.........test_di|</span></span><br><span class="line"><span class="number">00000270</span>  <span class="number">72</span> <span class="number">33</span> <span class="string">5f</span> <span class="number">31</span> <span class="number">36</span> <span class="string">2e</span> <span class="number">67</span> <span class="string">7a</span>  <span class="number">01</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">02</span> <span class="number">60</span>  <span class="string">|r3_16.gz.......`|</span></span><br><span class="line"><span class="number">00000280</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="string">9c</span>  <span class="string">0f</span> <span class="number">74</span> <span class="number">65</span> <span class="number">73</span> <span class="number">74</span> <span class="string">5f</span> <span class="number">64</span> <span class="number">69</span>  <span class="string">|.........test_di|</span></span><br><span class="line"><span class="number">00000290</span>  <span class="number">72</span> <span class="number">33</span> <span class="string">5f</span> <span class="number">31</span> <span class="number">37</span> <span class="string">2e</span> <span class="number">67</span> <span class="string">7a</span>  <span class="number">01</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">02</span> <span class="number">80</span>  <span class="string">|r3_17.gz........|</span></span><br><span class="line"><span class="string">000002a0</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="string">9d</span>  <span class="string">0f</span> <span class="number">74</span> <span class="number">65</span> <span class="number">73</span> <span class="number">74</span> <span class="string">5f</span> <span class="number">64</span> <span class="number">69</span>  <span class="string">|.........test_di|</span></span><br><span class="line"><span class="string">000002b0</span>  <span class="number">72</span> <span class="number">33</span> <span class="string">5f</span> <span class="number">31</span> <span class="number">38</span> <span class="string">2e</span> <span class="number">67</span> <span class="string">7a</span>  <span class="number">01</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">02</span> <span class="string">a0</span>  <span class="string">|r3_18.gz........|</span></span><br><span class="line"><span class="string">000002c0</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="string">9e</span>  <span class="string">0f</span> <span class="number">74</span> <span class="number">65</span> <span class="number">73</span> <span class="number">74</span> <span class="string">5f</span> <span class="number">64</span> <span class="number">69</span>  <span class="string">|.........test_di|</span></span><br><span class="line"><span class="string">000002d0</span>  <span class="number">72</span> <span class="number">33</span> <span class="string">5f</span> <span class="number">31</span> <span class="number">39</span> <span class="string">2e</span> <span class="number">67</span> <span class="string">7a</span>  <span class="number">01</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">02</span> <span class="string">c0</span>  <span class="string">|r3_19.gz........|</span></span><br><span class="line"><span class="number">000002e0</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="string">9f</span>  <span class="string">0f</span> <span class="number">74</span> <span class="number">65</span> <span class="number">73</span> <span class="number">74</span> <span class="string">5f</span> <span class="number">64</span> <span class="number">69</span>  <span class="string">|.........test_di|</span></span><br><span class="line"><span class="string">000002f0</span>  <span class="number">72</span> <span class="number">33</span> <span class="string">5f</span> <span class="number">32</span> <span class="number">30</span> <span class="string">2e</span> <span class="number">67</span> <span class="string">7a</span>  <span class="number">01</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">02</span> <span class="string">e0</span>  <span class="string">|r3_20.gz........|</span></span><br><span class="line"><span class="number">00000300</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="string">a0</span>  <span class="string">0f</span> <span class="number">74</span> <span class="number">65</span> <span class="number">73</span> <span class="number">74</span> <span class="string">5f</span> <span class="number">64</span> <span class="number">69</span>  <span class="string">|.........test_di|</span></span><br><span class="line"><span class="number">00000310</span>  <span class="number">72</span> <span class="number">33</span> <span class="string">5f</span> <span class="number">32</span> <span class="number">31</span> <span class="string">2e</span> <span class="number">67</span> <span class="string">7a</span>  <span class="number">01</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">03</span> <span class="number">00</span>  <span class="string">|r3_21.gz........|</span></span><br><span class="line"><span class="number">00000320</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="string">a1</span>  <span class="string">0f</span> <span class="number">74</span> <span class="number">65</span> <span class="number">73</span> <span class="number">74</span> <span class="string">5f</span> <span class="number">64</span> <span class="number">69</span>  <span class="string">|.........test_di|</span></span><br><span class="line"><span class="number">00000330</span>  <span class="number">72</span> <span class="number">33</span> <span class="string">5f</span> <span class="number">32</span> <span class="number">32</span> <span class="string">2e</span> <span class="number">67</span> <span class="string">7a</span>  <span class="number">01</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">03</span> <span class="number">20</span>  <span class="string">|r3_22.gz.......</span> <span class="string">|</span></span><br><span class="line"><span class="number">00000340</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="string">a2</span>  <span class="string">0f</span> <span class="number">74</span> <span class="number">65</span> <span class="number">73</span> <span class="number">74</span> <span class="string">5f</span> <span class="number">64</span> <span class="number">69</span>  <span class="string">|.........test_di|</span></span><br><span class="line"><span class="number">00000350</span>  <span class="number">72</span> <span class="number">33</span> <span class="string">5f</span> <span class="number">32</span> <span class="number">33</span> <span class="string">2e</span> <span class="number">67</span> <span class="string">7a</span>  <span class="number">01</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">03</span> <span class="number">40</span>  <span class="string">|r3_23.gz.......@|</span></span><br><span class="line"><span class="number">00000360</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="string">a3</span>  <span class="string">0f</span> <span class="number">74</span> <span class="number">65</span> <span class="number">73</span> <span class="number">74</span> <span class="string">5f</span> <span class="number">64</span> <span class="number">69</span>  <span class="string">|.........test_di|</span></span><br><span class="line"><span class="number">00000370</span>  <span class="number">72</span> <span class="number">33</span> <span class="string">5f</span> <span class="number">32</span> <span class="number">34</span> <span class="string">2e</span> <span class="number">67</span> <span class="string">7a</span>  <span class="number">01</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">03</span> <span class="number">60</span>  <span class="string">|r3_24.gz.......`|</span></span><br><span class="line"><span class="number">00000380</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="string">a4</span>  <span class="string">0f</span> <span class="number">74</span> <span class="number">65</span> <span class="number">73</span> <span class="number">74</span> <span class="string">5f</span> <span class="number">64</span> <span class="number">69</span>  <span class="string">|.........test_di|</span></span><br><span class="line"><span class="number">00000390</span>  <span class="number">72</span> <span class="number">33</span> <span class="string">5f</span> <span class="number">32</span> <span class="number">35</span> <span class="string">2e</span> <span class="number">67</span> <span class="string">7a</span>  <span class="number">01</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">03</span> <span class="number">80</span>  <span class="string">|r3_25.gz........|</span></span><br><span class="line"><span class="string">000003a0</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="string">a5</span>  <span class="string">0f</span> <span class="number">74</span> <span class="number">65</span> <span class="number">73</span> <span class="number">74</span> <span class="string">5f</span> <span class="number">64</span> <span class="number">69</span>  <span class="string">|.........test_di|</span></span><br><span class="line"><span class="string">000003b0</span>  <span class="number">72</span> <span class="number">33</span> <span class="string">5f</span> <span class="number">32</span> <span class="number">36</span> <span class="string">2e</span> <span class="number">67</span> <span class="string">7a</span>  <span class="number">01</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">03</span> <span class="string">a0</span>  <span class="string">|r3_26.gz........|</span></span><br><span class="line"><span class="string">000003c0</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="string">a6</span>  <span class="string">0f</span> <span class="number">74</span> <span class="number">65</span> <span class="number">73</span> <span class="number">74</span> <span class="string">5f</span> <span class="number">64</span> <span class="number">69</span>  <span class="string">|.........test_di|</span></span><br><span class="line"><span class="string">000003d0</span>  <span class="number">72</span> <span class="number">33</span> <span class="string">5f</span> <span class="number">32</span> <span class="number">37</span> <span class="string">2e</span> <span class="number">67</span> <span class="string">7a</span>  <span class="number">01</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">03</span> <span class="string">c0</span>  <span class="string">|r3_27.gz........|</span></span><br><span class="line"><span class="number">000003e0</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="string">a7</span>  <span class="string">0f</span> <span class="number">74</span> <span class="number">65</span> <span class="number">73</span> <span class="number">74</span> <span class="string">5f</span> <span class="number">64</span> <span class="number">69</span>  <span class="string">|.........test_di|</span></span><br><span class="line"><span class="string">000003f0</span>  <span class="number">72</span> <span class="number">33</span> <span class="string">5f</span> <span class="number">32</span> <span class="number">38</span> <span class="string">2e</span> <span class="number">67</span> <span class="string">7a</span>  <span class="number">01</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">03</span> <span class="string">e0</span>  <span class="string">|r3_28.gz........|</span></span><br><span class="line"><span class="number">00000400</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="string">a8</span>  <span class="string">0f</span> <span class="number">74</span> <span class="number">65</span> <span class="number">73</span> <span class="number">74</span> <span class="string">5f</span> <span class="number">64</span> <span class="number">69</span>  <span class="string">|.........test_di|</span></span><br><span class="line"><span class="number">00000410</span>  <span class="number">72</span> <span class="number">33</span> <span class="string">5f</span> <span class="number">32</span> <span class="number">39</span> <span class="string">2e</span> <span class="number">67</span> <span class="string">7a</span>  <span class="number">01</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">04</span> <span class="number">00</span>  <span class="string">|r3_29.gz........|</span></span><br><span class="line"><span class="number">00000420</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="string">a9</span>  <span class="string">0f</span> <span class="number">74</span> <span class="number">65</span> <span class="number">73</span> <span class="number">74</span> <span class="string">5f</span> <span class="number">64</span> <span class="number">69</span>  <span class="string">|.........test_di|</span></span><br><span class="line"><span class="number">00000430</span>  <span class="number">72</span> <span class="number">33</span> <span class="string">5f</span> <span class="number">33</span> <span class="number">30</span> <span class="string">2e</span> <span class="number">67</span> <span class="string">7a</span>  <span class="number">01</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">04</span> <span class="number">20</span>  <span class="string">|r3_30.gz.......</span> <span class="string">|</span></span><br><span class="line"><span class="number">00000440</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="string">aa</span>  <span class="string">0f</span> <span class="number">74</span> <span class="number">65</span> <span class="number">73</span> <span class="number">74</span> <span class="string">5f</span> <span class="number">64</span> <span class="number">69</span>  <span class="string">|.........test_di|</span></span><br><span class="line"><span class="number">00000450</span>  <span class="number">72</span> <span class="number">33</span> <span class="string">5f</span> <span class="number">33</span> <span class="number">31</span> <span class="string">2e</span> <span class="number">67</span> <span class="string">7a</span>  <span class="number">01</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">04</span> <span class="number">40</span>  <span class="string">|r3_31.gz.......@|</span></span><br><span class="line"><span class="number">00000460</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="string">ab</span>  <span class="string">0f</span> <span class="number">74</span> <span class="number">65</span> <span class="number">73</span> <span class="number">74</span> <span class="string">5f</span> <span class="number">64</span> <span class="number">69</span>  <span class="string">|.........test_di|</span></span><br><span class="line"><span class="number">00000470</span>  <span class="number">72</span> <span class="number">33</span> <span class="string">5f</span> <span class="number">33</span> <span class="number">32</span> <span class="string">2e</span> <span class="number">67</span> <span class="string">7a</span>  <span class="number">01</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">04</span> <span class="number">60</span>  <span class="string">|r3_32.gz.......`|</span></span><br><span class="line"><span class="number">00000480</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="string">ac</span>  <span class="string">0f</span> <span class="number">74</span> <span class="number">65</span> <span class="number">73</span> <span class="number">74</span> <span class="string">5f</span> <span class="number">64</span> <span class="number">69</span>  <span class="string">|.........test_di|</span></span><br><span class="line"><span class="number">00000490</span>  <span class="number">72</span> <span class="number">33</span> <span class="string">5f</span> <span class="number">33</span> <span class="number">33</span> <span class="string">2e</span> <span class="number">67</span> <span class="string">7a</span>  <span class="number">01</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">04</span> <span class="number">80</span>  <span class="string">|r3_33.gz........|</span></span><br><span class="line"><span class="string">000004a0</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="string">ad</span>  <span class="string">0f</span> <span class="number">74</span> <span class="number">65</span> <span class="number">73</span> <span class="number">74</span> <span class="string">5f</span> <span class="number">64</span> <span class="number">69</span>  <span class="string">|.........test_di|</span></span><br><span class="line"><span class="string">000004b0</span>  <span class="number">72</span> <span class="number">33</span> <span class="string">5f</span> <span class="number">33</span> <span class="number">34</span> <span class="string">2e</span> <span class="number">67</span> <span class="string">7a</span>  <span class="number">01</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">04</span> <span class="string">a0</span>  <span class="string">|r3_34.gz........|</span></span><br><span class="line"><span class="string">000004c0</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="string">ae</span>  <span class="string">0f</span> <span class="number">74</span> <span class="number">65</span> <span class="number">73</span> <span class="number">74</span> <span class="string">5f</span> <span class="number">64</span> <span class="number">69</span>  <span class="string">|.........test_di|</span></span><br><span class="line"><span class="string">000004d0</span>  <span class="number">72</span> <span class="number">33</span> <span class="string">5f</span> <span class="number">33</span> <span class="number">35</span> <span class="string">2e</span> <span class="number">67</span> <span class="string">7a</span>  <span class="number">01</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">04</span> <span class="string">c0</span>  <span class="string">|r3_35.gz........|</span></span><br><span class="line"><span class="number">000004e0</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="string">af</span>  <span class="string">0f</span> <span class="number">74</span> <span class="number">65</span> <span class="number">73</span> <span class="number">74</span> <span class="string">5f</span> <span class="number">64</span> <span class="number">69</span>  <span class="string">|.........test_di|</span></span><br><span class="line"><span class="string">000004f0</span>  <span class="number">72</span> <span class="number">33</span> <span class="string">5f</span> <span class="number">33</span> <span class="number">36</span> <span class="string">2e</span> <span class="number">67</span> <span class="string">7a</span>  <span class="number">01</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">04</span> <span class="string">e0</span>  <span class="string">|r3_36.gz........|</span></span><br><span class="line"><span class="number">00000500</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="string">b0</span>  <span class="string">0f</span> <span class="number">74</span> <span class="number">65</span> <span class="number">73</span> <span class="number">74</span> <span class="string">5f</span> <span class="number">64</span> <span class="number">69</span>  <span class="string">|.........test_di|</span></span><br><span class="line"><span class="number">00000510</span>  <span class="number">72</span> <span class="number">33</span> <span class="string">5f</span> <span class="number">33</span> <span class="number">37</span> <span class="string">2e</span> <span class="number">67</span> <span class="string">7a</span>  <span class="number">01</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">05</span> <span class="number">00</span>  <span class="string">|r3_37.gz........|</span></span><br><span class="line"><span class="number">00000520</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="string">b1</span>  <span class="string">0f</span> <span class="number">74</span> <span class="number">65</span> <span class="number">73</span> <span class="number">74</span> <span class="string">5f</span> <span class="number">64</span> <span class="number">69</span>  <span class="string">|.........test_di|</span></span><br><span class="line"><span class="string">begin-&gt;|inode=177=0xb1</span> <span class="string">of</span> <span class="string">dir3_38|</span> <span class="string">|</span>  <span class="string">|------name--------|</span></span><br><span class="line">                               <span class="string">name</span> <span class="string">len</span></span><br><span class="line"><span class="number">00000530</span>  <span class="number">72</span> <span class="number">33</span> <span class="string">5f</span> <span class="number">33</span> <span class="number">38</span> <span class="string">2e</span> <span class="number">67</span> <span class="string">7a</span>  <span class="number">01</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">05</span> <span class="number">20</span>  <span class="string">|r3_38.gz.......</span> <span class="string">|</span></span><br><span class="line"><span class="string">xfs_db&gt;</span> <span class="string">hash</span> <span class="string">test_dir3_38.gz</span>        <span class="string">|</span>        <span class="string">|</span>         <span class="string">|</span>   </span><br><span class="line"><span class="number">0x71d1eb20</span>                          <span class="string">|</span>        <span class="string">|</span>         <span class="string">|</span></span><br><span class="line">                               <span class="string">type--</span>        <span class="string">|</span>         <span class="string">|</span></span><br><span class="line">                                            <span class="string">Padding</span>    <span class="string">|</span></span><br><span class="line"><span class="string">begin-&gt;</span> <span class="string">|-inode=178=0xb2</span> <span class="string">of</span> <span class="string">dir3_39-|</span>                  <span class="string">----byte</span> <span class="string">offset</span> <span class="string">of</span> <span class="string">this</span> <span class="string">directory</span> <span class="string">entry</span> <span class="string">(0x0520)</span></span><br><span class="line"><span class="number">00000540</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="string">b2</span>  <span class="string">0f</span> <span class="number">74</span> <span class="number">65</span> <span class="number">73</span> <span class="number">74</span> <span class="string">5f</span> <span class="number">64</span> <span class="number">69</span>  <span class="string">|.........test_di|</span></span><br><span class="line">                                    <span class="string">|</span></span><br><span class="line">                            <span class="string">file</span> <span class="string">name</span> <span class="string">length=15=0xf</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">Secure</span> <span class="string">Connection</span> <span class="string">Failed</span></span><br><span class="line"></span><br><span class="line"><span class="string">An</span> <span class="string">error</span> <span class="string">occurred</span> <span class="string">during</span> <span class="string">a</span> <span class="string">connection</span> <span class="string">to</span> <span class="string">righteousit.wordpress.com.</span> <span class="string">PR_END_OF_FILE_ERROR</span></span><br><span class="line"></span><br><span class="line">    <span class="string">The</span> <span class="string">page</span> <span class="string">you</span> <span class="string">are</span> <span class="string">trying</span> <span class="string">to</span> <span class="string">view</span> <span class="string">cannot</span> <span class="string">be</span> <span class="string">shown</span> <span class="string">because</span> <span class="string">the</span> <span class="string">authenticity</span> <span class="string">of</span> <span class="string">the</span> <span class="string">received</span> <span class="string">data</span> <span class="string">could</span> <span class="string">not</span> <span class="string">be</span> <span class="string">verified.</span></span><br><span class="line">    <span class="string">Please</span> <span class="string">contact</span> <span class="string">the</span> <span class="string">web</span> <span class="string">site</span> <span class="string">owners</span> <span class="string">to</span> <span class="string">inform</span> <span class="string">them</span> <span class="string">of</span> <span class="string">this</span> <span class="string">problem.</span></span><br><span class="line"></span><br><span class="line"><span class="string">Learn</span> <span class="string">more…</span></span><br><span class="line"><span class="number">00000550</span>  <span class="number">72</span> <span class="number">33</span> <span class="string">5f</span> <span class="number">33</span> <span class="number">39</span> <span class="string">2e</span> <span class="number">67</span> <span class="string">7a</span>  <span class="number">01</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">05</span> <span class="number">40</span>  <span class="string">|r3_39.gz.......@|</span></span><br><span class="line"><span class="number">00000560</span>  <span class="string">ff</span> <span class="string">ff</span> <span class="number">09</span> <span class="number">48</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="string">|...H............|</span></span><br><span class="line">                    <span class="string">|</span></span><br><span class="line">                    <span class="string">|</span></span><br><span class="line"><span class="string">--------I</span> <span class="string">guess</span> <span class="string">it</span> <span class="string">&#x27;s the last 8 bytes, but I &#x27;</span><span class="string">m</span> <span class="string">not</span> <span class="string">found</span> <span class="string">the</span> <span class="string">directory</span> <span class="string">entries,</span> <span class="string">only</span> <span class="number">40</span> <span class="string">files,</span> <span class="string">not</span> <span class="string">the</span> <span class="number">0xffff0948</span></span><br><span class="line"></span><br><span class="line"><span class="string">The</span> <span class="string">last</span> <span class="number">8</span> <span class="string">bytes</span> <span class="string">of</span> <span class="string">the</span> <span class="string">directory</span> <span class="string">block</span> <span class="string">are</span> <span class="string">a</span> <span class="string">“tail</span> <span class="string">record”</span> <span class="attr">containing two 4 byte values:</span> </span><br><span class="line"><span class="string">the</span> <span class="string">number</span> <span class="string">of</span> <span class="string">directory</span> <span class="string">entries</span> <span class="string">(here</span> <span class="string">is</span> <span class="string">the</span> <span class="number">0xffff0948</span><span class="string">)</span> <span class="string">and</span> <span class="string">the</span> <span class="string">number</span> <span class="string">of</span> <span class="string">unused</span> <span class="string">entries</span> <span class="string">(zero)</span> </span><br><span class="line"></span><br><span class="line"><span class="string">Immediately</span> <span class="string">preceding</span> <span class="string">the</span> <span class="string">tail</span> <span class="string">record</span> <span class="string">will</span> <span class="string">be</span> <span class="string">an</span> <span class="string">array</span> <span class="string">of</span> <span class="number">8</span> <span class="string">byte</span> <span class="string">records,</span> <span class="string">one</span> <span class="string">record</span> <span class="string">per</span> <span class="string">directory</span> <span class="string">entry</span> <span class="string">(52</span> <span class="string">records</span> <span class="string">in</span> <span class="string">this</span> <span class="string">case).</span> </span><br><span class="line"><span class="string">Each</span> <span class="string">record</span> <span class="string">contains</span> <span class="string">a</span> <span class="string">hash</span> <span class="string">value</span> <span class="string">computed</span> <span class="string">from</span> <span class="string">the</span> <span class="string">file</span> <span class="string">name,</span> <span class="string">and</span> <span class="string">the</span> <span class="string">offset</span> <span class="string">in</span> <span class="string">the</span> <span class="string">directory</span> <span class="string">block</span> <span class="string">where</span> <span class="string">the</span> <span class="string">directory</span> <span class="string">entry</span> <span class="string">for</span> <span class="string">that</span> <span class="string">file</span> <span class="string">is</span> <span class="string">located.</span> <span class="string">The</span> <span class="string">array</span> <span class="string">is</span> <span class="string">sorted</span> <span class="string">by</span> <span class="string">hash</span> <span class="string">value</span> <span class="string">so</span> <span class="string">that</span> <span class="string">binary</span> <span class="string">search</span> <span class="string">can</span> <span class="string">quickly</span> <span class="string">find</span> <span class="string">the</span> <span class="string">desired</span> <span class="string">record.</span> <span class="string">The</span> <span class="string">offsets</span> <span class="string">are</span> <span class="string">in</span> <span class="number">8</span> <span class="string">byte</span> <span class="string">units.</span></span><br><span class="line"></span><br><span class="line"><span class="number">00000570</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="string">|................|</span></span><br><span class="line"><span class="string">*</span></span><br><span class="line"><span class="number">00000600</span></span><br><span class="line"></span><br><span class="line"><span class="comment">##inode 177</span></span><br><span class="line"><span class="string">$</span> <span class="string">xfs_db</span> <span class="string">-r</span> <span class="string">/dev/loop20</span> <span class="string">-c</span> <span class="string">&quot;convert inode 177 agino&quot;</span></span><br><span class="line"><span class="number">0xb1</span> <span class="string">(177)</span></span><br><span class="line"><span class="string">$</span> <span class="string">xfs_db</span> <span class="string">-r</span> <span class="string">/dev/loop20</span> <span class="string">-c</span> <span class="string">&quot;convert inode 177 agno&quot;</span></span><br><span class="line"><span class="number">0x0</span> <span class="string">(0)</span></span><br><span class="line"><span class="string">$</span> <span class="string">xfs_db</span> <span class="string">-r</span> <span class="string">/dev/loop20</span> <span class="string">-c</span> <span class="string">&quot;convert inode 177 agblock&quot;</span></span><br><span class="line"><span class="number">0x16</span> <span class="string">(22)</span></span><br><span class="line"><span class="string">$</span> <span class="string">xfs_db</span> <span class="string">-r</span> <span class="string">/dev/loop20</span> <span class="string">-c</span> <span class="string">&quot;convert inode 177 offset&quot;</span></span><br><span class="line"><span class="number">0x1</span> <span class="string">(1)</span></span><br><span class="line"></span><br><span class="line"><span class="string">$</span> <span class="string">dd</span> <span class="string">if=/dev/loop20</span> <span class="string">bs=4096</span> <span class="string">skip=$((0*103680</span> <span class="string">+</span> <span class="number">22</span><span class="string">))</span> <span class="string">count=1</span> <span class="number">2</span><span class="string">&gt;</span> <span class="string">/dev/null</span> <span class="string">|</span> <span class="string">dd</span> <span class="string">bs=512</span> <span class="string">skip=1</span> <span class="string">count=1</span> <span class="number">2</span><span class="string">&gt;/dev/null</span> <span class="string">|</span> <span class="string">hexdump</span> <span class="string">-C</span></span><br><span class="line"></span><br><span class="line"><span class="number">00000000</span>  <span class="number">49</span> <span class="string">4e</span> <span class="number">81</span> <span class="string">a4</span> <span class="number">03</span> <span class="number">02</span> <span class="number">00</span> <span class="number">00</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="string">|IN..............|</span></span><br><span class="line"><span class="number">00000010</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">01</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="string">|................|</span></span><br><span class="line"><span class="number">00000020</span>  <span class="number">62</span> <span class="string">ce</span> <span class="number">62</span> <span class="string">bb</span> <span class="number">21</span> <span class="string">3b</span> <span class="string">4b</span> <span class="string">ef</span>  <span class="number">62</span> <span class="string">cd</span> <span class="string">3e</span> <span class="string">6a</span> <span class="string">3a</span> <span class="string">9c</span> <span class="string">fb</span> <span class="string">fc</span>  <span class="string">|b.b.!;K.b.&gt;j:...|</span></span><br><span class="line"><span class="number">00000030</span>  <span class="number">62</span> <span class="string">cd</span> <span class="string">3e</span> <span class="string">6a</span> <span class="string">3a</span> <span class="string">9c</span> <span class="string">fb</span> <span class="string">fc</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">10</span> <span class="number">00</span> <span class="string">b2</span>  <span class="string">|b.&gt;j:...........|</span></span><br><span class="line"><span class="number">00000040</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">01</span> <span class="number">01</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">01</span>  <span class="string">|................|</span></span><br><span class="line"><span class="number">00000050</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">02</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="string">6a</span> <span class="number">13</span> <span class="string">b1</span> <span class="string">5a</span>  <span class="string">|............j..Z|</span></span><br><span class="line"><span class="number">00000060</span>  <span class="string">ff</span> <span class="string">ff</span> <span class="string">ff</span> <span class="string">ff</span> <span class="string">b3</span> <span class="string">ce</span> <span class="number">51</span> <span class="number">08</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">06</span>  <span class="string">|......Q.........|</span></span><br><span class="line"><span class="number">00000070</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">01</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="string">d7</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="string">|................|</span></span><br><span class="line"><span class="number">00000080</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="string">|................|</span></span><br><span class="line"><span class="number">00000090</span>  <span class="number">62</span> <span class="string">cd</span> <span class="string">3e</span> <span class="string">6a</span> <span class="number">38</span> <span class="string">b4</span> <span class="string">b4</span> <span class="string">a4</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="string">b1</span>  <span class="string">|b.&gt;j8...........|</span></span><br><span class="line"><span class="string">000000a0</span>  <span class="number">70</span> <span class="number">46</span> <span class="string">3d</span> <span class="string">e0</span> <span class="number">05</span> <span class="number">01</span> <span class="number">40</span> <span class="number">81</span>  <span class="string">9e</span> <span class="number">24</span> <span class="string">f0</span> <span class="string">e8</span> <span class="number">71</span> <span class="number">91</span> <span class="number">88</span> <span class="number">84</span>  <span class="string">|pF=...@..$..q...|</span></span><br><span class="line"><span class="string">000000b0</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">13</span> <span class="number">44</span> <span class="string">a0</span> <span class="number">01</span> <span class="number">01</span>  <span class="string">|............D...|</span></span><br><span class="line">                                                    </span><br><span class="line"><span class="string">000000c0</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="string">|................|</span></span><br><span class="line"><span class="string">*</span></span><br><span class="line"><span class="number">00000200</span></span><br><span class="line"></span><br><span class="line"><span class="string">000000b0</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">13</span> <span class="number">44</span> <span class="string">a0</span> <span class="number">01</span> <span class="number">01</span>  <span class="string">|............D...|</span></span><br><span class="line"> <span class="number">0x1344a00101</span><span class="string">=0001001101000100101000000000000100000001</span></span><br><span class="line"> <span class="number">000</span><span class="string">,1001;1011;0010;0110;</span> <span class="number">0</span><span class="string">;0000;0000;0001;0000;0001</span> <span class="string">--&gt;</span> <span class="number">100000001</span> <span class="string">=</span> <span class="number">257</span></span><br><span class="line"> <span class="number">000</span><span class="string">;1001;1010;0010;0101;</span> <span class="number">0</span><span class="string">;0000;0000;0001;0000;0001</span></span><br><span class="line">                                                <span class="number">1001101100100110</span><span class="string">=39718</span></span><br><span class="line">                                   <span class="string">dd</span> <span class="string">if=/dev/loop20</span> <span class="string">bs=4096</span> <span class="string">skip=$((0*103680+39461))</span> <span class="string">count=257</span> <span class="number">2</span><span class="string">&gt;/dev/null</span> <span class="string">|</span> <span class="string">hexdump</span> <span class="string">-C</span> <span class="string">|</span> <span class="string">head</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">root@homerl:/home/homerl/Downloads/xfs/xfsinfo#</span> <span class="string">dd</span> <span class="string">if=/dev/loop20</span> <span class="string">bs=4096</span>  <span class="string">skip=$((0*103680+39461))</span> <span class="string">count=257</span> <span class="number">2</span><span class="string">&gt;/dev/null</span> <span class="string">|</span> <span class="string">hexdump</span> <span class="string">-C</span> <span class="string">|</span> <span class="string">head</span></span><br><span class="line"><span class="number">00000000</span>  <span class="string">1f</span> <span class="string">8b</span> <span class="number">08</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="number">00</span> <span class="number">03</span> <span class="number">00</span> <span class="number">05</span> <span class="number">80</span> <span class="string">fa</span> <span class="string">7f</span> <span class="number">23</span>  <span class="string">|...............#|</span></span><br><span class="line"><span class="number">00000010</span>  <span class="string">fd</span> <span class="string">de</span> <span class="string">f3</span> <span class="string">c8</span> <span class="string">2c</span> <span class="number">15</span> <span class="string">ec</span> <span class="number">91</span>  <span class="number">98</span> <span class="string">9d</span> <span class="number">68</span> <span class="string">e7</span> <span class="string">a0</span> <span class="string">2a</span> <span class="string">f3</span> <span class="string">5d</span>  <span class="string">|....,.....h..*.]|</span></span><br><span class="line"><span class="number">00000020</span>  <span class="string">b8</span> <span class="string">f3</span> <span class="number">18</span> <span class="string">c4</span> <span class="string">e2</span> <span class="number">28</span> <span class="string">6c</span> <span class="string">c6</span>  <span class="string">fe</span> <span class="number">03</span> <span class="number">36</span> <span class="string">e4</span> <span class="string">7d</span> <span class="number">67</span> <span class="number">84</span> <span class="string">2e</span>  <span class="string">|.....(l...6.&#125;g..|</span></span><br><span class="line"><span class="number">00000030</span>  <span class="string">0d</span> <span class="number">77</span> <span class="number">90</span> <span class="string">de</span> <span class="string">e3</span> <span class="string">2a</span> <span class="string">e0</span> <span class="string">7f</span>  <span class="string">f7</span> <span class="string">1d</span> <span class="string">ec</span> <span class="number">96</span> <span class="string">f8</span> <span class="string">6c</span> <span class="string">0c</span> <span class="string">e8</span>  <span class="string">|.w...*.......l..|</span></span><br><span class="line"><span class="number">00000040</span>  <span class="string">aa</span> <span class="string">7b</span> <span class="string">3f</span> <span class="number">45</span> <span class="string">2f</span> <span class="number">45</span> <span class="string">f1</span> <span class="string">5e</span>  <span class="number">90</span> <span class="string">1e</span> <span class="number">29</span> <span class="string">8b</span> <span class="number">39</span> <span class="number">91</span> <span class="number">91</span> <span class="string">ec</span>  <span class="string">|.&#123;?E/E.^..).9...|</span></span><br><span class="line"><span class="number">00000050</span>  <span class="string">d8</span> <span class="string">d3</span> <span class="number">48</span> <span class="number">79</span> <span class="string">ec</span> <span class="string">a4</span> <span class="string">db</span> <span class="string">d4</span>  <span class="number">74</span> <span class="string">d8</span> <span class="number">55</span> <span class="number">37</span> <span class="string">dd</span> <span class="number">81</span> <span class="number">57</span> <span class="number">92</span>  <span class="string">|..Hy....t.U7..W.|</span></span><br><span class="line"><span class="number">00000060</span>  <span class="number">96</span> <span class="number">86</span> <span class="string">b2</span> <span class="string">fc</span> <span class="number">64</span> <span class="number">24</span> <span class="string">ee</span> <span class="string">bf</span>  <span class="number">18</span> <span class="string">b2</span> <span class="number">25</span> <span class="string">ba</span> <span class="string">e0</span> <span class="string">eb</span> <span class="number">48</span> <span class="number">26</span>  <span class="string">|....d$....%...H&amp;|</span></span><br><span class="line"><span class="number">00000070</span>  <span class="string">f0</span> <span class="string">0d</span> <span class="string">4b</span> <span class="number">56</span> <span class="string">eb</span> <span class="number">49</span> <span class="number">67</span> <span class="string">4c</span>  <span class="number">70</span> <span class="number">48</span> <span class="string">c0</span> <span class="string">d7</span> <span class="number">18</span> <span class="number">47</span> <span class="string">e6</span> <span class="string">b8</span>  <span class="string">|..KV.IgLpH...G..|</span></span><br><span class="line"><span class="number">00000080</span>  <span class="string">1e</span> <span class="string">d5</span> <span class="number">95</span> <span class="string">ab</span> <span class="string">f5</span> <span class="number">61</span> <span class="string">6b</span> <span class="string">fe</span>  <span class="number">00</span> <span class="number">06</span> <span class="number">08</span> <span class="number">06</span> <span class="number">31</span> <span class="number">29</span> <span class="string">c3</span> <span class="string">0d</span>  <span class="string">|.....ak.....1)..|</span></span><br><span class="line"><span class="number">00000090</span>  <span class="number">32</span> <span class="string">c0</span> <span class="string">ff</span> <span class="number">63</span> <span class="number">80</span> <span class="string">f1</span> <span class="number">09</span> <span class="string">1c</span>  <span class="string">1e</span> <span class="number">92</span> <span class="number">66</span> <span class="string">9e</span> <span class="number">28</span> <span class="number">80</span> <span class="string">4a</span> <span class="number">94</span>  <span class="string">|2..c......f.(.J.|</span></span><br><span class="line"><span class="string">$</span> <span class="string">cp</span> <span class="string">/mnt/test_dir3/test_dir3_38.gz</span> <span class="string">./</span></span><br><span class="line"><span class="string">$</span> <span class="string">dd</span> <span class="string">if=/dev/loop20</span> <span class="string">bs=4096</span> <span class="string">of=test.gz</span> <span class="string">skip=$((0*103680+39461))</span> <span class="string">count=257</span> <span class="number">2</span><span class="string">&gt;/dev/null</span></span><br><span class="line"><span class="string">$</span> <span class="string">ls</span></span><br><span class="line"><span class="string">test_dir3_38.gz</span>  <span class="string">test.gz</span></span><br><span class="line"><span class="string">$</span> <span class="string">md5sum</span> <span class="string">test_dir3_38.gz</span> <span class="string">test.gz</span></span><br><span class="line"><span class="string">c21b7c488fc90f20e4e582d363a91512</span>  <span class="string">test_dir3_38.gz</span></span><br><span class="line"><span class="string">102ba8e07a5945d75b9bab81e3858a6c</span>  <span class="string">test.gz</span></span><br><span class="line"><span class="string">$</span> <span class="string">gzip</span> <span class="string">-d</span> <span class="string">test_dir3_38.gz</span></span><br><span class="line"><span class="string">$</span> <span class="string">gzip</span> <span class="string">-d</span> <span class="string">test.gz</span></span><br><span class="line"><span class="string">$</span> <span class="string">ls</span></span><br><span class="line"><span class="string">test</span>  <span class="string">test_dir3_38</span></span><br><span class="line"><span class="string">$</span> <span class="string">md5sum</span> <span class="string">test</span> <span class="string">test_dir3_38</span></span><br><span class="line"><span class="string">a1ed9882061fc7e9fe8ba9793c475913</span>  <span class="string">test</span></span><br><span class="line"><span class="string">a1ed9882061fc7e9fe8ba9793c475913</span>  <span class="string">test_dir3_38</span></span><br><span class="line"></span><br><span class="line"><span class="string">here</span> <span class="string">is</span> <span class="string">the</span> <span class="number">03</span> <span class="number">02</span> <span class="string">type,</span> <span class="string">next</span> <span class="string">is</span> <span class="string">the</span> <span class="string">b+</span> <span class="string">tree</span></span><br><span class="line"></span><br><span class="line"><span class="string">--------------create</span> <span class="string">test_dir4</span></span><br><span class="line"><span class="string">$</span> <span class="string">ls</span> <span class="string">-li</span> <span class="string">/mnt/</span></span><br><span class="line"><span class="string">total</span> <span class="number">260</span></span><br><span class="line">    <span class="number">179</span> <span class="string">drwxr-xr-x</span> <span class="number">149</span> <span class="string">root</span> <span class="string">root</span>   <span class="number">8192 </span><span class="string">Jul</span> <span class="number">21</span> <span class="number">21</span><span class="string">:23</span> <span class="string">etc</span></span><br><span class="line">    <span class="number">131</span> <span class="string">drwxr-xr-x</span>   <span class="number">2</span> <span class="string">root</span> <span class="string">root</span>    <span class="number">138</span> <span class="string">Jul</span> <span class="number">10</span> <span class="number">13</span><span class="string">:42</span> <span class="string">test_dir1</span></span><br><span class="line"><span class="number">1048704</span> <span class="string">drwxr-xr-x</span>   <span class="number">2</span> <span class="string">root</span> <span class="string">root</span>   <span class="number">4096 </span><span class="string">Aug</span>  <span class="number">1</span> <span class="number">12</span><span class="string">:24</span> <span class="string">test_dir2</span></span><br><span class="line">    <span class="number">138</span> <span class="string">drwxr-xr-x</span>   <span class="number">2</span> <span class="string">root</span> <span class="string">root</span>   <span class="number">4096 </span><span class="string">Jul</span> <span class="number">12</span> <span class="number">17</span><span class="string">:27</span> <span class="string">test_dir3</span></span><br><span class="line"> <span class="number">321910</span> <span class="string">drwxr-xr-x</span>   <span class="number">2</span> <span class="string">root</span> <span class="string">root</span> <span class="number">163840</span> <span class="string">Aug</span>  <span class="number">1</span> <span class="number">12</span><span class="string">:28</span> <span class="string">test_dir4</span></span><br><span class="line"><span class="string">$</span> <span class="string">xfs_db</span> <span class="string">-r</span> <span class="string">/dev/loop20</span> <span class="string">-c</span> <span class="string">&quot;convert inode 321910 agino&quot;</span></span><br><span class="line"><span class="number">0x4e976</span> <span class="string">(321910)</span></span><br><span class="line"><span class="string">$</span> <span class="string">xfs_db</span> <span class="string">-r</span> <span class="string">/dev/loop20</span> <span class="string">-c</span> <span class="string">&quot;convert inode 321910 agno&quot;</span></span><br><span class="line"><span class="number">0x0</span> <span class="string">(0)</span></span><br><span class="line"><span class="string">$</span> <span class="string">xfs_db</span> <span class="string">-r</span> <span class="string">/dev/loop20</span> <span class="string">-c</span> <span class="string">&quot;convert inode 321910 agblock&quot;</span></span><br><span class="line"><span class="number">0x9d2e</span> <span class="string">(40238)</span></span><br><span class="line"><span class="string">$</span> <span class="string">xfs_db</span> <span class="string">-r</span> <span class="string">/dev/loop20</span> <span class="string">-c</span> <span class="string">&quot;convert inode 321910 offset&quot;</span></span><br><span class="line"><span class="number">0x6</span> <span class="string">(6)</span></span><br><span class="line"></span><br><span class="line"><span class="string">$</span> <span class="string">dd</span> <span class="string">if=/dev/loop20</span> <span class="string">bs=4096</span> <span class="string">skip=$((0*103680</span> <span class="string">+</span> <span class="number">40238</span><span class="string">))</span> <span class="string">count=1</span> <span class="number">2</span><span class="string">&gt;</span> <span class="string">/dev/null</span> <span class="string">|</span> <span class="string">dd</span> <span class="string">bs=512</span> <span class="string">skip=6</span> <span class="string">count=1</span> <span class="number">2</span><span class="string">&gt;/dev/null</span> <span class="string">|</span> <span class="string">hexdump</span> <span class="string">-C</span></span><br><span class="line"><span class="number">00000000</span>  <span class="number">49</span> <span class="string">4e</span> <span class="number">41</span> <span class="string">ed</span> <span class="number">03</span> <span class="number">03</span> <span class="number">00</span> <span class="number">00</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="string">|INA.............|</span></span><br><span class="line">                    <span class="string">|-btree-|</span></span><br><span class="line"><span class="number">00000010</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">02</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="string">|................|</span></span><br><span class="line"><span class="number">00000020</span>  <span class="number">62</span> <span class="string">e7</span> <span class="number">56</span> <span class="string">8f</span> <span class="string">3b</span> <span class="number">47</span> <span class="string">f3</span> <span class="number">23</span>  <span class="number">62</span> <span class="string">e7</span> <span class="number">56</span> <span class="number">85</span> <span class="number">25</span> <span class="number">99</span> <span class="string">2b</span> <span class="string">b6</span>  <span class="string">|b.V.;G.#b.V.%.+.|</span></span><br><span class="line"><span class="number">00000030</span>  <span class="number">62</span> <span class="string">e7</span> <span class="number">56</span> <span class="number">85</span> <span class="number">25</span> <span class="number">99</span> <span class="string">2b</span> <span class="string">b6</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">02</span> <span class="number">80</span> <span class="number">00</span>  <span class="string">|b.V.%.+.........|</span></span><br><span class="line"><span class="number">00000040</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="string">3b</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">26</span>  <span class="string">|.......;.......&amp;|</span></span><br><span class="line">                                              <span class="string">|--The</span> <span class="string">number</span> <span class="string">of</span> <span class="string">extents</span> <span class="string">(bytes</span> <span class="number">76</span><span class="number">-79</span><span class="string">)--|</span> <span class="string">==</span> <span class="number">0x26</span> <span class="string">=</span> <span class="number">38</span></span><br><span class="line"></span><br><span class="line"><span class="number">00000050</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">02</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="string">3c</span> <span class="string">af</span> <span class="number">72</span> <span class="string">a8</span>  <span class="string">|............&lt;.r.|</span></span><br><span class="line"><span class="number">00000060</span>  <span class="string">ff</span> <span class="string">ff</span> <span class="string">ff</span> <span class="string">ff</span> <span class="string">f2</span> <span class="number">78</span> <span class="string">6d</span> <span class="number">68</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">13</span> <span class="number">91</span>  <span class="string">|.....xmh........|</span></span><br><span class="line"><span class="number">00000070</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">01</span> <span class="number">00</span> <span class="number">00</span> <span class="number">30</span> <span class="number">08</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="string">|......0.........|</span></span><br><span class="line"><span class="number">00000080</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="string">|................|</span></span><br><span class="line"><span class="number">00000090</span>  <span class="number">62</span> <span class="string">e7</span> <span class="number">54</span> <span class="string">f1</span> <span class="number">33</span> <span class="number">11</span> <span class="number">00</span> <span class="string">ea</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">04</span> <span class="string">e9</span> <span class="number">76</span>  <span class="string">|b.T.3..........v|</span></span><br><span class="line"><span class="string">000000a0</span>  <span class="number">70</span> <span class="number">46</span> <span class="string">3d</span> <span class="string">e0</span> <span class="number">05</span> <span class="number">01</span> <span class="number">40</span> <span class="number">81</span>  <span class="string">9e</span> <span class="number">24</span> <span class="string">f0</span> <span class="string">e8</span> <span class="number">71</span> <span class="number">91</span> <span class="number">88</span> <span class="number">84</span>  <span class="string">|pF=...@..$..q...|</span></span><br><span class="line"><span class="string">000000b0</span>  <span class="number">00</span> <span class="number">01</span> <span class="number">00</span> <span class="number">01</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="string">|................|</span></span><br><span class="line"><span class="string">The</span> <span class="string">root</span> <span class="string">of</span> <span class="string">the</span> <span class="string">B+Tree</span> <span class="string">starts</span> <span class="string">at</span> <span class="string">byte</span> <span class="string">offset</span> <span class="number">176</span> <span class="string">(0x0B0)</span></span><br><span class="line"><span class="string">right</span> <span class="string">after</span> <span class="string">the</span> <span class="string">inode</span> <span class="string">core</span></span><br><span class="line"><span class="string">The</span> <span class="string">first</span> <span class="string">two</span> <span class="string">bytes</span> <span class="string">are</span> <span class="string">the</span> <span class="string">level</span> <span class="string">of</span> <span class="string">this</span> <span class="string">node</span> <span class="string">in</span> <span class="string">the</span> <span class="string">tree</span></span><br><span class="line"><span class="string">The</span> <span class="string">value</span> <span class="number">1</span> <span class="string">indicates</span> <span class="string">that</span> <span class="string">this</span> <span class="string">is</span> <span class="string">an</span> <span class="string">interior</span> <span class="string">node</span> <span class="string">in</span> <span class="string">the</span> <span class="string">tree</span> <span class="string">rather</span> <span class="string">than</span> <span class="string">a</span> <span class="string">leaf</span> <span class="string">node.</span> </span><br><span class="line"><span class="string">The</span> <span class="string">next</span> <span class="string">two</span> <span class="string">bytes</span> <span class="string">are</span> <span class="string">the</span> <span class="string">number</span> <span class="string">of</span> <span class="string">entries</span> <span class="string">in</span> <span class="string">the</span> <span class="string">arrays</span> <span class="string">which</span> <span class="string">track</span> <span class="string">the</span> <span class="string">nodes</span> <span class="string">below</span> <span class="string">us</span> <span class="string">in</span> <span class="string">the</span> <span class="string">tree</span></span><br><span class="line"><span class="string">there</span> <span class="string">is</span> <span class="string">only</span> <span class="string">one</span> <span class="string">node</span> <span class="string">and</span> <span class="string">one</span> <span class="string">array</span> <span class="string">entry.</span> <span class="string">Four</span> <span class="string">padding</span> <span class="string">bytes</span> <span class="string">are</span> <span class="string">used</span> <span class="string">to</span> <span class="string">maintain</span> <span class="number">64</span><span class="string">-bit</span> <span class="string">alignment.</span></span><br><span class="line"></span><br><span class="line"><span class="string">000000c0</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="string">|................|</span></span><br><span class="line"><span class="string">*</span></span><br><span class="line"><span class="number">00000150</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="number">00</span> <span class="number">00</span> <span class="string">ab</span> <span class="string">2a</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="string">|...........*....|</span></span><br><span class="line">                             <span class="string">|--???-I&#x27;m</span> <span class="string">not</span> <span class="string">sure</span> <span class="number">0xab2a</span><span class="string">--|</span> <span class="number">43818</span></span><br><span class="line">                                                 <span class="number">000</span><span class="string">;0,0000,1010,1011,0010,1010</span></span><br><span class="line">                                              <span class="string">relative</span> <span class="string">block</span> <span class="number">43818</span> <span class="string">in</span> <span class="string">AG</span> <span class="number">0</span><span class="string">-----------------------</span></span><br><span class="line">                                                                                                <span class="string">|</span></span><br><span class="line"><span class="number">00000160</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="string">|................|</span>                  <span class="string">|</span></span><br><span class="line"><span class="string">*</span>                                                                                               <span class="string">|</span></span><br><span class="line"><span class="number">00000200</span>                                                                                        <span class="string">|</span></span><br><span class="line">                                                                                                <span class="string">|</span></span><br><span class="line"><span class="string">$</span> <span class="string">dd</span> <span class="string">if=/dev/loop20</span> <span class="string">bs=4096</span> <span class="string">skip=$((0*103680</span> <span class="string">+</span> <span class="number">43818</span><span class="string">))</span> <span class="string">count=2</span> <span class="number">2</span><span class="string">&gt;</span> <span class="string">/dev/null</span> <span class="string">|</span> <span class="string">hexdump</span> <span class="string">-C</span> <span class="string">-------|</span></span><br><span class="line">                                                           <span class="string">|</span></span><br><span class="line">                                                           <span class="string">---</span> <span class="string">just</span> <span class="string">try</span> <span class="string">to</span> <span class="string">get</span> <span class="number">2</span> <span class="string">pages,</span> <span class="literal">no</span> <span class="string">any</span> <span class="string">envidence</span></span><br><span class="line"><span class="string">tracks</span> <span class="string">the</span> <span class="string">extents</span> <span class="string">starting</span> <span class="string">from</span> <span class="string">the</span> <span class="string">start</span> <span class="string">of</span> <span class="string">the</span> <span class="string">file</span> <span class="string">(logical</span> <span class="string">offset</span> <span class="string">zero)</span></span><br><span class="line"></span><br><span class="line"><span class="number">00000000</span>  <span class="number">42</span> <span class="string">4d</span> <span class="number">41</span> <span class="number">33</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">26</span>  <span class="string">ff</span> <span class="string">ff</span> <span class="string">ff</span> <span class="string">ff</span> <span class="string">ff</span> <span class="string">ff</span> <span class="string">ff</span> <span class="string">ff</span>  <span class="string">|BMA3...&amp;........|</span></span><br><span class="line"><span class="number">0</span><span class="number">-3</span>     <span class="string">Magic</span> <span class="string">number</span>                        <span class="string">BMA3</span></span><br><span class="line"><span class="number">4</span><span class="number">-5</span>     <span class="string">Level</span> <span class="string">in</span> <span class="string">tree</span>                       <span class="number">0</span> <span class="string">(leaf</span> <span class="string">node)</span>  </span><br><span class="line"><span class="string">This</span> <span class="string">node</span> <span class="string">is</span> <span class="string">at</span> <span class="string">level</span> <span class="string">zero</span> <span class="string">in</span> <span class="string">the</span> <span class="string">tree,</span> <span class="string">which</span> <span class="string">means</span> <span class="string">it’s</span> <span class="string">a</span> <span class="string">leaf</span> <span class="string">node</span> <span class="string">containing</span> <span class="string">data</span></span><br><span class="line"></span><br><span class="line"><span class="number">6</span><span class="number">-7</span>     <span class="string">Number</span> <span class="string">of</span> <span class="string">extents</span>                   <span class="number">0x26</span><span class="string">=38</span></span><br><span class="line"><span class="string">In</span> <span class="string">this</span> <span class="string">case</span> <span class="string">the</span> <span class="string">data</span> <span class="string">is</span> <span class="string">extent</span> <span class="string">structures,</span> <span class="string">and</span> <span class="string">there</span> <span class="string">are</span> <span class="number">38</span> <span class="string">of</span> <span class="string">them</span> <span class="string">following</span> <span class="string">the</span> <span class="string">header</span></span><br><span class="line"></span><br><span class="line"><span class="number">8</span><span class="number">-15</span>    <span class="string">Left</span> <span class="string">sibling</span> <span class="string">pointer</span>                <span class="number">-1</span> <span class="string">(NULL)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="number">00000010</span>  <span class="string">ff</span> <span class="string">ff</span> <span class="string">ff</span> <span class="string">ff</span> <span class="string">ff</span> <span class="string">ff</span> <span class="string">ff</span> <span class="string">ff</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">05</span> <span class="number">59</span> <span class="number">50</span>  <span class="string">|..............YP|</span></span><br><span class="line"><span class="number">16</span><span class="number">-23</span>   <span class="string">Right</span> <span class="string">sibling</span> <span class="string">pointer</span>               <span class="number">-1</span> <span class="string">(NULL)</span></span><br><span class="line"><span class="number">24</span><span class="number">-31</span>   <span class="string">Sector</span> <span class="string">offset</span> <span class="string">of</span> <span class="string">this</span> <span class="string">block</span>         <span class="number">0x055950</span> <span class="string">=</span> <span class="number">350544</span></span><br><span class="line"></span><br><span class="line"><span class="number">00000020</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">01</span> <span class="number">00</span> <span class="number">00</span> <span class="number">27</span> <span class="number">82</span>  <span class="number">70</span> <span class="number">46</span> <span class="string">3d</span> <span class="string">e0</span> <span class="number">05</span> <span class="number">01</span> <span class="number">40</span> <span class="number">81</span>  <span class="string">|......&#x27;.pF=...@.|</span></span><br><span class="line"><span class="number">32</span><span class="number">-39</span>   <span class="string">LSN</span> <span class="string">of</span> <span class="string">last</span> <span class="string">update</span>      <span class="string">0x</span> <span class="number">01</span> <span class="number">00</span> <span class="number">00</span> <span class="number">27</span> <span class="number">82</span>            </span><br><span class="line"></span><br><span class="line"><span class="number">00000030</span>  <span class="string">9e</span> <span class="number">24</span> <span class="string">f0</span> <span class="string">e8</span> <span class="number">71</span> <span class="number">91</span> <span class="number">88</span> <span class="number">84</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">04</span> <span class="string">e9</span> <span class="number">76</span>  <span class="string">|.$..q..........v|</span></span><br><span class="line"><span class="number">40</span><span class="number">-55</span>   <span class="string">UUID</span>                                <span class="number">70</span> <span class="number">46</span> <span class="string">3d</span> <span class="string">e0</span> <span class="number">05</span> <span class="number">01</span> <span class="number">40</span> <span class="number">81</span> <span class="string">9e</span> <span class="number">24</span> <span class="string">f0</span> <span class="string">e8</span> <span class="number">71</span> <span class="number">91</span> <span class="number">88</span> <span class="number">84</span></span><br><span class="line"><span class="number">56</span><span class="number">-63</span>   <span class="string">Inode</span> <span class="string">owner</span> <span class="string">of</span> <span class="string">this</span> <span class="string">block</span>           <span class="number">0x04e976</span> <span class="string">=</span> <span class="number">321910</span> <span class="string">---------------000;0</span> <span class="string">,0100,1110,1001,0111,0110</span></span><br><span class="line"></span><br><span class="line"><span class="string">xfs_db&gt;</span> <span class="string">inode</span> <span class="number">321910</span></span><br><span class="line"><span class="string">xfs_db&gt;</span> <span class="string">addr</span> <span class="string">u3.bmbt.ptrs[1]</span></span><br><span class="line"><span class="string">xfs_db&gt;</span> <span class="string">p</span></span><br><span class="line"></span><br><span class="line"><span class="string">magic</span> <span class="string">=</span> <span class="number">0x424d4133</span></span><br><span class="line"><span class="string">level</span> <span class="string">=</span> <span class="number">0</span></span><br><span class="line"><span class="string">numrecs</span> <span class="string">=</span> <span class="number">38</span></span><br><span class="line"><span class="string">leftsib</span> <span class="string">=</span> <span class="literal">null</span></span><br><span class="line"><span class="string">rightsib</span> <span class="string">=</span> <span class="literal">null</span></span><br><span class="line"><span class="string">bno</span> <span class="string">=</span> <span class="number">350544</span></span><br><span class="line"><span class="string">lsn</span> <span class="string">=</span> <span class="number">0x100002782</span></span><br><span class="line"><span class="string">uuid</span> <span class="string">=</span> <span class="string">70463de0-0501-4081-9e24-f0e871918884</span></span><br><span class="line"><span class="string">owner</span> <span class="string">=</span> <span class="number">321910</span></span><br><span class="line"><span class="string">crc</span> <span class="string">=</span> <span class="number">0x934cfa70</span> <span class="string">(correct)</span></span><br><span class="line"><span class="string">recs[1-38]</span> <span class="string">=</span> [<span class="string">startoff</span>,<span class="string">startblock</span>,<span class="string">blockcount</span>,<span class="string">extentflag</span>] </span><br><span class="line"><span class="attr">startoff:</span>   <span class="string">索引文件逻辑起始块偏移量</span></span><br><span class="line"><span class="attr">startblock:</span> <span class="string">文件逻辑偏移量对应的磁盘物理起始块</span></span><br><span class="line"><span class="attr">blockcount:</span>  <span class="string">连续块个数</span></span><br><span class="line"><span class="attr">extentflag:</span> <span class="string">extent标志</span></span><br><span class="line"></span><br><span class="line"><span class="number">1</span><span class="string">:[0,41554,1,0]</span> </span><br><span class="line"><span class="number">2</span><span class="string">:[1,41556,3,0]</span> </span><br><span class="line"><span class="number">3</span><span class="string">:[4,41626,2,0]</span>  <span class="comment"># the full page only 4096 by hexdump, blockcount means consecutive ???</span></span><br><span class="line"><span class="string">dd</span> <span class="string">if=/dev/loop20</span> <span class="string">bs=4096</span> <span class="string">skip=$((0*103680</span> <span class="string">+</span> <span class="number">41554</span><span class="string">))</span> <span class="string">count=1</span> <span class="number">2</span><span class="string">&gt;</span> <span class="string">/dev/null</span> <span class="string">|</span> <span class="string">hexdump</span> <span class="string">-C</span> <span class="string">|</span> <span class="string">less</span></span><br><span class="line"><span class="string">dd</span> <span class="string">if=/dev/loop20</span> <span class="string">bs=4096</span> <span class="string">skip=$((0*103680</span> <span class="string">+</span> <span class="number">41556</span><span class="string">))</span> <span class="string">count=1</span> <span class="number">2</span><span class="string">&gt;</span> <span class="string">/dev/null</span> <span class="string">|</span> <span class="string">hexdump</span> <span class="string">-C</span> <span class="string">|</span> <span class="string">less</span></span><br><span class="line"><span class="string">dd</span> <span class="string">if=/dev/loop20</span> <span class="string">bs=4096</span> <span class="string">skip=$((0*103680</span> <span class="string">+</span> <span class="number">41626</span><span class="string">))</span> <span class="string">count=1</span> <span class="number">2</span><span class="string">&gt;</span> <span class="string">/dev/null</span> <span class="string">|</span> <span class="string">hexdump</span> <span class="string">-C</span> <span class="string">|</span> <span class="string">less</span></span><br><span class="line"></span><br><span class="line"><span class="number">4</span><span class="string">:[6,41629,3,0]</span> </span><br><span class="line"><span class="number">5</span><span class="string">:[9,41712,1,0]</span> </span><br><span class="line"><span class="number">6</span><span class="string">:[10,41714,2,0]</span> </span><br><span class="line"><span class="number">7</span><span class="string">:[12,41717,2,0]</span> </span><br><span class="line"><span class="number">8</span><span class="string">:[14,41800,2,0]</span> </span><br><span class="line"><span class="number">9</span><span class="string">:[16,43728,1,0]</span> </span><br><span class="line"><span class="number">10</span><span class="string">:[17,43730,2,0]</span> </span><br><span class="line"><span class="number">11</span><span class="string">:[19,43733,3,0]</span> </span><br><span class="line"><span class="number">12</span><span class="string">:[22,43817,1,0]</span> </span><br><span class="line"><span class="number">13</span><span class="string">:[23,43819,1,0]</span> </span><br><span class="line"><span class="number">14</span><span class="string">:[24,43821,2,0]</span> </span><br><span class="line"><span class="number">15</span><span class="string">:[26,43904,3,0]</span> </span><br><span class="line"><span class="number">16</span><span class="string">:[29,43908,2,0]</span> </span><br><span class="line"><span class="number">17</span><span class="string">:[31,43911,1,0]</span> </span><br><span class="line"><span class="number">18</span><span class="string">:[32,44000,2,0]</span> </span><br><span class="line"><span class="number">19</span><span class="string">:[34,44003,2,0]</span> </span><br><span class="line"><span class="number">20</span><span class="string">:[36,44006,2,0]</span> </span><br><span class="line"><span class="number">21</span><span class="string">:[38,44097,2,0]</span> </span><br><span class="line"><span class="number">22</span><span class="string">:[8388608,41555,1,0]</span> </span><br><span class="line"><span class="string">The</span> <span class="string">hash</span> <span class="string">lookup</span> <span class="string">table</span> <span class="string">for</span> <span class="string">this</span> <span class="string">directory</span> <span class="string">is</span> <span class="string">contained</span> <span class="string">in</span> <span class="string">the</span> <span class="string">fifteen</span> <span class="string">blocks</span> <span class="string">starting</span> <span class="string">at</span> <span class="string">logical</span> <span class="string">file</span> <span class="string">offset</span> <span class="number">8388608</span><span class="string">.</span> <span class="string">Because</span> <span class="string">the</span> <span class="string">hash</span> <span class="string">lookup</span> <span class="string">table</span> <span class="string">spans</span> <span class="string">multiple</span> <span class="string">blocks,</span> <span class="string">it</span> <span class="string">is</span> <span class="string">also</span> <span class="string">formatted</span> <span class="string">as</span> <span class="string">a</span> <span class="string">B+Tree.</span> <span class="string">The</span> <span class="string">initial</span> <span class="string">block</span> <span class="string">at</span> <span class="string">logical</span> <span class="string">offset</span> <span class="number">8388608</span> <span class="string">should</span> <span class="string">be</span> <span class="string">the</span> <span class="string">root</span> <span class="string">of</span> <span class="string">this</span> <span class="string">tree.</span> <span class="string">This</span> <span class="string">block</span> <span class="string">is</span> <span class="string">shown</span> <span class="string">below.</span></span><br><span class="line"></span><br><span class="line"><span class="string">$</span> <span class="string">dd</span> <span class="string">if=/dev/loop20</span> <span class="string">bs=4096</span> <span class="string">skip=$((0</span> <span class="string">+</span> <span class="number">41555</span><span class="string">))</span> <span class="string">count=1</span> <span class="number">2</span><span class="string">&gt;</span> <span class="string">/dev/null</span> <span class="string">|</span> <span class="string">hexdump</span> <span class="string">-C</span> <span class="string">|</span> <span class="string">less</span></span><br><span class="line"><span class="number">00000000</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="string">3e</span> <span class="string">be</span> <span class="number">00</span> <span class="number">00</span> <span class="string">0d</span> <span class="string">f2</span> <span class="string">d3</span> <span class="string">bd</span>  <span class="string">|........&gt;.......|</span></span><br><span class="line"><span class="number">0</span><span class="number">-3</span>      <span class="string">&quot;Forward&quot;</span> <span class="string">pointer</span>                  <span class="number">0</span></span><br><span class="line"><span class="number">4</span><span class="number">-7</span>      <span class="string">&quot;Back&quot;</span> <span class="string">pointer</span>                     <span class="number">0</span></span><br><span class="line"><span class="number">8</span><span class="number">-9</span>      <span class="string">Magic</span> <span class="string">number</span>                       <span class="number">0x3ebe</span></span><br><span class="line"><span class="number">10</span><span class="number">-11</span>    <span class="string">Padding</span> <span class="string">for</span> <span class="string">alignment</span>              <span class="string">zeroed</span></span><br><span class="line"><span class="number">12</span><span class="number">-15</span>    <span class="string">CRC32</span> <span class="string">checksum</span>                     <span class="number">0x0df2d3bd</span></span><br><span class="line"></span><br><span class="line"><span class="number">00000010</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">05</span> <span class="number">12</span> <span class="number">98</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">01</span> <span class="number">00</span> <span class="number">00</span> <span class="string">2e</span> <span class="string">ea</span>  <span class="string">|................|</span></span><br><span class="line"><span class="number">16</span><span class="number">-23</span>    <span class="string">Sector</span> <span class="string">offset</span> <span class="string">of</span> <span class="string">this</span> <span class="string">block</span>        <span class="number">0x051298</span> <span class="string">=</span> <span class="number">332440</span></span><br><span class="line"><span class="number">24</span><span class="number">-31</span>    <span class="string">LSN</span> <span class="string">of</span> <span class="string">last</span> <span class="string">update</span>                 <span class="number">0x0100002eea</span></span><br><span class="line"></span><br><span class="line"><span class="number">00000020</span>  <span class="number">70</span> <span class="number">46</span> <span class="string">3d</span> <span class="string">e0</span> <span class="number">05</span> <span class="number">01</span> <span class="number">40</span> <span class="number">81</span>  <span class="string">9e</span> <span class="number">24</span> <span class="string">f0</span> <span class="string">e8</span> <span class="number">71</span> <span class="number">91</span> <span class="number">88</span> <span class="number">84</span>  <span class="string">|pF=...@..$..q...|</span></span><br><span class="line"><span class="number">32</span><span class="number">-47</span>    <span class="string">UUID</span>                               <span class="number">70</span> <span class="number">46</span> <span class="string">3d</span> <span class="string">e0</span> <span class="number">05</span> <span class="number">01</span> <span class="number">40</span> <span class="number">81</span>  <span class="string">9e</span> <span class="number">24</span> <span class="string">f0</span> <span class="string">e8</span> <span class="number">71</span> <span class="number">91</span> <span class="number">88</span> <span class="number">84</span></span><br><span class="line"></span><br><span class="line"><span class="number">00000030</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">04</span> <span class="string">e9</span> <span class="number">76</span>  <span class="number">00</span> <span class="number">10</span> <span class="number">00</span> <span class="number">01</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="string">|.......v........|</span></span><br><span class="line"><span class="number">48</span><span class="number">-55</span>    <span class="string">Parent</span> <span class="string">inode</span>                       <span class="number">0x04e976</span></span><br><span class="line"><span class="number">56</span><span class="number">-57</span>    <span class="string">Number</span> <span class="string">of</span> <span class="string">array</span> <span class="string">entries</span>            <span class="number">16</span></span><br><span class="line"><span class="number">58</span><span class="number">-59</span>    <span class="string">Level</span> <span class="string">in</span> <span class="string">tree</span>                      <span class="number">01</span></span><br><span class="line"><span class="number">59</span><span class="number">-63</span>    <span class="string">Padding</span> <span class="string">for</span> <span class="string">alignment</span>              <span class="string">zeroed</span></span><br><span class="line"></span><br><span class="line"><span class="string">We</span> <span class="string">confirm</span> <span class="string">this</span> <span class="string">is</span> <span class="string">an</span> <span class="string">interior</span> <span class="string">node</span> <span class="string">of</span> <span class="string">a</span> <span class="string">B+Tree</span> <span class="string">by</span> <span class="string">looking</span> <span class="string">at</span> <span class="string">the</span> <span class="string">“Level</span> <span class="string">in</span> <span class="string">tree”</span> <span class="string">value</span> <span class="string">at</span> <span class="string">bytes</span> <span class="number">58</span><span class="number">-59</span><span class="bullet">-</span> <span class="string">interior</span> <span class="string">nodes</span> <span class="string">have</span> <span class="string">non-zero</span> <span class="string">values</span> <span class="string">here.</span> </span><br><span class="line"><span class="string">The</span> <span class="string">&#x27;forward&#x27;</span> <span class="string">and</span> <span class="string">&#x27;back&#x27;</span> <span class="string">pointers</span> <span class="string">being</span> <span class="string">zeroed</span> <span class="string">mean</span> <span class="string">there</span> <span class="string">are</span> <span class="literal">no</span> <span class="string">other</span> <span class="string">nodes</span> <span class="string">at</span> <span class="string">this</span> <span class="string">level,</span> <span class="string">so</span> <span class="string">we’re</span> <span class="string">sitting</span> <span class="string">at</span> <span class="string">the</span> <span class="string">root</span> <span class="string">of</span> <span class="string">the</span> <span class="string">tree.</span></span><br><span class="line"></span><br><span class="line"><span class="string">The</span> <span class="number">16</span><span class="string">(Number</span> <span class="string">of</span> <span class="string">array</span> <span class="string">entries)</span> <span class="string">other</span> <span class="string">blocks</span> <span class="string">that</span> <span class="string">hold</span> <span class="string">the</span> <span class="string">directory</span> <span class="string">entries</span> <span class="string">are</span> <span class="string">tracked</span> <span class="string">by</span> <span class="string">an</span> <span class="string">array</span> <span class="string">here</span> <span class="string">in</span> <span class="string">the</span> <span class="string">root</span> <span class="string">block.</span> <span class="string">Bytes</span> <span class="number">56</span><span class="number">-57</span> <span class="string">track</span> <span class="string">the</span> <span class="string">size</span> <span class="string">of</span> <span class="string">the</span> <span class="string">array,</span> <span class="string">and</span> <span class="string">the</span> <span class="string">array</span> <span class="string">itself</span> <span class="string">starts</span> <span class="string">at</span> <span class="string">byte</span> <span class="number">64</span> <span class="string">(0x40)</span></span><br><span class="line"><span class="string">Each</span> <span class="string">array</span> <span class="string">entry</span> <span class="string">contains</span> <span class="string">a</span> <span class="string">four</span> <span class="string">byte</span> <span class="string">hash</span> <span class="string">value</span> <span class="string">and</span> <span class="string">a</span> <span class="string">four</span> <span class="string">byte</span> <span class="string">logical</span> <span class="string">block</span> <span class="string">offset.</span> <span class="string">The</span> <span class="string">hash</span> <span class="string">value</span> <span class="string">in</span> <span class="string">each</span> <span class="string">array</span> <span class="string">entry</span> <span class="string">is</span> <span class="string">the</span> <span class="string">largest</span> <span class="string">hash</span> <span class="string">value</span> <span class="string">in</span> <span class="string">the</span> <span class="string">given</span> <span class="string">block</span></span><br><span class="line"></span><br><span class="line"><span class="string">xfs_db</span> <span class="string">-r</span> <span class="string">/dev/loop20</span></span><br><span class="line"><span class="string">xfs_db&gt;</span> <span class="string">fsblock</span> <span class="number">41555</span></span><br><span class="line"><span class="string">xfs_db&gt;</span> <span class="string">type</span> <span class="string">dir3</span></span><br><span class="line"><span class="string">xfs_db&gt;</span> <span class="string">p</span></span><br><span class="line"><span class="string">nhdr.info.hdr.forw</span> <span class="string">=</span> <span class="number">0</span></span><br><span class="line"><span class="string">nhdr.info.hdr.back</span> <span class="string">=</span> <span class="number">0</span></span><br><span class="line"><span class="string">nhdr.info.hdr.magic</span> <span class="string">=</span> <span class="number">0x3ebe</span></span><br><span class="line"><span class="string">nhdr.info.crc</span> <span class="string">=</span> <span class="number">0xdf2d3bd</span> <span class="string">(correct)</span></span><br><span class="line"><span class="string">nhdr.info.bno</span> <span class="string">=</span> <span class="number">332440</span></span><br><span class="line"><span class="string">nhdr.info.lsn</span> <span class="string">=</span> <span class="number">0x100002eea</span></span><br><span class="line"><span class="string">nhdr.info.uuid</span> <span class="string">=</span> <span class="string">70463de0-0501-4081-9e24-f0e871918884</span></span><br><span class="line"><span class="string">nhdr.info.owner</span> <span class="string">=</span> <span class="number">321910</span></span><br><span class="line"><span class="string">nhdr.count</span> <span class="string">=</span> <span class="number">16</span></span><br><span class="line"><span class="string">nhdr.level</span> <span class="string">=</span> <span class="number">1</span></span><br><span class="line"><span class="string">nbtree[0-15]</span> <span class="string">=</span> [<span class="string">hashval</span>,<span class="string">before</span>] </span><br><span class="line"><span class="number">0</span><span class="string">:[0x4502b2bb,8388610]</span> <span class="string">-----8388610=0x800002</span></span><br><span class="line"><span class="number">1</span><span class="string">:[0x450370b1,8388609]</span>     <span class="string">|</span></span><br><span class="line"><span class="number">2</span><span class="string">:[0x4503f333,8388611]</span>     <span class="string">|</span></span><br><span class="line"><span class="number">3</span><span class="string">:[0x81189895,8388612]</span>     <span class="string">|</span></span><br><span class="line"><span class="number">4</span><span class="string">:[0x81195a97,8388614]</span>     <span class="string">|</span></span><br><span class="line"><span class="number">5</span><span class="string">:[0x811b181b,8388613]</span>     <span class="string">|</span></span><br><span class="line"><span class="number">6</span><span class="string">:[0x81581b11,8388615]</span>     <span class="string">|</span></span><br><span class="line"><span class="number">7</span><span class="string">:[0x81591b11,8388620]</span>     <span class="string">|</span></span><br><span class="line"><span class="number">8</span><span class="string">:[0x8159d893,8388619]</span>     <span class="string">|</span></span><br><span class="line"><span class="number">9</span><span class="string">:[0x81781b11,8388621]</span>     <span class="string">|</span></span><br><span class="line"><span class="number">10</span><span class="string">:[0x81791b11,8388617]</span>    <span class="string">|</span></span><br><span class="line"><span class="number">11</span><span class="string">:[0x8179d893,8388616]</span>    <span class="string">|</span></span><br><span class="line"><span class="number">12</span><span class="string">:[0x817b5b15,8388618]</span>    <span class="string">|</span></span><br><span class="line"><span class="number">13</span><span class="string">:[0x81b89897,8388622]</span>    <span class="string">|</span></span><br><span class="line"><span class="number">14</span><span class="string">:[0x81b95a97,8388624]</span>    <span class="string">|</span></span><br><span class="line"><span class="number">15</span><span class="string">:[0xecdab05f,8388623]</span>    <span class="string">|</span></span><br><span class="line">                           <span class="string">|</span></span><br><span class="line">                           <span class="string">|</span></span><br><span class="line"><span class="number">00000040</span>  <span class="number">45</span> <span class="number">02</span> <span class="string">b2</span> <span class="string">bb</span> <span class="number">00</span> <span class="number">80</span> <span class="number">00</span> <span class="number">02</span>  <span class="number">45</span> <span class="number">03</span> <span class="number">70</span> <span class="string">b1</span> <span class="number">00</span> <span class="number">80</span> <span class="number">00</span> <span class="number">01</span>  <span class="string">|E.......E.p.....|</span></span><br><span class="line">              <span class="string">|</span>             <span class="string">|</span>        <span class="string">--------------|</span></span><br><span class="line">          <span class="string">|</span> <span class="string">hash</span>     <span class="string">|</span> <span class="string">logic</span> <span class="string">block</span> <span class="string">offset|</span></span><br><span class="line"><span class="number">00000050</span>  <span class="number">45</span> <span class="number">03</span> <span class="string">f3</span> <span class="number">33</span> <span class="number">00</span> <span class="number">80</span> <span class="number">00</span> <span class="number">03</span>  <span class="number">81</span> <span class="number">18</span> <span class="number">98</span> <span class="number">95</span> <span class="number">00</span> <span class="number">80</span> <span class="number">00</span> <span class="number">04</span>  <span class="string">|E..3............|</span></span><br><span class="line"><span class="number">00000060</span>  <span class="number">81</span> <span class="number">19</span> <span class="string">5a</span> <span class="number">97</span> <span class="number">00</span> <span class="number">80</span> <span class="number">00</span> <span class="number">06</span>  <span class="number">81</span> <span class="string">1b</span> <span class="number">18</span> <span class="string">1b</span> <span class="number">00</span> <span class="number">80</span> <span class="number">00</span> <span class="number">05</span>  <span class="string">|..Z.............|</span></span><br><span class="line"><span class="number">00000070</span>  <span class="number">81</span> <span class="number">58</span> <span class="string">1b</span> <span class="number">11</span> <span class="number">00</span> <span class="number">80</span> <span class="number">00</span> <span class="number">07</span>  <span class="number">81</span> <span class="number">59</span> <span class="string">1b</span> <span class="number">11</span> <span class="number">00</span> <span class="number">80</span> <span class="number">00</span> <span class="string">0c</span>  <span class="string">|.X.......Y......|</span></span><br><span class="line"><span class="number">00000080</span>  <span class="number">81</span> <span class="number">59</span> <span class="string">d8</span> <span class="number">93</span> <span class="number">00</span> <span class="number">80</span> <span class="number">00</span> <span class="string">0b</span>  <span class="number">81</span> <span class="number">78</span> <span class="string">1b</span> <span class="number">11</span> <span class="number">00</span> <span class="number">80</span> <span class="number">00</span> <span class="string">0d</span>  <span class="string">|.Y.......x......|</span></span><br><span class="line"><span class="number">00000090</span>  <span class="number">81</span> <span class="number">79</span> <span class="string">1b</span> <span class="number">11</span> <span class="number">00</span> <span class="number">80</span> <span class="number">00</span> <span class="number">09</span>  <span class="number">81</span> <span class="number">79</span> <span class="string">d8</span> <span class="number">93</span> <span class="number">00</span> <span class="number">80</span> <span class="number">00</span> <span class="number">08</span>  <span class="string">|.y.......y......|</span></span><br><span class="line"><span class="string">000000a0</span>  <span class="number">81</span> <span class="string">7b</span> <span class="string">5b</span> <span class="number">15</span> <span class="number">00</span> <span class="number">80</span> <span class="number">00</span> <span class="string">0a</span>  <span class="number">81</span> <span class="string">b8</span> <span class="number">98</span> <span class="number">97</span> <span class="number">00</span> <span class="number">80</span> <span class="number">00</span> <span class="string">0e</span>  <span class="string">|.&#123;[.............|</span></span><br><span class="line"><span class="string">000000b0</span>  <span class="number">81</span> <span class="string">b9</span> <span class="string">5a</span> <span class="number">97</span> <span class="number">00</span> <span class="number">80</span> <span class="number">00</span> <span class="number">10</span>  <span class="string">ec</span> <span class="string">da</span> <span class="string">b0</span> <span class="string">5f</span> <span class="number">00</span> <span class="number">80</span> <span class="number">00</span> <span class="string">0f</span>  <span class="string">|..Z........_....|</span></span><br><span class="line"></span><br><span class="line"><span class="string">000000c0</span>  <span class="number">06</span> <span class="string">8a</span> <span class="number">00</span> <span class="string">e4</span> <span class="number">00</span> <span class="number">00</span> <span class="number">01</span> <span class="number">42</span>  <span class="number">06</span> <span class="string">8a</span> <span class="number">00</span> <span class="string">e5</span> <span class="number">00</span> <span class="number">00</span> <span class="number">01</span> <span class="number">46</span>  <span class="string">|.......B.......F|</span></span><br><span class="line"><span class="string">000000d0</span>  <span class="number">06</span> <span class="string">8a</span> <span class="number">00</span> <span class="string">e6</span> <span class="number">00</span> <span class="number">00</span> <span class="number">01</span> <span class="string">4a</span>  <span class="number">06</span> <span class="string">8a</span> <span class="number">00</span> <span class="string">e7</span> <span class="number">00</span> <span class="number">00</span> <span class="number">01</span> <span class="string">4e</span>  <span class="string">|.......J.......N|</span></span><br><span class="line"><span class="number">000000e0</span>  <span class="number">06</span> <span class="string">8a</span> <span class="number">00</span> <span class="string">ec</span> <span class="number">00</span> <span class="number">00</span> <span class="number">01</span> <span class="number">62</span>  <span class="number">06</span> <span class="string">8a</span> <span class="number">00</span> <span class="string">ed</span> <span class="number">00</span> <span class="number">00</span> <span class="number">01</span> <span class="number">66</span>  <span class="string">|.......b.......f|</span></span><br><span class="line"><span class="string">000000f0</span>  <span class="number">06</span> <span class="string">8a</span> <span class="number">04</span> <span class="number">60</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="string">3a</span>  <span class="number">06</span> <span class="string">8a</span> <span class="number">04</span> <span class="number">61</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="string">3e</span>  <span class="string">|...`...:...a...&gt;|</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="number">23</span><span class="string">:[8388609,41624,2,0]</span> </span><br><span class="line"><span class="number">24</span><span class="string">:[8388611,41628,1,0]</span> </span><br><span class="line"><span class="number">25</span><span class="string">:[8388612,41713,1,0]</span> </span><br><span class="line"><span class="number">26</span><span class="string">:[8388613,41716,1,0]</span> </span><br><span class="line"><span class="number">27</span><span class="string">:[8388614,41719,1,0]</span> </span><br><span class="line"><span class="number">28</span><span class="string">:[8388615,43729,1,0]</span> </span><br><span class="line"><span class="number">29</span><span class="string">:[8388616,43732,1,0]</span> </span><br><span class="line"><span class="number">30</span><span class="string">:[8388617,43816,1,0]</span> </span><br><span class="line"><span class="number">31</span><span class="string">:[8388618,43820,1,0]</span> </span><br><span class="line"><span class="number">32</span><span class="string">:[8388619,43823,1,0]</span> </span><br><span class="line"><span class="number">33</span><span class="string">:[8388620,43907,1,0]</span> </span><br><span class="line"><span class="number">34</span><span class="string">:[8388621,43910,1,0]</span> </span><br><span class="line"><span class="number">35</span><span class="string">:[8388622,44002,1,0]</span> </span><br><span class="line"><span class="number">36</span><span class="string">:[8388623,44005,1,0]</span> </span><br><span class="line"><span class="number">37</span><span class="string">:[8388624,44096,1,0]</span> </span><br><span class="line"><span class="number">38</span><span class="string">:[16777216,41559,1,0]</span></span><br><span class="line">               <span class="string">|</span></span><br><span class="line">               <span class="string">--------------------------</span></span><br><span class="line">                                        <span class="string">|</span></span><br><span class="line"><span class="string">dd</span> <span class="string">if=/dev/loop20</span> <span class="string">bs=4096</span> <span class="string">skip=$((0</span> <span class="string">+</span> <span class="number">41559</span><span class="string">))</span> <span class="string">count=1</span> <span class="number">2</span><span class="string">&gt;</span> <span class="string">/dev/null</span> <span class="string">|</span> <span class="string">hexdump</span> <span class="string">-C</span></span><br><span class="line"></span><br><span class="line"><span class="number">00000000</span>  <span class="number">58</span> <span class="number">44</span> <span class="number">46</span> <span class="number">33</span> <span class="string">0d</span> <span class="number">45</span> <span class="string">b5</span> <span class="number">52</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">05</span> <span class="number">12</span> <span class="string">b8</span>  <span class="string">|XDF3.E.R........|</span></span><br><span class="line"><span class="number">0</span><span class="number">-3</span>      <span class="string">Magic</span> <span class="string">number</span>                       <span class="string">XDF3</span></span><br><span class="line"><span class="number">4</span><span class="number">-7</span>      <span class="string">CRC32</span> <span class="string">checksum</span>                     <span class="number">0x0d45b552</span></span><br><span class="line"><span class="number">8</span><span class="number">-15</span>     <span class="string">Sector</span> <span class="string">offset</span> <span class="string">of</span> <span class="string">this</span> <span class="string">block</span>        <span class="number">0x0512b8</span> <span class="string">=</span> <span class="number">332472</span></span><br><span class="line"><span class="number">00000010</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">01</span> <span class="number">00</span> <span class="number">00</span> <span class="string">2f</span> <span class="string">fb</span>  <span class="number">70</span> <span class="number">46</span> <span class="string">3d</span> <span class="string">e0</span> <span class="number">05</span> <span class="number">01</span> <span class="number">40</span> <span class="number">81</span>  <span class="string">|....../.pF=...@.|</span></span><br><span class="line"><span class="number">16</span><span class="number">-23</span>    <span class="string">Last</span> <span class="string">LSN</span> <span class="string">update</span>                    <span class="number">0x0100002ffb</span></span><br><span class="line"><span class="number">00000020</span>  <span class="string">9e</span> <span class="number">24</span> <span class="string">f0</span> <span class="string">e8</span> <span class="number">71</span> <span class="number">91</span> <span class="number">88</span> <span class="number">84</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">04</span> <span class="string">e9</span> <span class="number">76</span>  <span class="string">|.$..q..........v|</span></span><br><span class="line"><span class="number">24</span><span class="number">-39</span>    <span class="string">UUID</span>                               <span class="number">70</span> <span class="number">46</span> <span class="string">3d</span> <span class="string">e0</span> <span class="number">05</span> <span class="number">01</span> <span class="number">40</span> <span class="number">81</span> <span class="string">9e</span> <span class="number">24</span> <span class="string">f0</span> <span class="string">e8</span> <span class="number">71</span> <span class="number">91</span> <span class="number">88</span> <span class="number">84</span></span><br><span class="line"><span class="number">40</span><span class="number">-47</span>    <span class="string">Inode</span> <span class="string">that</span> <span class="string">points</span> <span class="string">to</span> <span class="string">this</span> <span class="string">block</span>    <span class="number">0x04e976</span> <span class="string">=</span> <span class="number">321910</span></span><br><span class="line"><span class="number">00000030</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">28</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">28</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="string">|.......(...(....|</span></span><br><span class="line"><span class="number">48</span><span class="number">-51</span>    <span class="string">Starting</span> <span class="string">block</span> <span class="string">offset</span>              <span class="number">0</span></span><br><span class="line"><span class="number">52</span><span class="number">-55</span>    <span class="string">Size</span> <span class="string">of</span> <span class="string">array</span>                      <span class="number">0x28</span><span class="string">=40</span></span><br><span class="line"><span class="number">56</span><span class="number">-59</span>    <span class="string">Array</span> <span class="string">entries</span> <span class="string">used</span>                 <span class="number">0x28</span><span class="string">=40</span></span><br><span class="line"><span class="number">60</span><span class="number">-63</span>    <span class="string">Padding</span> <span class="string">for</span> <span class="number">64</span><span class="string">-bit</span> <span class="string">alignment</span>       <span class="string">zeroed</span></span><br><span class="line"></span><br><span class="line"><span class="number">00000040</span>  <span class="number">00</span> <span class="number">10</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="string">|................|</span></span><br><span class="line"><span class="number">00000050</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="string">|................|</span></span><br><span class="line"><span class="string">*</span></span><br><span class="line"><span class="number">00000080</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">05</span> <span class="number">08</span>  <span class="string">|................|</span></span><br><span class="line"><span class="string">The</span> <span class="string">last</span> <span class="string">two</span> <span class="string">fields</span> <span class="string">describe</span> <span class="string">an</span> <span class="string">array</span> <span class="string">whose</span> <span class="string">elements</span> <span class="string">correspond</span> <span class="string">to</span> <span class="string">the</span> <span class="string">blocks</span> <span class="string">in</span> <span class="string">the</span> <span class="string">hash</span> <span class="string">lookup</span> <span class="string">table</span> <span class="string">for</span> <span class="string">this</span> <span class="string">directory.</span> <span class="string">The</span> <span class="string">array</span> <span class="string">itself</span> <span class="string">follows</span> <span class="string">immediately</span> <span class="string">after</span> <span class="string">the</span> <span class="string">header</span> <span class="string">as</span> <span class="string">shown</span> <span class="string">above.</span> <span class="string">Each</span> <span class="string">element</span> <span class="string">of</span> <span class="string">the</span> <span class="string">array</span> <span class="string">is</span> <span class="string">a</span> <span class="string">two-byte</span> <span class="string">number</span> <span class="string">representing</span> <span class="string">the</span> <span class="string">largest</span> <span class="string">chunk</span> <span class="string">of</span> <span class="string">free</span> <span class="string">space</span> <span class="string">available</span> <span class="string">in</span> <span class="string">each</span> <span class="string">block.</span> <span class="string">In</span> <span class="string">our</span> <span class="string">example,</span> <span class="string">all</span> <span class="string">of</span> <span class="string">the</span> <span class="string">blocks</span> <span class="string">are</span> <span class="string">full</span> <span class="string">(zero</span> <span class="string">free</span> <span class="string">bytes)</span> <span class="string">except</span> <span class="string">for</span> <span class="string">the</span> <span class="string">last</span> <span class="string">block</span> <span class="string">which</span> <span class="string">has</span> <span class="string">at</span> <span class="string">least</span> <span class="string">a</span> <span class="number">0x0508</span> <span class="string">=</span> <span class="number">1288 </span><span class="string">byte</span> <span class="string">chunk</span> <span class="string">available.</span></span><br><span class="line"></span><br><span class="line"><span class="number">00000090</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="string">|................|</span></span><br><span class="line"><span class="string">*</span></span><br><span class="line"><span class="number">00001000</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">Starting</span> <span class="string">at</span> <span class="string">logical</span> <span class="string">offset</span> <span class="string">zero,</span> <span class="string">we</span> <span class="string">have</span> <span class="string">extents</span> <span class="number">1</span><span class="number">-21</span> <span class="string">containing</span> <span class="string">the</span> <span class="string">first</span> <span class="number">35</span> <span class="string">blocks</span> <span class="string">of</span> <span class="string">the</span> <span class="string">directory</span> <span class="string">file.</span> <span class="string">This</span> <span class="string">is</span> <span class="string">where</span> <span class="string">the</span> <span class="string">directory</span> <span class="string">entries</span> <span class="string">live</span></span><br><span class="line"><span class="string">Extents</span> <span class="number">22</span><span class="number">-37</span> <span class="string">starting</span> <span class="string">at</span> <span class="string">logical</span> <span class="string">offset</span> <span class="number">8388608</span> <span class="string">(XFS_DIR2_LEAF_OFFSET)</span> <span class="string">contain</span> <span class="string">the</span> <span class="string">hash</span> <span class="string">lookup</span> <span class="string">table</span> <span class="string">for</span> <span class="string">finding</span> <span class="string">directory</span> <span class="string">entries</span></span><br><span class="line"><span class="string">Because</span> <span class="string">the</span> <span class="string">hash</span> <span class="string">lookup</span> <span class="string">table</span> <span class="string">is</span> <span class="string">large</span> <span class="string">enough</span> <span class="string">to</span> <span class="string">require</span> <span class="string">multiple</span> <span class="string">blocks,</span> <span class="string">the</span> <span class="string">&#x27;tail record&#x27;</span> <span class="string">for</span> <span class="string">the</span> <span class="string">directory</span> <span class="string">moves</span> <span class="string">into</span> <span class="string">its</span> <span class="string">own</span> <span class="string">block</span> <span class="string">tracked</span> <span class="string">by</span> <span class="string">the</span> <span class="string">final</span> <span class="string">extent</span> <span class="string">(extent</span> <span class="number">38</span> <span class="string">in</span> <span class="string">our</span> <span class="string">example</span> <span class="string">above).</span>  <span class="string">The</span> <span class="string">logical</span> <span class="string">offset</span> <span class="string">for</span> <span class="string">the</span> <span class="string">tail</span> <span class="string">record</span> <span class="string">is</span> <span class="number">2</span><span class="string">*XFS_DIR2_LEAF_OFFSET</span> <span class="string">or</span> <span class="number">16777216</span></span><br><span class="line"></span><br><span class="line"><span class="number">00000040</span>  <span class="number">93</span> <span class="string">4c</span> <span class="string">fa</span> <span class="number">70</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="string">|.L.p............|</span></span><br><span class="line">                                <span class="string">|</span></span><br><span class="line"><span class="number">64</span><span class="number">-67</span>   <span class="string">CRC32</span> <span class="string">of</span> <span class="string">this</span> <span class="string">block</span>     <span class="string">|</span>           <span class="number">0x934cfa70</span></span><br><span class="line"><span class="number">68</span><span class="number">-71</span>   <span class="string">Padding</span> <span class="string">for</span> <span class="number">64</span><span class="string">-bit</span> <span class="string">alignment</span>        <span class="string">zeroed</span></span><br><span class="line"></span><br><span class="line"><span class="number">00000050</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">14</span> <span class="string">4a</span> <span class="number">40</span> <span class="number">00</span> <span class="number">01</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">02</span> <span class="number">00</span>  <span class="string">|....J@..........|</span></span><br><span class="line"><span class="number">00000060</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">14</span> <span class="string">4a</span> <span class="number">80</span> <span class="number">00</span> <span class="number">03</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">08</span> <span class="number">00</span>  <span class="string">|....J...........|</span></span><br><span class="line"><span class="number">00000070</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">14</span> <span class="number">53</span> <span class="number">40</span> <span class="number">00</span> <span class="number">02</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="string">0c</span> <span class="number">00</span>  <span class="string">|....S@..........|</span></span><br><span class="line"><span class="number">00000080</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">14</span> <span class="number">53</span> <span class="string">a0</span> <span class="number">00</span> <span class="number">03</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">12</span> <span class="number">00</span>  <span class="string">|....S...........|</span></span><br><span class="line"><span class="number">00000090</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">14</span> <span class="string">5e</span> <span class="number">00</span> <span class="number">00</span> <span class="number">01</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">14</span> <span class="number">00</span>  <span class="string">|....^...........|</span></span><br><span class="line"><span class="string">000000a0</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">14</span> <span class="string">5e</span> <span class="number">40</span> <span class="number">00</span> <span class="number">02</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">18</span> <span class="number">00</span>  <span class="string">|....^@..........|</span></span><br><span class="line"><span class="string">000000b0</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">14</span> <span class="string">5e</span> <span class="string">a0</span> <span class="number">00</span> <span class="number">02</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="string">1c</span> <span class="number">00</span>  <span class="string">|....^...........|</span></span><br><span class="line"><span class="string">000000c0</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">14</span> <span class="number">69</span> <span class="number">00</span> <span class="number">00</span> <span class="number">02</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">20</span> <span class="number">00</span>  <span class="string">|....i.........</span> <span class="string">.|</span></span><br><span class="line"><span class="string">000000d0</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">15</span> <span class="string">5a</span> <span class="number">00</span> <span class="number">00</span> <span class="number">01</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">22</span> <span class="number">00</span>  <span class="string">|....Z.........&quot;.|</span></span><br><span class="line"><span class="number">000000e0</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">15</span> <span class="string">5a</span> <span class="number">40</span> <span class="number">00</span> <span class="number">02</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">26</span> <span class="number">00</span>  <span class="string">|....Z@........&amp;.|</span></span><br><span class="line"><span class="string">000000f0</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">15</span> <span class="string">5a</span> <span class="string">a0</span> <span class="number">00</span> <span class="number">03</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="string">2c</span> <span class="number">00</span>  <span class="string">|....Z.........,.|</span></span><br><span class="line"><span class="string">....</span></span><br><span class="line"><span class="number">00000250</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">15</span> <span class="number">70</span> <span class="number">60</span> <span class="number">00</span> <span class="number">01</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">01</span> <span class="number">00</span> <span class="number">00</span> <span class="string">1a</span> <span class="number">00</span>  <span class="string">|....p`..........|</span></span><br><span class="line"><span class="number">00000260</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">15</span> <span class="number">70</span> <span class="string">c0</span> <span class="number">00</span> <span class="number">01</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">01</span> <span class="number">00</span> <span class="number">00</span> <span class="string">1c</span> <span class="number">00</span>  <span class="string">|....p...........|</span></span><br><span class="line"><span class="number">00000270</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">15</span> <span class="string">7c</span> <span class="number">40</span> <span class="number">00</span> <span class="number">01</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">01</span> <span class="number">00</span> <span class="number">00</span> <span class="string">1e</span> <span class="number">00</span>  <span class="string">|....|@..........|</span></span><br><span class="line"><span class="number">00000280</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">15</span> <span class="string">7c</span> <span class="string">a0</span> <span class="number">00</span> <span class="number">01</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">01</span> <span class="number">00</span> <span class="number">00</span> <span class="number">20</span> <span class="number">00</span>  <span class="string">|....|.........</span> <span class="string">.|</span></span><br><span class="line"><span class="number">00000290</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">15</span> <span class="number">88</span> <span class="number">00</span> <span class="number">00</span> <span class="number">01</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">02</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="string">|................|</span></span><br><span class="line"><span class="string">000002a0</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">14</span> <span class="string">4a</span> <span class="string">e0</span> <span class="number">00</span> <span class="number">01</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="string">|....J...........|</span></span><br><span class="line"><span class="string">000002b0</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="string">|................|</span></span><br><span class="line"><span class="string">*</span></span><br><span class="line"><span class="number">00001000</span>  <span class="number">58</span> <span class="number">44</span> <span class="number">44</span> <span class="number">33</span> <span class="number">12</span> <span class="number">71</span> <span class="number">02</span> <span class="string">8f</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">05</span> <span class="number">59</span> <span class="number">58</span>  <span class="string">|XDD3.q........YX|</span></span><br><span class="line"><span class="number">00001010</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">01</span> <span class="number">00</span> <span class="number">00</span> <span class="string">1d</span> <span class="number">82</span>  <span class="number">70</span> <span class="number">46</span> <span class="string">3d</span> <span class="string">e0</span> <span class="number">05</span> <span class="number">01</span> <span class="number">40</span> <span class="number">81</span>  <span class="string">|........pF=...@.|</span></span><br><span class="line"><span class="number">00001020</span>  <span class="string">9e</span> <span class="number">24</span> <span class="string">f0</span> <span class="string">e8</span> <span class="number">71</span> <span class="number">91</span> <span class="number">88</span> <span class="number">84</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">04</span> <span class="string">e9</span> <span class="number">76</span>  <span class="string">|.$..q..........v|</span></span><br><span class="line">                                                   <span class="string">|</span></span><br><span class="line">                                                   <span class="string">---printf</span> <span class="string">&quot;%d\n&quot;</span> <span class="number">0x04e976</span><span class="string">=321910</span></span><br><span class="line"><span class="string">$</span> <span class="string">ls</span> <span class="string">-li</span> <span class="string">/mnt/</span>                                                                 <span class="string">|</span></span><br><span class="line"><span class="string">total</span> <span class="number">260</span>                                                                      <span class="string">|</span></span><br><span class="line">    <span class="number">179</span> <span class="string">drwxr-xr-x</span> <span class="number">149</span> <span class="string">root</span> <span class="string">root</span>   <span class="number">8192 </span><span class="string">Jul</span> <span class="number">21</span> <span class="number">21</span><span class="string">:23</span> <span class="string">etc</span>                       <span class="string">|</span></span><br><span class="line">    <span class="number">131</span> <span class="string">drwxr-xr-x</span>   <span class="number">2</span> <span class="string">root</span> <span class="string">root</span>    <span class="number">138</span> <span class="string">Jul</span> <span class="number">10</span> <span class="number">13</span><span class="string">:42</span> <span class="string">test_dir1</span>                 <span class="string">|</span></span><br><span class="line"><span class="number">1048704</span> <span class="string">drwxr-xr-x</span>   <span class="number">2</span> <span class="string">root</span> <span class="string">root</span>   <span class="number">4096 </span><span class="string">Aug</span>  <span class="number">1</span> <span class="number">12</span><span class="string">:24</span> <span class="string">test_dir2</span>                 <span class="string">|</span></span><br><span class="line">    <span class="number">138</span> <span class="string">drwxr-xr-x</span>   <span class="number">2</span> <span class="string">root</span> <span class="string">root</span>   <span class="number">4096 </span><span class="string">Jul</span> <span class="number">12</span> <span class="number">17</span><span class="string">:27</span> <span class="string">test_dir3</span>                 <span class="string">|</span></span><br><span class="line"> <span class="number">321910</span> <span class="string">drwxr-xr-x</span>   <span class="number">2</span> <span class="string">root</span> <span class="string">root</span> <span class="number">163840</span> <span class="string">Aug</span>  <span class="number">1</span> <span class="number">12</span><span class="string">:28</span> <span class="string">test_dir4</span> <span class="string">-----------------</span></span><br><span class="line"></span><br><span class="line"><span class="number">00001030</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span>  <span class="string">|................|</span></span><br><span class="line"><span class="number">00001040</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">05</span> <span class="string">5a</span> <span class="string">4a</span>  <span class="string">0f</span> <span class="number">72</span> <span class="number">61</span> <span class="string">6e</span> <span class="number">64</span> <span class="string">5f</span> <span class="number">66</span> <span class="number">69</span>  <span class="string">|......ZJ.rand_fi|</span></span><br><span class="line"><span class="number">00001050</span>  <span class="string">6c</span> <span class="number">65</span> <span class="number">73</span> <span class="string">2e</span> <span class="number">32</span> <span class="number">38</span> <span class="number">39</span> <span class="number">39</span>  <span class="number">01</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">40</span>  <span class="string">|les.2899.......@|</span></span><br><span class="line"><span class="number">00001060</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">05</span> <span class="string">5a</span> <span class="string">4b</span>  <span class="string">0f</span> <span class="number">72</span> <span class="number">61</span> <span class="string">6e</span> <span class="number">64</span> <span class="string">5f</span> <span class="number">66</span> <span class="number">69</span>  <span class="string">|......ZK.rand_fi|</span></span><br><span class="line"><span class="number">00001070</span>  <span class="string">6c</span> <span class="number">65</span> <span class="number">73</span> <span class="string">2e</span> <span class="number">32</span> <span class="number">39</span> <span class="number">30</span> <span class="number">30</span>  <span class="number">01</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">60</span>  <span class="string">|les.2900.......`|</span></span><br><span class="line"><span class="number">00001080</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">05</span> <span class="string">5a</span> <span class="string">4c</span>  <span class="string">0f</span> <span class="number">72</span> <span class="number">61</span> <span class="string">6e</span> <span class="number">64</span> <span class="string">5f</span> <span class="number">66</span> <span class="number">69</span>  <span class="string">|......ZL.rand_fi|</span></span><br><span class="line"><span class="number">00001090</span>  <span class="string">6c</span> <span class="number">65</span> <span class="number">73</span> <span class="string">2e</span> <span class="number">32</span> <span class="number">39</span> <span class="number">30</span> <span class="number">31</span>  <span class="number">01</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">80</span>  <span class="string">|les.2901........|</span></span><br><span class="line"><span class="string">000010a0</span>  <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">05</span> <span class="string">5a</span> <span class="string">4d</span>  <span class="string">0f</span> <span class="number">72</span> <span class="number">61</span> <span class="string">6e</span> <span class="number">64</span> <span class="string">5f</span> <span class="number">66</span> <span class="number">69</span>  <span class="string">|......ZM.rand_fi|</span></span><br><span class="line"><span class="string">000010b0</span>  <span class="string">6c</span> <span class="number">65</span> <span class="number">73</span> <span class="string">2e</span> <span class="number">32</span> <span class="number">39</span> <span class="number">30</span> <span class="number">32</span>  <span class="number">01</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="number">00</span> <span class="string">a0</span>  <span class="string">|les.2902........|</span></span><br><span class="line"><span class="string">....</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

</div><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="mailto:undefined">Homer</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="http://yoursite.com/2019/11/26/xfs/">http://yoursite.com/2019/11/26/xfs/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/xfs/">xfs</a></div><div class="post_share"><div class="social-share" data-image="https://homerl.github.io/img/hard-disk_223cf.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2019/11/26/smartctl/"><img class="prev-cover" src="https://homerl.github.io/img/hard-disk_223cf.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">Previous Post</div><div class="prev_info">smartctl</div></div></a></div><div class="next-post pull-right"><a href="/2019/10/31/bcc/"><img class="next-cover" src="https://homerl.github.io/img/PROPELLER-2-1-1024x1024.png" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">Next Post</div><div class="next_info">Trace by bcc tools</div></div></a></div></nav><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> Comment</span></div></div><div class="comment-wrap"><div><div id="gitalk-container"></div></div></div></div></article></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2015 - 2022 By Homer</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><section id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Read Mode"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="Switch Between Light And Dark Mode"><i class="fas fa-adjust"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog"></i></button><a id="to_comment" href="#post-comment" title="Scroll To Comments"><i class="fas fa-comments"></i></a><button class="close" id="mobile-toc-button" type="button" title="Table Of Contents"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="Back To Top"><i class="fas fa-arrow-up"></i></button></div></section><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">Local search</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Search for Posts" type="text"/></div></div></div><hr/><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>Powered by</span> <a target="_blank" rel="noopener" href="https://github.com/wzpan/hexo-generator-search" style="color:#49B1F5;">hexo-generator-search</a></div></div></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div><div><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>function addGitalkSource () {
  const ele = document.createElement('link')
  ele.rel = 'stylesheet'
  ele.href= 'https://cdn.jsdelivr.net/npm/gitalk/dist/gitalk.min.css'
  document.getElementsByTagName('head')[0].appendChild(ele)
}

function loadGitalk () {
  function initGitalk () {
    var gitalk = new Gitalk({
      clientID: '0b9d5b98d0a972b33cf7',
      clientSecret: '769efc11b32f6c0d03bcbf3ee800dfc4e2690459',
      repo: 'homerl.github.io',
      owner: 'homerl',
      admin: ['homerl'],
      id: '4d072290ab17b7e95ec77f072bb3996b',
      language: 'en',
      perPage: 10,
      distractionFreeMode: false,
      pagerDirection: 'last',
      createIssueManually: false,
      updateCountCallback: commentCount
    })
    gitalk.render('gitalk-container')
  }

  if (typeof Gitalk === 'function') initGitalk()
  else {
    addGitalkSource()
    $.getScript('https://cdn.jsdelivr.net/npm/gitalk@latest/dist/gitalk.min.js', initGitalk)
  }
}

function commentCount(n){
  let isCommentCount = document.querySelector('#post-meta .gitalk-comment-count')
  if (isCommentCount) {
    isCommentCount.innerHTML= n
  }
}

if ('Gitalk' === 'Gitalk' || !false) {
  if (false) btf.loadComment(document.getElementById('gitalk-container'), loadGitalk)
  else loadGitalk()
} else {
  function loadOtherComment () {
    loadGitalk()
  }
}</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></div></body></html>